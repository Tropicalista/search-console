(function(t){function e(e){for(var a,r,o=e[0],c=e[1],l=e[2],d=0,h=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&h.push(n[r][0]),n[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(h.length)h.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,o=1;o<s.length;o++){var c=s[o];0!==n[c]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},n={app:0},i=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0e55":function(t,e,s){},"22d7":function(t,e,s){"use strict";var a=s("0e55"),n=s.n(a);n.a},"38b8":function(t,e,s){},"49f8":function(t,e,s){var a={"./en.json":"edd4","./it-IT.json":"bf7d"};function n(t){var e=i(t);return s(e)}function i(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=i,t.exports=n,n.id="49f8"},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d"),s("38b8");var a=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dashy-dashboard"},[s("notifications",{attrs:{group:"errors"}}),s("notifications",{attrs:{group:"settings"}}),s("router-view")],1)},i=[],r={name:"App",created:function(){gapi.auth.setToken({access_token:this.$store.getters.config.token})}},o=r,c=s("2877"),l=Object(c["a"])(o,n,i,!1,null,null,null),u=l.exports,d=s("8c4f"),h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-console"},[t.loaded?s("search-console"):t._e()],1)},m=[],p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pure-g"},[s("div",{staticClass:"pure-u-1"},[s("Chart",{ref:"chart",attrs:{dates:t.dates,filters:t.filters}})],1),s("div",{staticClass:"pure-u-1-1 promo"},[s("p",{domProps:{innerHTML:t._s(t.$t("promo"))}})]),s("div",{staticClass:"pure-u-1 pure-u-md-4-5 row l-box"},[s("custom-filters",{attrs:{searchType:t.searchType,dates:t.dates,filters:t.filters}})],1),s("div",{staticClass:"pure-u-1 pure-u-md-1-5 row"},[s("date-range",{attrs:{presets:t.ranges}})],1),s("div",{staticClass:"pure-u-1 pure-u-md-4-5 row"},[s("filter-tabs",{attrs:{dimension:t.dimension}})],1),s("div",{staticClass:"pure-u-1 pure-u-md-1-5 row"},[s("search-bar")],1),s("div",{staticClass:"pure-u-1-1"},[s("Table",{ref:"table",attrs:{dimension:t.dimension,filters:t.filters,searchFor:t.searchFor,searchType:t.searchType,dates:t.dates}})],1)])},f=[],v=(s("20d6"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dashy-gsc-container"},[s("vuetable",{ref:"vuetable",attrs:{"api-mode":!1,fields:t.fields,"data-total":t.dataCount,"data-manager":t.dataManager,"pagination-path":"pagination","per-page":t.perPage,css:t.mycss.table},on:{"vuetable:cell-clicked":t.onCellClicked,"vuetable:pagination-data":t.onPaginationData}}),s("vuetable-pagination",{ref:"pagination",staticClass:"pull-right",attrs:{css:t.mycss.pagination},on:{"vuetable-pagination:change-page":t.onChangePage}}),s("div",{staticClass:"paging pull-right"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.perPage,expression:"perPage"}],on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.perPage=e.target.multiple?s:s[0]},t.doFilter]}},[s("option",{domProps:{value:10}},[t._v("10")]),s("option",{domProps:{value:25}},[t._v("25")]),s("option",{domProps:{value:50}},[t._v("50")]),s("option",{domProps:{value:100}},[t._v("100")])])])],1)}),g=[],b=(s("ac6a"),s("386d"),s("3b2b"),s("c3d0")),y=s("3568"),w={abw:"Aruba",afg:"Afghanistan",ago:"Angola",aia:"Anguilla",ala:"Åland Islands",alb:"Albania",and:"Andorra",are:"United Arab Emirates (the)",arg:"Argentina",arm:"Armenia",asm:"American Samoa",ata:"Antarctica",atf:"French Southern Territories (the)",atg:"Antigua and Barbuda",aus:"Australia",aut:"Austria",aze:"Azerbaijan",bdi:"Burundi",bel:"Belgium",ben:"Benin",bes:"Bonaire, Sint Eustatius and Saba",bfa:"Burkina Faso",bgd:"Bangladesh",bgr:"Bulgaria",bhr:"Bahrain",bhs:"Bahamas (the)",bih:"Bosnia and Herzegovina",blm:"Saint Barthélemy",blr:"Belarus",blz:"Belize",bmu:"Bermuda",bol:"Bolivia (Plurinational State of)",bra:"Brazil",brb:"Barbados",brn:"Brunei Darussalam",btn:"Bhutan",bvt:"Bouvet Island",bwa:"Botswana",caf:"Central African Republic (the)",can:"Canada",cck:"Cocos (Keeling) Islands (the)",che:"Switzerland",chl:"Chile",chn:"China",civ:"Côte d'Ivoire",cmr:"Cameroon",cod:"Congo (the Democratic Republic of the)",cog:"Congo (the)",cok:"Cook Islands (the)",col:"Colombia",com:"Comoros (the)",cpv:"Cabo Verde",cri:"Costa Rica",cub:"Cuba",cuw:"Curaçao",cxr:"Christmas Island",cym:"Cayman Islands (the)",cyp:"Cyprus",cze:"Czechia",deu:"Germany",dji:"Djibouti",dma:"Dominica",dnk:"Denmark",dom:"Dominican Republic (the)",dza:"Algeria",ecu:"Ecuador",egy:"Egypt",eri:"Eritrea",esh:"Western Sahara*",esp:"Spain",est:"Estonia",eth:"Ethiopia",fin:"Finland",fji:"Fiji",flk:"Falkland Islands (the) [Malvinas]",fra:"France",fro:"Faroe Islands (the)",fsm:"Micronesia (Federated States of)",gab:"Gabon",gbr:"United Kingdom of Great Britain and Northern Ireland (the)",geo:"Georgia",ggy:"Guernsey",gha:"Ghana",gib:"Gibraltar",gin:"Guinea",glp:"Guadeloupe",gmb:"Gambia (the)",gnb:"Guinea-Bissau",gnq:"Equatorial Guinea",grc:"Greece",grd:"Grenada",grl:"Greenland",gtm:"Guatemala",guf:"French Guiana",gum:"Guam",guy:"Guyana",hkg:"Hong Kong",hmd:"Heard Island and McDonald Islands",hnd:"Honduras",hrv:"Croatia",hti:"Haiti",hun:"Hungary",idn:"Indonesia",imn:"Isle of Man",ind:"India",iot:"British Indian Ocean Territory (the)",irl:"Ireland",irn:"Iran (Islamic Republic of)",irq:"Iraq",isl:"Iceland",isr:"Israel",ita:"Italy",jam:"Jamaica",jey:"Jersey",jor:"Jordan",jpn:"Japan",kaz:"Kazakhstan",ken:"Kenya",kgz:"Kyrgyzstan",khm:"Cambodia",kir:"Kiribati",kna:"Saint Kitts and Nevis",kor:"Korea (the Republic of)",kwt:"Kuwait",lao:"Lao People's Democratic Republic (the)",lbn:"Lebanon",lbr:"Liberia",lby:"Libya",lca:"Saint Lucia",lie:"Liechtenstein",lka:"Sri Lanka",lso:"Lesotho",ltu:"Lithuania",lux:"Luxembourg",lva:"Latvia",mac:"Macao",maf:"Saint Martin (French part)",mar:"Morocco",mco:"Monaco",mda:"Moldova (the Republic of)",mdg:"Madagascar",mdv:"Maldives",mex:"Mexico",mhl:"Marshall Islands (the)",mkd:"Macedonia (the former Yugoslav Republic of)",mli:"Mali",mlt:"Malta",mmr:"Myanmar",mne:"Montenegro",mng:"Mongolia",mnp:"Northern Mariana Islands (the)",moz:"Mozambique",mrt:"Mauritania",msr:"Montserrat",mtq:"Martinique",mus:"Mauritius",mwi:"Malawi",mys:"Malaysia",myt:"Mayotte",nam:"Namibia",ncl:"New Caledonia",ner:"Niger (the)",nfk:"Norfolk Island",nga:"Nigeria",nic:"Nicaragua",niu:"Niue",nld:"Netherlands (the)",nor:"Norway",npl:"Nepal",nru:"Nauru",nzl:"New Zealand",omn:"Oman",pak:"Pakistan",pan:"Panama",pcn:"Pitcairn",per:"Peru",phl:"Philippines (the)",plw:"Palau",png:"Papua New Guinea",pol:"Poland",pri:"Puerto Rico",prk:"Korea (the Democratic People's Republic of)",prt:"Portugal",pry:"Paraguay",pse:"Palestine, State of",pyf:"French Polynesia",qat:"Qatar",reu:"Réunion",rou:"Romania",rus:"Russian Federation (the)",rwa:"Rwanda",sau:"Saudi Arabia",sdn:"Sudan (the)",sen:"Senegal",sgp:"Singapore",sgs:"South Georgia and the South Sandwich Islands",shn:"Saint Helena, Ascension and Tristan da Cunha",sjm:"Svalbard and Jan Mayen",slb:"Solomon Islands",sle:"Sierra Leone",slv:"El Salvador",smr:"San Marino",som:"Somalia",spm:"Saint Pierre and Miquelon",srb:"Serbia",ssd:"South Sudan",stp:"Sao Tome and Principe",sur:"Suriname",svk:"Slovakia",svn:"Slovenia",swe:"Sweden",swz:"Swaziland",sxm:"Sint Maarten (Dutch part)",syc:"Seychelles",syr:"Syrian Arab Republic",tca:"Turks and Caicos Islands (the)",tcd:"Chad",tgo:"Togo",tha:"Thailand",tjk:"Tajikistan",tkl:"Tokelau",tkm:"Turkmenistan",tls:"Timor-Leste",ton:"Tonga",tto:"Trinidad and Tobago",tun:"Tunisia",tur:"Turkey",tuv:"Tuvalu",twn:"Taiwan (Province of China)",tza:"Tanzania, United Republic of",uga:"Uganda",ukr:"Ukraine",umi:"United States Minor Outlying Islands (the)",ury:"Uruguay",usa:"United States of America (the)",uzb:"Uzbekistan",vat:"Holy See (the)",vct:"Saint Vincent and the Grenadines",ven:"Venezuela (Bolivarian Republic of)",vgb:"Virgin Islands (British)",vir:"Virgin Islands (U.S.)",vnm:"Viet Nam",vut:"Vanuatu",wlf:"Wallis and Futuna",wsm:"Samoa",yem:"Yemen",zaf:"South Africa",zmb:"Zambia",zwe:"Zimbabwe",zzz:"Others"},k=function(t){return[{name:"keys",title:"",sortField:"keys",titleClass:"eight wide",callback:"keyFormat",width:"50%"},{name:"clicks",title:function(){return t.t("columns.clicks")},titleClass:"two wide",sortField:"clicks",width:"12.5%"},{name:"impressions",title:function(){return t.t("columns.impressions")},titleClass:"two wide",sortField:"impressions",width:"12.5%"},{name:"ctr",titleClass:"two wide",sortField:"ctr",callback:"ctrFormat",width:"12.5%"},{name:"position",title:function(){return t.t("columns.position")},titleClass:"two wide",sortField:"position",width:"12.5%"}]},C={table:{tableWrapper:"table-responsive",tableHeaderClass:"fixed",tableBodyClass:"fixed",tableClass:"table-responsive",loadingClass:"loading",ascendingIcon:"icon-up-open",descendingIcon:"icon-down-open",ascendingClass:"sorted-asc",descendingClass:"sorted-desc",sortableIcon:"grey sort icon",handleIcon:"grey sidebar icon"},pagination:{wrapperClass:"pagination",activeClass:"active large",disabledClass:"disabled",pageClass:"item",linkClass:"icon item",paginationClass:"ui bottom attached segment grid",paginationInfoClass:"left floated left aligned six wide column",dropdownClass:"ui search dropdown",icons:{first:"icon-angle-double-left",prev:"icon-left-chevron ",next:"icon-right-open ",last:"icon-angle-double-right"}},paginationInfo:{infoClass:"left floated left aligned six wide column"}},D=s("aa3a"),x=s.n(D),$={name:"Home",props:["dimension","filters","searchType","searchFor","dates"],data:function(){return{mycss:C,localData:[],perPage:10,dataCount:0,ranges:{"Last Week":[this.dayjs().startOf("week").subtract(6,"days"),this.dayjs().startOf("week")],"Last 28 Days":[this.dayjs().subtract(27,"days"),this.dayjs()],"Last Month":[this.dayjs().subtract(1,"month").startOf("month"),this.dayjs().subtract(1,"month").endOf("month")],"Last 3 Months":[this.dayjs().subtract(3,"month").startOf("month"),this.dayjs().subtract(1,"month").endOf("month")],"Last 6 Months":[this.dayjs().subtract(6,"month").startOf("month"),this.dayjs().subtract(1,"month").endOf("month")],"Last 12 Months":[this.dayjs().subtract(12,"month").startOf("month"),this.dayjs().subtract(1,"month").endOf("month")],"Last 16 Months":[this.dayjs().subtract(16,"month").startOf("month"),this.dayjs().subtract(1,"month").endOf("month")]},fields:k(this.$i18n),columns:["clicks","ctr","impressions","keys","position"]}},mounted:function(){var t=this;gapi.client.load("webmasters","v3").then((function(){gapi.auth.setToken({access_token:t.$store.getters.config.token}),t.getData()})),this.$events.$on("refresh-table",(function(e){return t.getData()})),this.$refs.vuetable.setData(this.localData)},watch:{localData:function(t,e){this.$refs.vuetable.refresh()}},methods:{keyFormat:function(t){return t[0]},ctrFormat:function(t){return(100*t).toFixed(2)+"%"},onPaginationData:function(t){this.$refs.pagination.setPaginationData(t)},onChangePage:function(t){this.$refs.vuetable.changePage(t)},dataManager:function(t,e){var s=this.localData;if(this.searchFor){var a=new RegExp(this.searchFor,"i");s=_.filter(s,(function(t){return t.keys[0].search(a)>=0}))}return t.length>0&&(s=_.orderBy(s,t[0].sortField,t[0].direction)),e=s?this.$refs.vuetable.makePagination(s.length):"",{pagination:e,data:_.slice(s,e.from-1,e.to)}},doFilter:function(){var t=this;a["default"].nextTick((function(){return t.$refs.vuetable.refresh()}))},onCellClicked:function(t,e,s){"country"==this.dimension&&(t.keys[0]=_.findKey(w,(function(e){return-1!==e.indexOf(t.keys[0])}))),this.localData=this.formatData([t]),this.$events.fire("add-filter",{dimension:this.dimension,operator:"equals",expression:t.keys[0]}),this.doFilter()},resetFilter:function(){this.searchFor="",this.$refs.vuetable.refresh()},setDate:function(t){this.startDate=this.dayjs(t.startDate).format("YYYY-MM-DD"),this.endDate=this.dayjs(t.endDate).format("YYYY-MM-DD"),this.getData()},formatData:function(t){return _.forEach(t,(function(t){t.position=parseFloat(t.position).toFixed(2),void 0==t.keys[0]&&(t.keys[0]="")})),t},getData:function(){var t=this;gapi.client.webmasters.searchanalytics.query({siteUrl:this.$store.getters.site,fields:"rows",rowLimit:null,searchType:this.searchType,startDate:this.dates.startDate,endDate:this.dates.endDate,dimensions:[this.dimension],dimensionFilterGroups:[{filters:this.filters}]}).then((function(e){"country"==t.dimension&&_.forEach(e.result.rows,(function(t){t.keys[0]=w[t.keys[0]]})),t.localData=t.formatData(e.result.rows)})).then(null,(function(t){console.log(t)}))}},components:{Vuetable:b["a"],VuetablePagination:y["a"]}},M=$,S=Object(c["a"])(M,v,g,!1,null,null,null),j=S.exports,A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pure-form"},[s("div",{staticClass:"inputaddon"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"inputaddon-field pure-input-1-4",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected=e.target.multiple?s:s[0]},t.setDate]}},[s("option",[t._v("Choose a daterange")]),t._l(t.ranges,(function(e){return s("option",{domProps:{value:e.value}},[t._v(t._s(e.label))])}))],2),s("v-date-picker",{attrs:{columns:2,"max-date":new Date,mode:"range","show-caps":"",popover:{placement:"bottom-end",visibility:"click"}},on:{input:t.setDateVcalendar},model:{value:t.selectedVcalendar,callback:function(e){t.selectedVcalendar=e},expression:"selectedVcalendar"}},[s("button",{staticClass:"inputaddon-item pure-button pure-button-primary"},[s("i",{staticClass:"icon-calendar"})])])],1)])},Y=[],F={props:["dates"],data:function(){return{selected:this.dates,selectedVcalendar:{start:this.dates.startDate,end:this.dates.endDate},ranges:[{label:"Last 28 Days",value:{startDate:this.dayjs().subtract(27,"days").format("YYYY-MM-DD"),endDate:this.dayjs(new Date).format("YYYY-MM-DD")}},{label:"Last Month",value:{startDate:this.dayjs().subtract(1,"month").startOf("month").format("YYYY-MM-DD"),endDate:this.dayjs().subtract(1,"month").endOf("month").format("YYYY-MM-DD")}},{label:"Last 3 Months",value:{startDate:this.dayjs().subtract(3,"month").startOf("month").format("YYYY-MM-DD"),endDate:this.dayjs().subtract(1,"month").endOf("month").format("YYYY-MM-DD")}},{label:"Last 6 Months",value:{startDate:this.dayjs().subtract(6,"month").startOf("month").format("YYYY-MM-DD"),endDate:this.dayjs().subtract(1,"month").endOf("month").format("YYYY-MM-DD")}},{label:"Last 12 Months",value:{startDate:this.dayjs().subtract(12,"month").startOf("month").format("YYYY-MM-DD"),endDate:this.dayjs().subtract(1,"month").endOf("month").format("YYYY-MM-DD")}},{label:"Last 16 Months",value:{startDate:this.dayjs().subtract(16,"month").startOf("month").format("YYYY-MM-DD"),endDate:this.dayjs().subtract(1,"month").endOf("month").format("YYYY-MM-DD")}}]}},methods:{setDate:function(){this.$events.fire("set-date",this.selected)},setDateVcalendar:function(t){this.selected={startDate:this.dayjs(t.start).format("YYYY-MM-DD"),endDate:this.dayjs(t.end).format("YYYY-MM-DD")},this.setDate()}}},T=F,O=Object(c["a"])(T,A,Y,!1,null,null,null),P=(O.exports,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"filter-bar"},[s("a",{staticClass:"tabs",class:{active:"query"==t.dimension},on:{click:function(e){return t.doFilter("query")}}},[t._v(t._s(t.$t("columns.query"))+"\n    ")]),s("a",{staticClass:"tabs",class:{active:"page"==t.dimension},on:{click:function(e){return t.doFilter("page")}}},[t._v(t._s(t.$t("columns.pages"))+"\n    ")]),s("a",{staticClass:"tabs",class:{active:"country"==t.dimension},on:{click:function(e){return t.doFilter("country")}}},[t._v(t._s(t.$t("columns.countries"))+"\n    ")]),s("a",{staticClass:"tabs",class:{active:"device"==t.dimension},on:{click:function(e){return t.doFilter("device")}}},[t._v(t._s(t.$t("columns.devices"))+"\n    ")])])}),R=[],I={props:["dimension"],methods:{doFilter:function(t){this.$events.fire("set-dimension",t)}}},N=I,z=Object(c["a"])(N,P,R,!1,null,null,null),q=z.exports,E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pure-form"},[s("div",{staticClass:"inputaddon"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchFor,expression:"searchFor"}],staticClass:"inputaddon-field pure-input-1-4",attrs:{type:"text",placeholder:t.$t("labels.keyword")},domProps:{value:t.searchFor},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.doFilter(e))},input:function(e){e.target.composing||(t.searchFor=e.target.value)}}}),s("button",{staticClass:"inputaddon-item pure-button pure-button-primary",on:{click:function(e){return e.preventDefault(),t.doFilter(e)}}},[s("i",{staticClass:"icon-search"})])])])},L=[],B={data:function(){return{searchFor:""}},methods:{doFilter:function(){this.$events.fire("filter-setSearch",this.searchFor)},resetFilter:function(){this.searchFor="",this.$events.fire("filter-resetSearch")}}},V=B,U=Object(c["a"])(V,E,L,!1,null,null,null),G=U.exports,H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[s("a",{staticClass:"pure-button pure-button-primary filter-button",on:{click:function(e){return t.showModalForm("searchTypeModal")}}},[t._v(t._s(t.$t("buttons.search_type"))+": "+t._s(t.searchType)),s("i",{staticClass:"search icon"})]),t._l(t.filters,(function(e){return s("a",{staticClass:"pure-button pure-button-primary filter-button"},[s("span",{on:{click:function(s){return t.showModalForm(e,!0)}}},[t._v(t._s(t.$t("filters."+e.dimension))+": "+t._s(e.expression))]),s("i",{staticClass:"icon-cancel",on:{click:function(s){return t.resetFilter(e)}}})])})),s("div",{staticClass:"dropdown",class:{active:t.isActive}},[s("a",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.away,expression:"away"}],staticClass:"pure-button pure-button-primary",on:{click:t.openDropDown}},[t._v(t._s(t.$t("buttons.new"))+" "),s("i",{staticClass:"icon-plus"})]),s("div",{staticClass:"dropdown-content"},t._l(t.options,(function(e){return s("div",{staticClass:"item",on:{click:function(s){return t.showModalForm(e.value)}}},[s("a",[t._v(t._s(e.text))])])})),0)]),s("transition",{attrs:{name:"modal"}},[t.showModal?s("mymodal",{on:{close:function(e){t.showModal=!1},clickAwayModal:function(e){t.showModal=!1}}},[s("h3",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("labels.select_filter")))]),s("template",{slot:"body"},[s(t.modalType,{ref:"myform",tag:"component",attrs:{dates:t.dates,searchType:t.searchType}})],1),s("template",{slot:"footer"},[s("div",{staticClass:"pure-button button-error modal-default-button filter-button",on:{click:function(e){t.showModal=!1}}},[t._v("\n          "+t._s(t.$t("buttons.cancel"))+"\n        ")]),s("div",{staticClass:"pure-button pure-button-primary modal-default-button",on:{click:function(e){return t.sendValue()}}},[t._v("\n          "+t._s(t.$t("buttons.ok"))+"\n        ")])])],2):t._e()],1)],2)},W=[],K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-mask"},[s("div",{staticClass:"modal-wrapper"},[s("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.clickAway,expression:"clickAway"}],staticClass:"modal-container"},[t._t("header",[t._v("Header")]),s("div",{staticClass:"modal-content"},[t._t("body",[t._v("Header")])],2),s("div",{staticClass:"modal-footer"},[t._t("footer",[t._v("Header")])],2)],2)])])},J=[],Q=s("c7db"),Z={directives:{onClickaway:Q["directive"]},methods:{clickAway:function(){this.$emit("close")}}},X=Z,tt=(s("22d7"),Object(c["a"])(X,K,J,!1,null,null,null)),et=tt.exports,st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"pure-form pure-form-stacked"},[s("fieldset",[s("label",{attrs:{for:"web"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"radio",value:"web"},domProps:{checked:t._q(t.search,"web")},on:{change:function(e){t.search="web"}}}),t._v("\n        Web\n      ")]),s("label",{attrs:{for:"image"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"radio",value:"image"},domProps:{checked:t._q(t.search,"image")},on:{change:function(e){t.search="image"}}}),t._v("\n        "+t._s(t.$t("filters.image"))+"\n      ")]),s("label",{attrs:{for:"video"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"radio",value:"video"},domProps:{checked:t._q(t.search,"video")},on:{change:function(e){t.search="video"}}}),t._v("\n        Video\n      ")])])])},at=[],nt={props:["searchType"],data:function(){return{search:this.searchType}}},it=nt,rt=Object(c["a"])(it,st,at,!1,null,null,null),ot=rt.exports,ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"pure-form pure-form-stacked"},[s("fieldset",[s("label",{attrs:{for:"desktop"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.device,expression:"device"}],attrs:{type:"radio",value:"desktop"},domProps:{checked:t._q(t.device,"desktop")},on:{change:[function(e){t.device="desktop"},function(e){return t.setFilter(t.device)}]}}),t._v("\n        Desktop\n      ")]),s("label",{attrs:{for:"mobile"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.device,expression:"device"}],attrs:{type:"radio",value:"mobile"},domProps:{checked:t._q(t.device,"mobile")},on:{change:[function(e){t.device="mobile"},function(e){return t.setFilter(t.device)}]}}),t._v("\n        Mobile\n      ")]),s("label",{attrs:{for:"tablet"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.device,expression:"device"}],attrs:{type:"radio",value:"tablet"},domProps:{checked:t._q(t.device,"tablet")},on:{change:[function(e){t.device="tablet"},function(e){return t.setFilter(t.device)}]}}),t._v("\n        Tablet\n      ")])])])},lt=[],ut={data:function(){return{device:null,filter:null}},methods:{setFilter:function(t){this.filter={dimension:"device",operator:"equals",expression:t}}}},dt=ut,ht=Object(c["a"])(dt,ct,lt,!1,null,null,null),mt=ht.exports,pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"pure-form pure-form-stacked"},[s("fieldset",[s("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.operator,expression:"filter.operator"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"operator",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"contains"}},[t._v(t._s(t.$t("filters.query"))+" "+t._s(t.$t("filters.containing")))]),s("option",{attrs:{value:"notContains"}},[t._v(t._s(t.$t("filters.query"))+" "+t._s(t.$t("filters.not_containing")))]),s("option",{attrs:{value:"equals"}},[t._v(t._s(t.$t("filters.query"))+" "+t._s(t.$t("filters.exactly")))])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.expression,expression:"filter.expression"}],attrs:{type:"text",required:"",placeholder:t.$t("labels.keyword")},domProps:{value:t.filter.expression},on:{input:function(e){e.target.composing||t.$set(t.filter,"expression",e.target.value)}}}),s("span",{staticClass:"pure-form-message"},[t._v(t._s(t.$t("messages.required")))])])])},ft=[],vt={data:function(){return{isActive:!1,filter:{operator:"contains",dimension:"query"}}}},gt=vt,bt=Object(c["a"])(gt,pt,ft,!1,null,null,null),yt=bt.exports,_t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"pure-form pure-form-stacked"},[s("fieldset",[s("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.operator,expression:"filter.operator"}],staticClass:"three wide column",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"operator",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"contains"}},[t._v(t._s(t.$t("filters.urls"))+" "+t._s(t.$t("filters.containing")))]),s("option",{attrs:{value:"notContains"}},[t._v(t._s(t.$t("filters.urls"))+" "+t._s(t.$t("filters.not_containing")))]),s("option",{attrs:{value:"equals"}},[t._v(t._s(t.$t("filters.url"))+" "+t._s(t.$t("filters.exactly")))])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.expression,expression:"filter.expression"}],attrs:{type:"text",required:"",placeholder:"http://www.example.com/foo"},domProps:{value:t.filter.expression},on:{input:function(e){e.target.composing||t.$set(t.filter,"expression",e.target.value)}}}),s("span",{staticClass:"pure-form-message"},[t._v(t._s(t.$t("messages.required")))])])])},wt=[],kt={data:function(){return{isActive:!1,filter:{operator:"contains",dimension:"page"}}}},Ct=kt,Dt=Object(c["a"])(Ct,_t,wt,!1,null,null,null),xt=Dt.exports,$t={mixins:[Q["mixin"]],props:["dates","searchType","filters"],data:function(){return{isActive:!1,drop:"",showModal:!1,showCloseIcon:!1,closeOnClickAway:!0,modalType:"",options:[{value:"queryForm",text:this.$t("columns.query")},{value:"pageForm",text:this.$t("columns.pages")},{value:"deviceForm",text:this.$t("columns.devices")}]}},mounted:function(){},methods:{showModalForm:function(t,e){e&&(t=t.dimension+"Form"),this.modalType=t,this.showModal=!0},sendValue:function(){"searchTypeModal"==this.$refs.myform.$options._componentTag?this.$events.fire("change-searchType",this.$refs.myform.search):this.$events.fire("add-filter",this.$refs.myform.filter),this.showModal=!1},resetFilter:function(t){var e=this.filters.indexOf(t);this.filters.splice(e,1),this.$events.fire("remove-filter",t)},openDropDown:function(){this.isActive=!this.isActive},onDateSelected:function(t){},away:function(){this.isActive=!1}},components:{mymodal:et,deviceForm:mt,pageForm:xt,queryForm:yt,searchTypeModal:ot}},Mt=$t,St=Object(c["a"])(Mt,H,W,!1,null,null,null),jt=St.exports,At=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"v-select"},[s("GChart",{ref:"chart",attrs:{type:"LineChart",data:t.chartData,options:t.chartOptions,events:t.chartEvents}})],1)},Yt=[],Ft={width:"100%",height:"400",colors:["#4285f4","#00bcd4","#009688","#673ab7"],smoothline:"true",focusTarget:"category",chartArea:{width:"100%",height:"80%"},hAxis:{gridlines:{count:0,minSpacing:150},minorGridlines:{count:0},showTextEvery:1,format:"MMM dd"},vAxis:{gridlines:{count:0,minSpacing:100},minorGridlines:{count:2},showTextEvery:2},vAxes:{0:{direction:-1,textPosition:"none"},1:{textPosition:"none"},2:{textPosition:"none"},3:{textPosition:"none"}},series:{0:{type:"line",targetAxisIndex:1,tooltip:!0},1:{type:"line",targetAxisIndex:2,tooltip:!0},2:{type:"line",targetAxisIndex:3,tooltip:!0},3:{type:"line",targetAxisIndex:0,tooltip:!0},4:{type:"line",targetAxisIndex:0,tooltip:!0}}},Tt={props:["dimension","filters","searchType","searchFor","dates"],data:function(){var t=this;return{chartData:[],chartOptions:Ft,chartEvents:{select:function(e){var s=t.$refs.chart.chartObject,a=s.getSelection()[0].column;if(a){var n=s.getSelection(),i=n[0].column-1;Ft.series[i].tooltip=!Ft.series[i].tooltip,0==Ft.series[i].lineWidth?(Ft.series[i].lineWidth=2,Ft.series[i].areaOpacity=.3):(Ft.series[i].lineWidth=0,Ft.series[i].areaOpacity=0),s.draw(t.chartData,Ft)}}}}},mounted:function(){var t=this;gapi.client.load("webmasters","v3").then((function(){gapi.auth.setToken({access_token:t.$store.getters.config.token}),t.getData()}))},methods:{getData:function(){var t=this;gapi.client.webmasters.searchanalytics.query({siteUrl:this.$store.getters.site,rowLimit:null,searchType:this.searchType,startDate:this.dates.startDate,endDate:this.dates.endDate,dimensions:["date"],dimensionFilterGroups:[{filters:this.filters}]}).then((function(e){t.chartData=t.formatData(e.result.rows)})).then(null,(function(t){console.log(t)}))},formatData:function(t){var e=this,s=new google.visualization.DataTable;return s.addColumn("date","Keys"),s.addColumn("number",e.$t("columns.clicks")),s.addColumn("number",e.$t("columns.impressions")),s.addColumn("number",e.$t("columns.ctr")),s.addColumn("number",e.$t("columns.position")),_.forEach(t,(function(t){s.addRow([e.dayjs(t.keys[0]).toDate(),t.clicks,t.impressions,100*t.ctr,parseFloat(t.position)])})),s}}},Ot=Tt,Pt=Object(c["a"])(Ot,At,Yt,!1,null,null,null),Rt=Pt.exports,It=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.away,expression:"away"}],staticClass:"pure-form datedropdown",class:{active:t.isActive}},[s("div",{staticClass:"inputaddon",on:{click:function(e){return t.openDropDown()}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.outputRange,expression:"outputRange"}],staticClass:"inputaddon-field pure-input-1-4",attrs:{type:"text",disabled:""},domProps:{value:t.outputRange},on:{input:function(e){e.target.composing||(t.outputRange=e.target.value)}}}),t._m(0)]),s("div",{staticClass:"datedropdown-content"},[s("div",{staticClass:"dropdown-panel"},[s("div",{staticClass:"presets-container"},[s("ul",t._l(t.presets,(function(e){return s("li",[s("a",{on:{click:function(s){return t.setPresets(e)}}},[t._v(t._s(e.label))])])})),0),s("div",{staticClass:"calendar-buttons"},[s("button",{staticClass:"pure-button pure-button-primary button-small filter-button",on:{click:function(e){return t.send()}}},[t._v("Apply")]),s("button",{staticClass:"pure-button pure-button-danger button-small",on:{click:t.away}},[t._v("Cancel")])])]),s("div",{staticClass:"calendar-container"},[s("div",{staticClass:"calendar"},[s("div",{staticClass:"toolbar"},[s("div",[s("a",{on:{click:t.prev}},[s("i",{staticClass:"icon-left-chevron "})])]),s("div",[t._v(t._s(t.currentMonthDate.format("MMM")))]),s("div",[s("a",{on:{click:t.next}},[s("i",{staticClass:"icon-right-open "})])])]),s("div",{staticClass:"calendar-grids"},[t._l(t.monthNames,(function(e){return s("div",[s("b",[t._v(t._s(e))])])})),t._l(t.month,(function(e,a){return s("div",{class:[t.isSelected(e)?"highlight":"",t.isSelectedRange(e)?"range":"",t.isAfter(e)?"":"disabled",t.isBefore(e)?"":"disabled"],style:{gridColumn:t.column(a)}},[s("a",{on:{click:function(s){return t.checkDate(e)}}},[t._v(t._s(e.format("D")))])])}))],2)]),s("div",{staticClass:"calendar"},[s("div",{staticClass:"toolbar"},[s("div",[s("a",{on:{click:t.prev}},[s("i",{staticClass:"icon-left-chevron "})])]),s("div",[t._v(t._s(t.currentMonthDate.add(1,"months").format("MMM")))]),s("div",[s("a",{on:{click:t.next}},[s("i",{staticClass:"icon-right-open "})])])]),s("div",{staticClass:"calendar-grids"},[t._l(t.monthNames,(function(e){return s("div",[s("b",[t._v(t._s(e))])])})),t._l(t.nextMonth,(function(e,a){return s("div",{class:[t.isSelected(e)?"highlight":"",t.isSelectedRange(e)?"range":"",t.isAfter(e)?"":"disabled",t.isBefore(e)?"":"disabled"],style:{gridColumn:t.column2(a)}},[s("a",{on:{click:function(s){return t.checkDate(e)}}},[t._v(t._s(e.format("D")))])])}))],2)])])])])])},Nt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"inputaddon-item pure-button pure-button-primary"},[s("i",{staticClass:"icon-calendar"})])}],zt=s("75fc"),qt=s("5e0f"),Et=s.n(qt),Lt=(s("9e30"),{mixins:[Q["mixin"]],props:["presets"],computed:{outputRange:function(){if(this.selectedRange.length>1)return this.selectedRange?this.start.format("MMM D YYYY")+" - "+this.end.format("MMM D YYYY"):""}},data:function(){return{currentMonthDate:dayjs(),month:[],nextMonth:[],monthNames:[],start:dayjs().add(-28,"days"),end:dayjs(),selectedRange:[],maxDate:dayjs(),minDate:dayjs().add(-60,"days"),isActive:!1}},mounted:function(){dayjs.extend(Et.a),dayjs.locale("en"),this.monthNames=dayjs().localeData().weekdaysMin(),this.getMonths(dayjs().startOf("month")),this.selectedRange=[this.start,this.end]},methods:{openDropDown:function(){this.isActive=!this.isActive},send:function(){this.$events.fire("update-range",{start:this.start.format("YYYY-MM-DD"),end:this.end.format("YYYY-MM-DD")}),this.openDropDown()},isSelected:function(t){return!(!t.isBefore(this.end,"day")||!t.isAfter(this.start,"day"))||!(!t.isSame(this.start,"day")&&!t.isSame(this.end,"day"))},isAfter:function(t){return!t.isAfter(this.maxDate,"day")},isBefore:function(t){return!t.isBefore(this.minDate,"day")},isSelectedRange:function(t){return!(!t.isSame(this.start,"day")&&!t.isSame(this.end,"day"))},column:function(t){if(0==t)return this.month[0].day()+1},column2:function(t){if(0==t)return this.nextMonth[0].day()+1},next:function(){var t=dayjs(this.month[1]).add(1,"months").startOf("month");this.getMonths(t)},prev:function(){var t=dayjs(this.month[1]).add(-1,"months").startOf("month");this.getMonths(t)},getMonths:function(t){this.currentMonthDate=t,this.month=Object(zt["a"])(Array(t.daysInMonth())).map((function(e,s){return t.clone().add(s,"day")})),this.nextMonth=Object(zt["a"])(Array(t.add(1,"months").daysInMonth())).map((function(e,s){return t.add(1,"months").clone().add(s,"day")}))},setRange:function(t){this.selectedRange.length>1&&this.clean(),this.selectedRange.length>0?this.end=t:this.start=t,this.$set(t,"selected",!t.selected),this.selectedRange.push(t),this.selectedRange.length>1&&(this.checkRange(),this.start=this.selectedRange[0],this.end=this.selectedRange[1])},selectDay:function(t){t.isBefore(this.start)&&this.$set(t,"selected",!value.selected)},checkDate:function(t){return!t.isAfter(this.maxDate,"day")&&(!t.isBefore(this.minDate,"day")&&void this.setRange(t))},checkRange:function(){this.selectedRange[1].isBefore(this.selectedRange[0])&&this.selectedRange.reverse()},setPresets:function(t){this.start=t.value.start,this.end=t.value.end},clean:function(){this.selectedRange=[],this.start="",this.end=""},away:function(){this.isActive=!1}}}),Bt=Lt,Vt=(s("afd4"),Object(c["a"])(Bt,It,Nt,!1,null,null,null)),Ut=Vt.exports,Gt={name:"SearchConsole",data:function(){return{dates:{startDate:this.dayjs().subtract(27,"days").format("YYYY-MM-DD"),endDate:this.dayjs(new Date).format("YYYY-MM-DD")},dimension:"query",searchFor:"",searchType:"web",filters:[],ranges:[{label:"Last Week",value:{start:dayjs().startOf("week").subtract(6,"days"),end:dayjs().startOf("week")}},{label:"Last 28 Days",value:{start:dayjs().subtract(27,"days"),end:dayjs()}},{label:"Last Month",value:{start:dayjs().subtract(1,"month").startOf("month"),end:dayjs().subtract(1,"month").endOf("month")}},{label:"Last 3 Months",value:{start:dayjs().subtract(3,"month").startOf("month"),end:dayjs().subtract(1,"month").endOf("month")}}]}},mounted:function(){var t=this;this.$events.$on("update-range",(function(e){return t.setDate(e)})),this.$events.$on("set-dimension",(function(e){return t.setDimension(e)})),this.$events.$on("remove-filter",(function(e){return t.removeFilter(e)})),this.$events.$on("add-filter",(function(e){return t.setFilter(e)})),this.$events.$on("change-searchType",(function(e){return t.setSearchType(e)})),this.$events.$on("filter-setSearch",(function(e){return t.onFilterSetSearch(e)})),this.$events.$on("filter-resetSearch",(function(e){return t.onFilterResetSearch()}))},methods:{getData:function(){var t=this;a["default"].nextTick((function(){t.$refs.table.getData(),t.$refs.chart.getData()}))},doFilter:function(){var t=this;a["default"].nextTick((function(){return t.$refs.table.$refs.vuetable.refresh()}))},setSearchType:function(t){this.searchType=t,this.getData()},onFilterSetSearch:function(t){this.searchFor=t,this.doFilter()},onFilterResetSearch:function(){this.searchFor="",this.doFilter()},setFilter:function(t){var e=_.findIndex(this.filters,{dimension:t.dimension});e?this.filters.push(t):this.filters.splice(e,1,t),this.getData()},removeFilter:function(t){_.remove(this.filters,t),this.getData()},setDimension:function(t){this.dimension=t,this.getData()},setDate:function(t){this.dates={startDate:t.start,endDate:t.end},this.getData()}},components:{Chart:Rt,FilterTabs:q,SearchBar:G,CustomFilters:jt,Table:j,DateRange:Ut}},Ht=Gt,Wt=Object(c["a"])(Ht,p,f,!1,null,null,null),Kt=Wt.exports,Jt={beforeRouteEnter:function(t,e,s){s((function(t){t.$store.getters.config.token&&t.$store.getters.config.site||s("/settings")}))},data:function(){return{loaded:!1}},mounted:function(){this.loaded=!0},components:{SearchConsole:Kt}},Qt=Jt,Zt=Object(c["a"])(Qt,h,m,!1,null,null,null),Xt=Zt.exports,te=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings"},[s("h1",[t._v("Settings")]),s("h1",{staticClass:"nav-tab-wrapper"},t._l(t.tabs,(function(e){return s("a",{key:e,staticClass:"nav-tab",class:{"nav-tab-active":t.selected==e},on:{click:function(s){t.selected=e}}},[t._v("\n\t\t\t\t"+t._s(t.$t("tabs."+e))+"\n\t\t\t")])})),0),s("br"),t.loaded?s(t.selected,{tag:"component"}):t._e(),s("div",{staticClass:"pure-g form-div"},[s("div",{staticClass:"pure-u-1-5 row"}),s("div",{staticClass:"pure-u-4-5 row"},[s("button",{staticClass:"pure-button pure-button-primary",on:{click:function(e){return t.storeSettings()}}},[t._v("\n\t\t\t\t\t"+t._s(t.$t("buttons.save"))+" "),t.spin?s("i",{staticClass:"icon-spin4 animate-spin"}):t._e()])])])],1)},ee=[],se=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pure-g form-div"},[s("div",{staticClass:"pure-u-1-5 l-box"},[s("b",[t._v(t._s(t.$t("labels.site_choose")))])]),s("div",{staticClass:"pure-u-4-5 l-box"},[s("div",{staticClass:"select-site"},[s("v-select",{attrs:{label:"siteUrl",options:t.sites,value:t.selected},on:{input:t.setSelected},model:{value:t.webmasters.site,callback:function(e){t.$set(t.webmasters,"site",e)},expression:"webmasters.site"}})],1)]),s("div",{staticClass:"pure-u-1-5 l-box"},[s("b",[t._v(t._s(t.$t("labels.verification")))])]),s("div",{staticClass:"pure-u-4-5 l-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.webmasters.siteVerification,expression:"webmasters.siteVerification"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.webmasters.siteVerification)?t._i(t.webmasters.siteVerification,null)>-1:t.webmasters.siteVerification},on:{change:[function(e){var s=t.webmasters.siteVerification,a=e.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=t._i(s,i);a.checked?r<0&&t.$set(t.webmasters,"siteVerification",s.concat([i])):r>-1&&t.$set(t.webmasters,"siteVerification",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.webmasters,"siteVerification",n)},t.getVerification]}}),s("i",{directives:[{name:"show",rawName:"v-show",value:t.showSpinner,expression:"showSpinner"}],staticClass:"dashicons dashicons-update spin"})]),s("div",{staticClass:"pure-u-1-5 l-box"},[s("b",[t._v(t._s(t.$t("labels.meta")))])]),s("div",{staticClass:"pure-u-4-5 l-box pure-form"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.webmasters.meta,expression:"webmasters.meta"}],staticClass:"pure-input-1-4",attrs:{type:"text"},domProps:{value:t.webmasters.meta},on:{input:function(e){e.target.composing||t.$set(t.webmasters,"meta",e.target.value)}}})])])},ae=[],ne=(s("a481"),{name:"Settings",data:function(){return{selected:"",sites:[],showSpinner:!1,webmasters:this.$store.getters.webmasters}},computed:{token:function(){return this.$store.getters.token}},mounted:function(){var t=this;gapi.client.load("webmasters","v3").then((function(){gapi.auth.setToken({access_token:t.token}),t.token&&t.getSites()}))},methods:{getSites:function(){var t=this;this.token&&(gapi.auth.setToken({access_token:this.token}),gapi.client.webmasters.sites.list().then((function(e){_.forEach(e.result.siteEntry,(function(e){t.sites.push(e.siteUrl)})),t.site||(t.site=e.result.siteEntry[0])})))},authenticate:function(){window.open(this.$store.getters.authUrl,"","width=400,height=600")},getToken:function(){var t=this;this.axios.post("/token",{code:this.code}).then((function(e){t.$store.commit("setToken",e.data.access_token),t.getSites()}))},setSelected:function(t){t?(this.$store.commit("setSite",t),this.getVerification()):this.site=""},getVerification:function(){if(this.webmasters.siteVerification&&this.webmasters.site.length){this.showSpinner=!0;var t=this;gapi.client.load("siteVerification","v1").then((function(){gapi.auth.setToken({access_token:t.token}),gapi.client.siteVerification.webResource.getToken({verificationMethod:"META",site:{identifier:t.$store.getters.site.replace("sc-domain:",""),type:"SITE"}}).then((function(e){t.webmasters.meta=e.result.token,t.showSpinner=!1}))}))}},revoke:function(){var t=this;this.axios.delete("/token").then((function(e){t.$store.dispatch("initialize")}))}}}),ie=ne,re=Object(c["a"])(ie,se,ae,!1,null,null,null),oe=re.exports,ce=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.token?t._e():s("div",{staticClass:"pure-g form-div"},[s("div",{staticClass:"pure-u-1-1 l-box"}),s("div",{staticClass:"pure-u-1-5 l-box"},[s("b",[t._v(t._s(t.$t("labels.access_token")))])]),s("div",{staticClass:"pure-u-4-5 l-box"},[s("button",{staticClass:"pure-button pure-button-primary",on:{click:function(e){return t.authenticate()}}},[t._v(t._s(t.$t("buttons.authorization")))])]),s("div",{staticClass:"pure-u-1-5 l-box"}),s("div",{staticClass:"pure-u-4-5 l-box"},[s("div",{staticClass:"pure-form"},[s("div",{staticClass:"inputaddon pure-u-1-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"inputaddon-field pure-input-1-4",attrs:{type:"text"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),s("button",{staticClass:"inputaddon-item pure-button pure-button-primary",on:{click:function(e){return e.preventDefault(),t.getToken(e)}}},[t._v(t._s(t.$t("buttons.authenticate")))])])]),s("p",{staticClass:"pure-form-message-inline"},[t._v(t._s(t.$t("messages.authenticate")))])])]),t.token?s("div",{staticClass:"pure-g form-div"},[s("div",{staticClass:"pure-u-1-5 l-box"},[s("b",[t._v(t._s(t.$t("labels.revoke_token")))])]),s("div",{staticClass:"pure-u-4-5 l-box"},[s("button",{staticClass:"pure-button button-secondary",on:{click:function(e){return t.revoke()}}},[t._v(t._s(t.$t("buttons.revoke")))])]),s("div",{staticClass:"pure-u-1-5 l-box"},[s("b",[t._v(t._s(t.$t("labels.site")))])]),s("div",{staticClass:"pure-u-4-5 l-box"},[t.showWebmasters?s("span",[t._v(t._s(t.config.site))]):t._e(),t.showWebmasters?t._e():s("span",[t._v(t._s(t.$t("messages.site")))])])]):t._e(),s("div",{staticClass:"pure-g form-div"},[s("div",{staticClass:"pure-u-1-5 l-box"},[s("b",[t._v(t._s(t.$t("labels.custom_credentials.main")))])]),s("div",{staticClass:"pure-u-4-5 l-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.custom_credentials,expression:"settings.custom_credentials"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.custom_credentials)?t._i(t.settings.custom_credentials,null)>-1:t.settings.custom_credentials},on:{change:[function(e){var s=t.settings.custom_credentials,a=e.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=t._i(s,i);a.checked?r<0&&t.$set(t.settings,"custom_credentials",s.concat([i])):r>-1&&t.$set(t.settings,"custom_credentials",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.settings,"custom_credentials",n)},function(e){return t.validate()}]}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.reset_token,expression:"settings.reset_token"}],attrs:{type:"checkbox",hidden:""},domProps:{checked:Array.isArray(t.settings.reset_token)?t._i(t.settings.reset_token,null)>-1:t.settings.reset_token},on:{change:function(e){var s=t.settings.reset_token,a=e.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=t._i(s,i);a.checked?r<0&&t.$set(t.settings,"reset_token",s.concat([i])):r>-1&&t.$set(t.settings,"reset_token",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.settings,"reset_token",n)}}})]),t.show?s("div",[s("div",{staticClass:"pure-u-1-5 l-box"},[s("b",[t._v(t._s(t.$t("labels.custom_credentials.client_id")))])]),s("div",{staticClass:"pure-u-4-5 l-box pure-form"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.credentials.clientId,expression:"settings.credentials.clientId"}],staticClass:"pure-input-1-4",attrs:{type:"text"},domProps:{value:t.settings.credentials.clientId},on:{input:function(e){e.target.composing||t.$set(t.settings.credentials,"clientId",e.target.value)}}}),s("span",{staticClass:"pure-form-message-inline"},[t._v(t._s(t.$t("messages.console"))),s("a",{attrs:{target:"_blank",href:"https://console.developers.google.com/"}},[t._v("Developer Console")])])]),s("div",{staticClass:"pure-u-1-5 l-box"},[s("b",[t._v(t._s(t.$t("labels.custom_credentials.client_secret")))])]),s("div",{staticClass:"pure-u-4-5 l-box pure-form"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.credentials.clientSecret,expression:"settings.credentials.clientSecret"}],staticClass:"pure-input-1-4",attrs:{type:"text"},domProps:{value:t.settings.credentials.clientSecret},on:{input:function(e){e.target.composing||t.$set(t.settings.credentials,"clientSecret",e.target.value)}}}),s("span",{staticClass:"pure-form-message-inline"},[t._v(t._s(t.$t("messages.console"))),s("a",{attrs:{target:"_blank",href:"https://console.developers.google.com/"}},[t._v("Developer Console")])])]),s("div",{staticClass:"pure-u-1-5 l-box"},[s("b",[t._v(t._s(t.$t("labels.custom_credentials.redirect_url")))])]),s("div",{staticClass:"pure-u-4-5 l-box pure-form"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.credentials.redirectUri,expression:"settings.credentials.redirectUri"}],staticClass:"pure-input-1-4",attrs:{type:"text"},domProps:{value:t.settings.credentials.redirectUri},on:{input:function(e){e.target.composing||t.$set(t.settings.credentials,"redirectUri",e.target.value)}}}),s("span",{staticClass:"pure-form-message-inline"},[t._v(t._s(t.$t("messages.redirect_url")))])])]):t._e()])])},le=[],ue={name:"Authentication",data:function(){return{code:"",show:this.$store.getters.settings.custom_credentials,config:this.$store.getters.config,settings:this.$store.getters.settings,showAnalytics:!1,showWebmasters:!1}},mounted:function(){this.showDetails()},computed:{token:function(){return this.$store.getters.token}},methods:{validate:function(){this.show=!this.show,this.settings.reset_token=!this.settings.reset_token},authenticate:function(){this.settings.custom_credentials?window.open(this.settings.credentials.redirectUri,"_blank"):window.open(this.$store.getters.config.authUrl,"","width=400,height=600")},getToken:function(){var t=this;this.axios.post("/token",{code:this.code}).then((function(e){t.$store.commit("setToken",e.data.access_token)}))},showDetails:function(){this.settings.analytics.account.length&&this.settings.analytics.webprop.length&&this.settings.analytics.profile.length&&(this.showAnalytics=!0),this.settings.webmasters.site.length&&(this.showWebmasters=!0)},revoke:function(){var t=this;this.axios.delete("/token").then((function(e){t.$store.commit("setToken",""),t.code=""}))}}},de=ue,he=Object(c["a"])(de,ce,le,!1,null,null,null),me=he.exports,pe={computed:{settings:function(){return this.$store.getters.settings}},data:function(){return{tabs:["authentication","searchConsole"],selected:"Authentication",spin:!1,loaded:!1}},mounted:function(){var t=this;this.axios.get("/settings").then((function(t){return t.data})).then((function(e){t.$store.commit("setSettings",e),t.loaded=!0}))},methods:{storeSettings:function(){var t=this,e=this.$store.getters.settings;t.spinner(),this.axios.post("/settings",{settings:e}).then((function(){t.spinner(),t.showMessage()}))},spinner:function(){this.spin=!this.spin},showMessage:function(){this.$notify({group:"settings",title:"Settings saved"})}},components:{Authentication:me,SearchConsole:oe}},fe=pe,ve=Object(c["a"])(fe,te,ee,!1,null,null,null),ge=ve.exports;a["default"].use(d["a"]);var be=new d["a"]({routes:[{path:"/",name:"SearchConsole",component:Xt},{path:"/settings",name:"Settings",component:ge}]});function ye(t){var e=jQuery;jQuery("body").removeClass("wp-core-ui wp-admin");var s=e("#toplevel_page_"+t),a=window.location.href,n=a.substr(a.indexOf("admin.php"));s.on("click","a",(function(){var t=e(this);e("ul.wp-submenu li",s).removeClass("current"),t.hasClass("wp-has-submenu")?e("li.wp-first-item",s).addClass("current"):t.parents("li").addClass("current")})),e("ul.wp-submenu a",s).each((function(t,s){e(s).attr("href")!==n||e(s).parent().addClass("current")}))}var _e=ye,we=s("bc3a"),ke=s.n(we),Ce=(s("2ef0"),s("5a0c")),De=s.n(Ce),xe=s("2f62"),$e={state:{config:{},loading:!1},mutations:{setConfig:function(t,e){t.config=e},setProfile:function(t,e){t.config.profile=e},setSite:function(t,e){t.config.site=e},setToken:function(t,e){t.config.token=e}},getters:{config:function(t){return t.config},authUrl:function(t){return t.config.authUrl},site:function(t){return t.config.site},token:function(t){return t.config.token},profile:function(t){return t.config.profile}},actions:{}},Me=$e,Se={state:{settings:{analytics:{account:"",webprop:"",profile:"",settings:{}},webmasters:{site:"",siteVerification:"",meta:""},credentials:{}},loading:!1},mutations:{setSettings:function(t,e){t.settings=_.merge(t.settings,e)},setAnalytics:function(t,e){t.settings.analytics=e},setWebmasters:function(t,e){t.settings.webmasters=e}},getters:{settings:function(t){return t.settings},analytics:function(t){return t.settings.analytics},webmasters:function(t){return t.settings.webmasters}},actions:{initialize:function(){var t=this;ke.a.get("/settings").then((function(t){return t.data})).then((function(e){t.commit("setSettings",e)}))},storeSettings:function(){ke.a.post("/settings",{settings:state.settings})}}},je=Se;a["default"].use(xe["a"]);var Ae=new xe["a"].Store({modules:{config:Me,settings:je}}),Ye=Ae,Fe=s("cb43"),Te=s("4a7a"),Oe=s.n(Te),Pe=s("ee98"),Re=s.n(Pe),Ie=(s("6dfc"),s("4917"),s("a925"));function Ne(){var t=s("49f8"),e={};return t.keys().forEach((function(s){var a=s.match(/([A-Za-z0-9-_]+)\./i);if(a&&a.length>1){var n=a[1];e[n]=t(s)}})),e}a["default"].use(Ie["a"]);var ze=new Ie["a"]({locale:document.querySelector("html").getAttribute("lang")||"en",fallbackLocale:"en",messages:Ne()});function qe(t){if(t.config.hasOwnProperty("errorHandle")&&!1===t.config.errorHandle)return Promise.reject(t);t.response&&a["default"].notify({group:"errors",title:"Error message",type:"error",text:t.response.data.message})}window.dayjs=De.a,window.axios=ke.a,ke.a.defaults.headers.common={"X-WP-Nonce":_nonce},ke.a.interceptors.response.use((function(t){return t}),qe),ke.a.defaults.baseURL=window.searchconsole.homeUrl+"/wp-json/searchconsole/api",a["default"].config.productionTip=!1,a["default"].prototype.$http=ke.a,a["default"].prototype.axios=ke.a,a["default"].prototype.dayjs=De.a,a["default"].use(x.a),a["default"].use(Fe["default"]),a["default"].use(Re.a),a["default"].component("v-select",Oe.a),gapi.load("client",(function(){ke.a.get("/config").then((function(t){return t.data})).then((function(t){Ye.commit("setConfig",t),new a["default"]({el:"#vue-admin-app",router:be,store:Ye,i18n:ze,render:function(t){return t(u)}})}))})),_e("search-console")},afd4:function(t,e,s){"use strict";var a=s("bced"),n=s.n(a);n.a},bced:function(t,e,s){},bf7d:function(t){t.exports=JSON.parse('{"labels":{"access_token":"Richiedi token di accesso","revoke_token":"Revoca token","site":"Sito","custom_credentials":{"main":"Credenziali personalizzate","client_id":"Client ID","client_secret":"Client Secret","redirect_url":"Redirect URL"},"site_choose":"Scegli sito","verification":"Aggiungi meta tag di verifica al sito?","meta":"Meta tag di verifica","keyword":"parola chiave","select_filter":"Seleziona un filtro"},"messages":{"authenticate":"Copia qui il codice di risposta e poi clicca sul bottone per ricevere il tuo token.","site":"Clicca sulla tab Search Console per impostare il sito.","console":"Per impostare le tue credenziali vai su ","redirect_url":"Non devi cambiare questo campo.","required":"Questo campo è obbligatorio."},"promo":"<b>Search Console</b> è ora completamente integrato in <b>Dashy - Advanced Google Analytics dashboard</b>. <a class=\'pure-button button-success\' href=\'https://www.tropicalseo.it/?utm_source=search-console-plugin&utm_medium=banner&utm_campaign=promo\'>Provalo ora! <i class=\'dashicons dashicons-external\'></i></a>","tabs":{"authentication":"Autenticazione","searchConsole":"Search Console"},"columns":{"query":"Query","pages":"Pagine","devices":"Dispositivi","countries":"Paesi","position":"Posizione","clicks":"Clicks","impressions":"Impressioni","ctr":"CTR"},"filters":{"urls":"URLs","url":"URL","query":"Query","page":"Pagina","device":"Dispositivo","country":"Paese","image":"Immagini","containing":"che contengono","not_containing":"che non contengono","exactly":"è esattamente"},"buttons":{"new":"Nuovo","search_type":"Tipo di ricerca","authenticate":"Autenticati","authorization":"Ottieni il codice di autorizzazione","revoke":"Revoca accesso","save":"Salva le impostazioni","cancel":"Cancella","ok":"Ok"}}')},edd4:function(t){t.exports=JSON.parse('{"labels":{"access_token":"Request access token","revoke_token":"Revoke token","site":"Choose site","custom_credentials":{"main":"Custom Credentials","client_id":"Client ID","client_secret":"Client Secret","redirect_url":"Redirect URL"},"verification":"Add verification meta tag to site?","meta":"Verification meta tag","keyword":"keyword","select_filter":"Select filter"},"messages":{"authenticate":"Paste here the response code and then click Authenticate button to receive your token.","site":"Please click on Search Console tab to set up your site.","console":"To set up your credentials, please go to ","redirect_url":"You must not change this.","required":"This is a required field."},"promo":"<b>Search Console</b> is now fully integrated in <b>Dashy - Advanced Google Analytics dashboard</b>. <a class=\'pure-button button-success\' href=\'https://www.tropicalseo.it/?utm_source=search-console-plugin&utm_medium=banner&utm_campaign=promo\'>Try now! <i class=\'dashicons dashicons-external\'></i></a>","tabs":{"authentication":"Authentication","searchConsole":"Search Console"},"columns":{"query":"Query","pages":"Pages","devices":"Devices","countries":"Countries","position":"Position","clicks":"Clicks","impressions":"Impressions","ctr":"CTR"},"filters":{"urls":"URLs","url":"URL","query":"Query","page":"Page","device":"Device","country":"Country","image":"Image","containing":"containing","not_containing":"not containing","exactly":"is exactly"},"buttons":{"new":"New","search_type":"Search type","authenticate":"Authenticate","authorization":"Get authorization code","revoke":"Revoke access","save":"Save settings","cancel":"Cancel","ok":"Ok"}}')}});