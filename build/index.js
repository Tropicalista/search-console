(()=>{var e,t={435:(e,t,n)=>{"use strict";const o=window.wp.element,r=window.wp.components;function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a.apply(this,arguments)}var i;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));var s="beforeunload";function l(e){e.preventDefault(),e.returnValue=""}function u(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}const c=window.wp.url,d=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,o=n.history;function r(){var e=n.location,t=e.pathname,r=e.search,a=e.hash,i=o.state||{};return[i.idx,{pathname:t,search:r,hash:a,state:i.usr||null,key:i.key||"default"}]}var c=null;n.addEventListener("popstate",(function(){if(c)f.call(c),c=null;else{var e=i.Pop,t=r(),n=t[0],o=t[1];if(f.length){if(null!=n){var a=g-n;a&&(c={action:e,location:o,retry:function(){E(-1*a)}},E(a))}}else b(e)}}));var d=i.Pop,p=r(),g=p[0],m=p[1],h=u(),f=u();function v(e){return"string"==typeof e?e:(n=(t=e).pathname,o=void 0===n?"/":n,r=t.search,a=void 0===r?"":r,i=t.hash,s=void 0===i?"":i,a&&"?"!==a&&(o+="?"===a.charAt(0)?a:"?"+a),s&&"#"!==s&&(o+="#"===s.charAt(0)?s:"#"+s),o);var t,n,o,r,a,i,s}function y(e,t){return void 0===t&&(t=null),a({pathname:m.pathname,hash:"",search:""},"string"==typeof e?function(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var o=e.indexOf("?");o>=0&&(t.search=e.substr(o),e=e.substr(0,o)),e&&(t.pathname=e)}return t}(e):e,{state:t,key:Math.random().toString(36).substr(2,8)})}function w(e,t){return[{usr:e.state,key:e.key,idx:t},v(e)]}function C(e,t,n){return!f.length||(f.call({action:e,location:t,retry:n}),!1)}function b(e){d=e;var t=r();g=t[0],m=t[1],h.call({action:d,location:m})}function E(e){o.go(e)}return null==g&&(g=0,o.replaceState(a({},o.state,{idx:g}),"")),{get action(){return d},get location(){return m},createHref:v,push:function e(t,r){var a=i.Push,s=y(t,r);if(C(a,s,(function(){e(t,r)}))){var l=w(s,g+1),u=l[0],c=l[1];try{o.pushState(u,"",c)}catch(e){n.location.assign(c)}b(a)}},replace:function e(t,n){var r=i.Replace,a=y(t,n);if(C(r,a,(function(){e(t,n)}))){var s=w(a,g),l=s[0],u=s[1];o.replaceState(l,"",u),b(r)}},go:E,back:function(){E(-1)},forward:function(){E(1)},listen:function(e){return h.push(e)},block:function(e){var t=f.push(e);return 1===f.length&&n.addEventListener(s,l),function(){t(),f.length||n.removeEventListener(s,l)}}}}(),p=d.push,g=d.replace;d.push=function(e,t){const n=(0,c.getQueryArgs)(window.location.href),o=(0,c.removeQueryArgs)(window.location.href,...Object.keys(n)),r=(0,c.addQueryArgs)(o,e);return p.call(d,r,t)},d.replace=function(e,t){const n=(0,c.getQueryArgs)(window.location.href),o=(0,c.removeQueryArgs)(window.location.href,...Object.keys(n)),r=(0,c.addQueryArgs)(o,e);return g.call(d,r,t)};const m=d,h=(0,o.createContext)(),f=(0,o.createContext)();function v(){return(0,o.useContext)(f)}function y(e){const t=new URLSearchParams(e.search);return{...e,params:Object.fromEntries(t.entries())}}function w(e){let{children:t}=e;const[n,r]=(0,o.useState)((()=>y(m.location)));return(0,o.useEffect)((()=>m.listen((e=>{let{location:t}=e;r(y(t))}))),[]),(0,o.createElement)(f.Provider,{value:m},(0,o.createElement)(h.Provider,{value:n},t))}const C=window.wp.apiFetch;var b=n.n(C);const E=window.wp.data,S=window.wp.date,R={settings:!1,sites:[{label:"Select a site",value:""}],customDate:!1,dimension:"query",searchType:"web",startDate:(0,S.dateI18n)("Y-m-d",(new Date).setDate((new Date).getDate()-29)),endDate:(0,S.dateI18n)("Y-m-d",(new Date).setDate((new Date).getDate()-1)),filters:[]},x={setSites:e=>({type:"SET_SITES",sites:e}),setSettings:e=>({type:"SET_SETTINGS",settings:e}),setSetting:(e,t)=>({type:"SET_SETTING",setting:e,value:t}),setSearchType:e=>({type:"SET_SEARCHTYPE",searchType:e}),setFilter:e=>({type:"SET_FILTER",filter:e}),setDimension:e=>({type:"SET_DIMENSION",dimension:e}),setCustomDate:e=>({type:"SET_CUSTOMDATE",val:e}),setStartDate:e=>({type:"SET_STARTDATE",date:e}),setEndDate:e=>({type:"SET_ENDDATE",date:e}),removeFilter:e=>({type:"REMOVE_FILTER",filter:e}),fetchFromAPI:e=>({type:"FETCH_FROM_API",path:e})},P=(0,E.createReduxStore)("searchconsole",{reducer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SETTINGS":return{...e,settings:t.settings};case"SET_SITES":return{...e,sites:t.sites};case"SET_SETTING":return{...e,settings:{...e.settings,[t.setting]:t.value}};case"SET_SEARCHTYPE":return{...e,searchType:t.searchType};case"SET_DIMENSION":return{...e,dimension:t.dimension};case"SET_CUSTOMDATE":return{...e,customDate:t.val};case"SET_STARTDATE":return{...e,startDate:t.date};case"SET_ENDDATE":return{...e,endDate:t.date};case"SET_FILTER":const n={dimension:t.filter.dimension,expression:t.filter.expression,operator:t.filter.operator},o=e.filters.filter((e=>e.dimension!==t.filter.dimension));return o.push(n),{...e,filters:o};case"REMOVE_FILTER":const r=e.filters.filter((e=>e.dimension!==t.filter.dimension));return{...e,filters:r}}return e},actions:x,selectors:{isReady(e){var t;return null!==(t=e.settings)&&void 0!==t&&t},getSettings(e){const{settings:t}=e;return t},getSites(e){const{sites:t}=e;return t},getSite(e){const{settings:t}=e;return t.site},getQuery(e){const{searchType:t,filters:n,dimension:o,startDate:r,endDate:a}=e;return{dimension:o,startDate:r,endDate:a,searchType:t,filters:n}},getFilterByDimension:(e,t)=>e.filters.length?e.filters.find((e=>e.dimension===t)):{dimension:"",expression:"",operator:""},getSearchType(e){const{searchType:t}=e;return t},getFilters(e){const{filters:t}=e;return t},getCustomDate(e){const{customDate:t}=e;return t}},controls:{FETCH_FROM_API:e=>b()({path:e.path})},resolvers:{*getSettings(){const e=yield x.fetchFromAPI("/searchconsole/v1/settings/");return x.setSettings(e)}}});(0,E.register)(P);const T=window.wp.i18n;function _(e){let{text:t}=e;return(0,o.createElement)("div",{className:"loading-settings"},(0,o.createElement)(r.Spinner,null),(0,o.createElement)("span",{className:"description"},t))}var k=n(196),I=n.n(k);function B(e){let{onLoad:t,onError:n,...o}=e;const[r,a]=function(e){let{chartVersion:t="current",chartPackages:n=["corechart","controls"],chartLanguage:o="en",mapsApiKey:r}=e;const[a,i]=(0,k.useState)(null),[s,l]=(0,k.useState)(!1);var u,c,d;return u="https://www.gstatic.com/charts/loader.js",c=()=>{const e=null===window||void 0===window?void 0:window.google;e&&(e.charts.load(t,{packages:n,language:o,mapsApiKey:r}),e.charts.setOnLoadCallback((()=>{i(e)})))},d=()=>{l(!0)},(0,k.useEffect)((()=>{if(!document)return;const e=document.querySelector('script[src="'.concat(u,'"]'));if(null==e?void 0:e.dataset.loaded)return void(null==c||c());const t=e||document.createElement("script");e||(t.src=u);const n=()=>{t.dataset.loaded="1",null==c||c()};return t.addEventListener("load",n),d&&t.addEventListener("error",d),e||document.head.append(t),()=>{t.removeEventListener("load",n),d&&t.removeEventListener("error",d)}}),[]),[a,s]}(o);return(0,k.useEffect)((()=>{r&&t&&t(r)}),[r]),(0,k.useEffect)((()=>{a&&n&&n()}),[a]),null}const F={legend_toggle:!1,options:{},legendToggle:!1,getChartWrapper:()=>{},spreadSheetQueryParameters:{headers:1,gid:1},rootProps:{},chartWrapperParams:{}};let D=0;const A=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC"],{Provider:G,Consumer:z}=k.createContext(F),O=e=>{let{children:t,value:n}=e;return k.createElement(G,{value:n},t)},M=e=>{let{render:t}=e;return k.createElement(z,null,(e=>t(e)))};class N extends k.Component{componentDidMount(){this.draw(this.props),window.addEventListener("resize",this.onResize),(this.props.legend_toggle||this.props.legendToggle)&&this.listenToLegendToggle()}componentWillUnmount(){const{google:e,googleChartWrapper:t}=this.props;window.removeEventListener("resize",this.onResize),e.visualization.events.removeAllListeners(t),"Timeline"===t.getChartType()&&t.getChart()&&t.getChart().clearChart()}componentDidUpdate(){this.draw(this.props)}render(){return null}constructor(...e){super(...e),this.state={hiddenColumns:[]},this.listenToLegendToggle=()=>{const{google:e,googleChartWrapper:t}=this.props;e.visualization.events.addListener(t,"select",(()=>{const e=t.getChart().getSelection(),n=t.getDataTable();if(0===e.length||e[0].row||!n)return;const o=e[0].column,r=this.getColumnID(n,o);this.state.hiddenColumns.includes(r)?this.setState((e=>({...e,hiddenColumns:[...e.hiddenColumns.filter((e=>e!==r))]}))):this.setState((e=>({...e,hiddenColumns:[...e.hiddenColumns,r]})))}))},this.applyFormatters=(e,t)=>{const{google:n}=this.props;for(let o of t)switch(o.type){case"ArrowFormat":new n.visualization.ArrowFormat(o.options).format(e,o.column);break;case"BarFormat":new n.visualization.BarFormat(o.options).format(e,o.column);break;case"ColorFormat":{const t=new n.visualization.ColorFormat(o.options),{ranges:r}=o;for(let e of r)t.addRange(...e);t.format(e,o.column);break}case"DateFormat":new n.visualization.DateFormat(o.options).format(e,o.column);break;case"NumberFormat":new n.visualization.NumberFormat(o.options).format(e,o.column);break;case"PatternFormat":new n.visualization.PatternFormat(o.options).format(e,o.column)}},this.getColumnID=(e,t)=>e.getColumnId(t)||e.getColumnLabel(t),this.draw=async e=>{let{data:t,diffdata:n,rows:o,columns:r,options:a,legend_toggle:i,legendToggle:s,chartType:l,formatters:u,spreadSheetUrl:c,spreadSheetQueryParameters:d}=e;const{google:p,googleChartWrapper:g}=this.props;let m,h=null;if(n){const e=p.visualization.arrayToDataTable(n.old),t=p.visualization.arrayToDataTable(n.new);h=p.visualization[l].prototype.computeDiff(e,t)}m=null!==t?Array.isArray(t)?p.visualization.arrayToDataTable(t):new p.visualization.DataTable(t):o&&r?p.visualization.arrayToDataTable([r,...o]):c?await async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(((o,r)=>{const a="".concat(n.headers?"headers=".concat(n.headers):"headers=0"),i="".concat(n.query?"&tq=".concat(encodeURIComponent(n.query)):""),s="".concat(n.gid?"&gid=".concat(n.gid):""),l="".concat(n.sheet?"&sheet=".concat(n.sheet):""),u="".concat(n.access_token?"&access_token=".concat(n.access_token):""),c="".concat(a).concat(s).concat(l).concat(i).concat(u),d="".concat(t,"/gviz/tq?").concat(c);new e.visualization.Query(d).send((e=>{e.isError()?r("Error in query:  ".concat(e.getMessage()," ").concat(e.getDetailedMessage())):o(e.getDataTable())}))}))}(p,c,d):p.visualization.arrayToDataTable([]);const f=m.getNumberOfColumns();for(let e=0;e<f;e+=1){const t=this.getColumnID(m,e);if(this.state.hiddenColumns.includes(t)){const t=m.getColumnLabel(e),n=m.getColumnId(e),o=m.getColumnType(e);m.removeColumn(e),m.addColumn({label:t,id:n,type:o})}}const v=g.getChart();"Timeline"===g.getChartType()&&v&&v.clearChart(),g.setChartType(l),g.setOptions(a||{}),g.setDataTable(m),g.draw(),null!==this.props.googleChartDashboard&&this.props.googleChartDashboard.draw(m),h&&(g.setDataTable(h),g.draw()),u&&(this.applyFormatters(m,u),g.setDataTable(m),g.draw()),!0!==s&&!0!==i||this.grayOutHiddenColumns({options:a})},this.grayOutHiddenColumns=e=>{let{options:t}=e;const{googleChartWrapper:n}=this.props,o=n.getDataTable();if(!o)return;const r=o.getNumberOfColumns();if(!1==this.state.hiddenColumns.length>0)return;const a=Array.from({length:r-1}).map(((e,n)=>{const r=this.getColumnID(o,n+1);return this.state.hiddenColumns.includes(r)?"#CCCCCC":t&&t.colors?t.colors[n]:A[n]}));n.setOptions({...t,colors:a}),n.draw()},this.onResize=()=>{const{googleChartWrapper:e}=this.props;e.draw()}}}class L extends k.Component{componentDidMount(){}componentWillUnmount(){}shouldComponentUpdate(){return!1}render(){const{google:e,googleChartWrapper:t,googleChartDashboard:n}=this.props;return k.createElement(M,{render:o=>k.createElement(N,Object.assign({},o,{google:e,googleChartWrapper:t,googleChartDashboard:n}))})}}class W extends k.Component{shouldComponentUpdate(){return!1}listenToEvents(e){let{chartEvents:t,google:n,googleChartWrapper:o}=e;if(t){n.visualization.events.removeAllListeners(o);for(let e of t){var r=this;const{eventName:t,callback:a}=e;n.visualization.events.addListener(o,t,(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a({chartWrapper:o,props:r.props,google:n,eventArgs:t})}))}}}render(){const{google:e,googleChartWrapper:t}=this.props;return k.createElement(M,{render:n=>(this.listenToEvents({chartEvents:n.chartEvents||null,google:e,googleChartWrapper:t}),null)})}}let H=0;class j extends k.Component{componentDidMount(){const{options:e,google:t,chartType:n,chartWrapperParams:o,toolbarItems:r,getChartEditor:a,getChartWrapper:i}=this.props,s={chartType:n,options:e,containerId:this.getGraphID(),...o},l=new t.visualization.ChartWrapper(s);l.setOptions(e||{}),i&&i(l,t);const u=new t.visualization.Dashboard(this.dashboard_ref),c=this.addControls(l,u);r&&t.visualization.drawToolbar(this.toolbar_ref.current,r);let d=null;a&&(d=new t.visualization.ChartEditor,a({chartEditor:d,chartWrapper:l,google:t})),this.setState({googleChartEditor:d,googleChartControls:c,googleChartDashboard:u,googleChartWrapper:l,isReady:!0})}componentDidUpdate(){if(!this.state.googleChartWrapper)return;if(!this.state.googleChartDashboard)return;if(!this.state.googleChartControls)return;const{controls:e}=this.props;if(e)for(let t=0;t<e.length;t+=1){const{controlType:n,options:o,controlWrapperParams:r}=e[t];r&&"state"in r&&this.state.googleChartControls[t].control.setState(r.state),this.state.googleChartControls[t].control.setOptions(o),this.state.googleChartControls[t].control.setControlType(n)}}shouldComponentUpdate(e,t){return this.state.isReady!==t.isReady||e.controls!==this.props.controls}render(){const{width:e,height:t,options:n,style:o}=this.props,r={height:t||n&&n.height,width:e||n&&n.width,...o};return this.props.render?k.createElement("div",{ref:this.dashboard_ref,style:r},k.createElement("div",{ref:this.toolbar_ref,id:"toolbar"}),this.props.render({renderChart:this.renderChart,renderControl:this.renderControl,renderToolbar:this.renderToolBar})):k.createElement("div",{ref:this.dashboard_ref,style:r},this.renderControl((e=>{let{controlProp:t}=e;return"bottom"!==t.controlPosition})),this.renderChart(),this.renderControl((e=>{let{controlProp:t}=e;return"bottom"===t.controlPosition})),this.renderToolBar())}constructor(...e){var t;super(),t=this,this.state={googleChartWrapper:null,googleChartDashboard:null,googleChartControls:null,googleChartEditor:null,isReady:!1},this.graphID=null,this.dashboard_ref=k.createRef(),this.toolbar_ref=k.createRef(),this.getGraphID=()=>{const{graphID:e,graph_id:t}=this.props;let n;return e||t?n=e&&!t?e:t&&!e?t:e:this.graphID?n=this.graphID:(D+=1,n="reactgooglegraph-".concat(D)),this.graphID=n,this.graphID},this.getControlID=(e,t)=>{let n;return H+=1,n=void 0===e?"googlechart-control-".concat(t,"-").concat(H):e,n},this.addControls=(e,t)=>{const{google:n,controls:o}=this.props,r=o?o.map(((e,t)=>{const{controlID:o,controlType:r,options:a,controlWrapperParams:i}=e,s=this.getControlID(o,t);return{controlProp:e,control:new n.visualization.ControlWrapper({containerId:s,controlType:r,options:a,...i})}})):null;if(!r)return null;t.bind(r.map((e=>{let{control:t}=e;return t})),e);for(let t of r){const{control:o,controlProp:r}=t,{controlEvents:i=[]}=r;for(let t of i){var a=this;const{callback:r,eventName:i}=t;n.visualization.events.removeListener(o,i,r),n.visualization.events.addListener(o,i,(function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];r({chartWrapper:e,controlWrapper:o,props:a.props,google:n,eventArgs:i})}))}}return r},this.renderChart=()=>{const{width:e,height:t,options:n,style:o,className:r,rootProps:a,google:i}=this.props,s={height:t||n&&n.height,width:e||n&&n.width,...o};return k.createElement("div",Object.assign({id:this.getGraphID(),style:s,className:r},a),this.state.isReady&&null!==this.state.googleChartWrapper?k.createElement(k.Fragment,null,k.createElement(L,{googleChartWrapper:this.state.googleChartWrapper,google:i,googleChartDashboard:this.state.googleChartDashboard}),k.createElement(W,{googleChartWrapper:this.state.googleChartWrapper,google:i})):null)},this.renderControl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>!0;return t.state.isReady&&null!==t.state.googleChartControls?k.createElement(k.Fragment,null,t.state.googleChartControls.filter((t=>{let{controlProp:n,control:o}=t;return e({control:o,controlProp:n})})).map((e=>{let{control:t,controlProp:n}=e;return k.createElement("div",{key:t.getContainerId(),id:t.getContainerId()})}))):null},this.renderToolBar=()=>this.props.toolbarItems?k.createElement("div",{ref:this.toolbar_ref}):null}}class V extends k.Component{render(){const{chartLanguage:e,chartPackages:t,chartVersion:n,mapsApiKey:o,loader:r,errorElement:a}=this.props;return k.createElement(O,{value:this.props},"ready"===this.state.loadingStatus&&null!==this.state.google?k.createElement(j,Object.assign({},this.props,{google:this.state.google})):"errored"===this.state.loadingStatus&&a?a:r,k.createElement(B,{chartLanguage:e,chartPackages:t,chartVersion:n,mapsApiKey:o,onLoad:this.onLoad,onError:this.onError}))}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}isFullyLoaded(e){const{controls:t,toolbarItems:n,getChartEditor:o}=this.props;return e&&e.visualization&&e.visualization.ChartWrapper&&e.visualization.Dashboard&&(!t||e.visualization.ChartWrapper)&&(!o||e.visualization.ChartEditor)&&(!n||e.visualization.drawToolbar)}constructor(...e){super(...e),this._isMounted=!1,this.state={loadingStatus:"loading",google:null},this.onLoad=e=>{if(this.props.onLoad&&this.props.onLoad(e),this.isFullyLoaded(e))this.onSuccess(e);else{const e=setInterval((()=>{const t=window.google;this._isMounted?t&&this.isFullyLoaded(t)&&(clearInterval(e),this.onSuccess(t)):clearInterval(e)}),1e3)}},this.onSuccess=e=>{this.setState({loadingStatus:"ready",google:e})},this.onError=()=>{this.setState({loadingStatus:"errored"})}}}var q;V.defaultProps=F,function(e){e.annotation="annotation",e.annotationText="annotationText",e.certainty="certainty",e.emphasis="emphasis",e.interval="interval",e.scope="scope",e.style="style",e.tooltip="tooltip",e.domain="domain"}(q||(q={}));const U={width:"100%",height:"400",colors:["#4285f4","#5e35b1","#00897b","#E8710A"],curveType:"function",smoothline:"true",focusTarget:"category",chartArea:{width:"100%",height:"80%"},hAxis:{gridlines:{count:0,minSpacing:150},minorGridlines:{count:0},showTextEvery:1,format:"MMM dd"},vAxis:{gridlines:{count:0,minSpacing:100},minorGridlines:{count:1},showTextEvery:2},vAxes:{0:{title:"clicks"},1:{title:"impressions"},2:{format:"#%"},3:{direction:-1}},series:{0:{type:"line",targetAxisIndex:0,tooltip:!0},1:{type:"line",targetAxisIndex:1,tooltip:!0},2:{type:"line",targetAxisIndex:2,tooltip:!0},3:{type:"line",targetAxisIndex:3,tooltip:!0}}},Q=window.wp.coreData,Y=(0,o.createContext)(),K=function(e){const t={customDate:!1,dimension:"query",searchType:"web",startDate:(0,S.dateI18n)("Y-m-d",(new Date).setDate((new Date).getDate()-29)),endDate:(0,S.dateI18n)("Y-m-d",(new Date).setDate((new Date).getDate()-1)),dimensionFiltersGroup:{filters:[]}},[n,r]=(0,o.useState)(!1),[a,i]=(0,o.useState)(t),[s,l]=(0,o.useState)(!1),[u,c]=(0,o.useState)(!1),[d,p]=(0,Q.useEntityProp)("root","site","search_console"),{saveEntityRecord:g}=(0,E.useDispatch)(Q.store),{isSaving:m}=(0,E.useSelect)((e=>({isSaving:e(Q.store).isSavingEntityRecord("root","site")})),[]),h=(e,t)=>{p({...d,[e]:t})};(0,o.useEffect)((()=>{const e=document.createElement("script");return e.src="https://apis.google.com/js/api.js",e.async=!0,e.defer=!0,e.onload=async()=>await window.gapi.load("client",f),document.body.appendChild(e),()=>{document.body.removeChild(e)}}),[]);const f=()=>{window.gapi.client.load("searchconsole","v1").then((()=>{r(!0)}))};return(0,o.createElement)(Y.Provider,{value:{query:a,updateQuery:(e,t)=>{i({...a,[e]:t})},saveToken:e=>{b()({path:"/searchconsole/v1/save/token/",method:"POST",data:{token:e}}).then((()=>l(!1)))},settings:d,updateSetting:h,setSettings:p,saveSettings:()=>g("root","site",{search_console:d}),isSaving:m,ready:n,refreshToken:()=>{l(!0),b()({path:"/searchconsole/v1/refresh",method:"POST"}).then((e=>{p({...d,token:e}),window.gapi.client.setToken(e),f()})).catch((e=>{console.log(e),f()})).finally((()=>l(!1)))},revokeToken:()=>{b()({path:"/searchconsole/v1/revoke",method:"POST",data:{token:d.token.refresh_token}}).then((()=>{h("token",!1),h("site",!1),c(!1)}))},email:u}},e.children)};function X(){const{settings:e,query:t,refreshToken:n}=(0,o.useContext)(Y),[a,i]=(0,o.useState)([]);(0,o.useEffect)((()=>{s()}),[t,e.token]);const s=()=>{var o,r,a,s,l;null===(o=window.gapi)||void 0===o||null===(r=o.client)||void 0===r||r.setToken(e.token),null===(a=window.gapi)||void 0===a||null===(s=a.client)||void 0===s||null===(l=s.webmasters)||void 0===l||l.searchanalytics.query({siteUrl:e.site,fields:"rows",rowLimit:null,searchType:t.searchType,startDate:t.startDate,endDate:t.endDate,dimensions:["date"],dimensionFilterGroups:t.dimensionFiltersGroup}).then((e=>{const t=e.result.rows,n=[];n.push([(0,T.__)("Keys","search-console"),(0,T.__)("Clicks","search-console"),(0,T.__)("Impressions","search-console"),"CTR",(0,T.__)("Position","search-console")]),t.forEach((e=>{n.push([moment(e.keys[0],"YYYY-MM-DD").toDate(),e.clicks,e.impressions,100*e.ctr,parseFloat(e.position)])})),i(n)}),(e=>{console.log(e),n()}))};return(0,o.createElement)("div",{className:"search-console-chart"},a.length?(0,o.createElement)(V,{chartType:"LineChart",loader:(0,o.createElement)(r.Spinner,null),data:a,options:U,legendToggle:!0}):(0,o.createElement)(_,{text:(0,T.__)("Fetching data…","search-console")}))}var $=n(521);const J={abw:"Aruba",afg:"Afghanistan",ago:"Angola",aia:"Anguilla",ala:"Åland Islands",alb:"Albania",and:"Andorra",are:"United Arab Emirates (the)",arg:"Argentina",arm:"Armenia",asm:"American Samoa",ata:"Antarctica",atf:"French Southern Territories (the)",atg:"Antigua and Barbuda",aus:"Australia",aut:"Austria",aze:"Azerbaijan",bdi:"Burundi",bel:"Belgium",ben:"Benin",bes:"Bonaire, Sint Eustatius and Saba",bfa:"Burkina Faso",bgd:"Bangladesh",bgr:"Bulgaria",bhr:"Bahrain",bhs:"Bahamas (the)",bih:"Bosnia and Herzegovina",blm:"Saint Barthélemy",blr:"Belarus",blz:"Belize",bmu:"Bermuda",bol:"Bolivia (Plurinational State of)",bra:"Brazil",brb:"Barbados",brn:"Brunei Darussalam",btn:"Bhutan",bvt:"Bouvet Island",bwa:"Botswana",caf:"Central African Republic (the)",can:"Canada",cck:"Cocos (Keeling) Islands (the)",che:"Switzerland",chl:"Chile",chn:"China",civ:"Côte d'Ivoire",cmr:"Cameroon",cod:"Congo (the Democratic Republic of the)",cog:"Congo (the)",cok:"Cook Islands (the)",col:"Colombia",com:"Comoros (the)",cpv:"Cabo Verde",cri:"Costa Rica",cub:"Cuba",cuw:"Curaçao",cxr:"Christmas Island",cym:"Cayman Islands (the)",cyp:"Cyprus",cze:"Czechia",deu:"Germany",dji:"Djibouti",dma:"Dominica",dnk:"Denmark",dom:"Dominican Republic (the)",dza:"Algeria",ecu:"Ecuador",egy:"Egypt",eri:"Eritrea",esh:"Western Sahara*",esp:"Spain",est:"Estonia",eth:"Ethiopia",fin:"Finland",fji:"Fiji",flk:"Falkland Islands (the) [Malvinas]",fra:"France",fro:"Faroe Islands (the)",fsm:"Micronesia (Federated States of)",gab:"Gabon",gbr:"United Kingdom of Great Britain and Northern Ireland (the)",geo:"Georgia",ggy:"Guernsey",gha:"Ghana",gib:"Gibraltar",gin:"Guinea",glp:"Guadeloupe",gmb:"Gambia (the)",gnb:"Guinea-Bissau",gnq:"Equatorial Guinea",grc:"Greece",grd:"Grenada",grl:"Greenland",gtm:"Guatemala",guf:"French Guiana",gum:"Guam",guy:"Guyana",hkg:"Hong Kong",hmd:"Heard Island and McDonald Islands",hnd:"Honduras",hrv:"Croatia",hti:"Haiti",hun:"Hungary",idn:"Indonesia",imn:"Isle of Man",ind:"India",iot:"British Indian Ocean Territory (the)",irl:"Ireland",irn:"Iran (Islamic Republic of)",irq:"Iraq",isl:"Iceland",isr:"Israel",ita:"Italy",jam:"Jamaica",jey:"Jersey",jor:"Jordan",jpn:"Japan",kaz:"Kazakhstan",ken:"Kenya",kgz:"Kyrgyzstan",khm:"Cambodia",kir:"Kiribati",kna:"Saint Kitts and Nevis",kor:"Korea (the Republic of)",kwt:"Kuwait",lao:"Lao People's Democratic Republic (the)",lbn:"Lebanon",lbr:"Liberia",lby:"Libya",lca:"Saint Lucia",lie:"Liechtenstein",lka:"Sri Lanka",lso:"Lesotho",ltu:"Lithuania",lux:"Luxembourg",lva:"Latvia",mac:"Macao",maf:"Saint Martin (French part)",mar:"Morocco",mco:"Monaco",mda:"Moldova (the Republic of)",mdg:"Madagascar",mdv:"Maldives",mex:"Mexico",mhl:"Marshall Islands (the)",mkd:"Macedonia (the former Yugoslav Republic of)",mli:"Mali",mlt:"Malta",mmr:"Myanmar",mne:"Montenegro",mng:"Mongolia",mnp:"Northern Mariana Islands (the)",moz:"Mozambique",mrt:"Mauritania",msr:"Montserrat",mtq:"Martinique",mus:"Mauritius",mwi:"Malawi",mys:"Malaysia",myt:"Mayotte",nam:"Namibia",ncl:"New Caledonia",ner:"Niger (the)",nfk:"Norfolk Island",nga:"Nigeria",nic:"Nicaragua",niu:"Niue",nld:"Netherlands (the)",nor:"Norway",npl:"Nepal",nru:"Nauru",nzl:"New Zealand",omn:"Oman",pak:"Pakistan",pan:"Panama",pcn:"Pitcairn",per:"Peru",phl:"Philippines (the)",plw:"Palau",png:"Papua New Guinea",pol:"Poland",pri:"Puerto Rico",prk:"Korea (the Democratic People's Republic of)",prt:"Portugal",pry:"Paraguay",pse:"Palestine, State of",pyf:"French Polynesia",qat:"Qatar",reu:"Réunion",rou:"Romania",rus:"Russian Federation (the)",rwa:"Rwanda",sau:"Saudi Arabia",sdn:"Sudan (the)",sen:"Senegal",sgp:"Singapore",sgs:"South Georgia and the South Sandwich Islands",shn:"Saint Helena, Ascension and Tristan da Cunha",sjm:"Svalbard and Jan Mayen",slb:"Solomon Islands",sle:"Sierra Leone",slv:"El Salvador",smr:"San Marino",som:"Somalia",spm:"Saint Pierre and Miquelon",srb:"Serbia",ssd:"South Sudan",stp:"Sao Tome and Principe",sur:"Suriname",svk:"Slovakia",svn:"Slovenia",swe:"Sweden",swz:"Swaziland",sxm:"Sint Maarten (Dutch part)",syc:"Seychelles",syr:"Syrian Arab Republic",tca:"Turks and Caicos Islands (the)",tcd:"Chad",tgo:"Togo",tha:"Thailand",tjk:"Tajikistan",tkl:"Tokelau",tkm:"Turkmenistan",tls:"Timor-Leste",ton:"Tonga",tto:"Trinidad and Tobago",tun:"Tunisia",tur:"Turkey",tuv:"Tuvalu",twn:"Taiwan (Province of China)",tza:"Tanzania, United Republic of",uga:"Uganda",ukr:"Ukraine",umi:"United States Minor Outlying Islands (the)",ury:"Uruguay",usa:"United States of America (the)",uzb:"Uzbekistan",vat:"Holy See (the)",vct:"Saint Vincent and the Grenadines",ven:"Venezuela (Bolivarian Republic of)",vgb:"Virgin Islands (British)",vir:"Virgin Islands (U.S.)",vnm:"Viet Nam",vut:"Vanuatu",wlf:"Wallis and Futuna",wsm:"Samoa",yem:"Yemen",zaf:"South Africa",zmb:"Zambia",zwe:"Zimbabwe",zzz:"Others"},Z=e=>{const{pageSize:t,setPageSize:n,canPreviousPage:a,canNextPage:i,pageIndex:s,pageOptions:l,pageCount:u,gotoPage:c,nextPage:d,previousPage:p}=e;return(0,o.createElement)("div",{className:"search-console-pagination"},(0,o.createElement)("div",null,(0,o.createElement)("select",{value:t,onChange:e=>{n(Number(e.target.value))}},[10,20,30,40,50].map((e=>(0,o.createElement)("option",{key:e,value:e},"Show ",e))))),(0,o.createElement)("div",null,(0,o.createElement)(r.Button,{onClick:()=>c(0),icon:"controls-back",disabled:!a}),(0,o.createElement)(r.Button,{onClick:()=>p(),icon:"arrow-left",disabled:!a}),(0,o.createElement)(r.Button,{onClick:()=>d(),icon:"arrow-right",disabled:!i}),(0,o.createElement)(r.Button,{onClick:()=>c(u-1),icon:"controls-forward",disabled:!i})),(0,o.createElement)("div",null,(0,T.__)("Page ","search-console"),(0,o.createElement)("strong",null,s+1," ",(0,T.__)("of","search-console")," ",l.length)),(0,o.createElement)("span",null,(0,T.__)("Go to page: ","searchconsole"),(0,o.createElement)("input",{type:"number",defaultValue:s+1,onChange:e=>{const t=e.target.value?Number(e.target.value)-1:0;c(t)},min:"1",style:{width:"50px"}})))};function ee(){const{updateQuery:e,query:t}=(0,o.useContext)(Y),n=t=>{e("dimension",t),setSelected(t)};return(0,o.createElement)("div",{className:"search-console-dimensions"},(0,o.createElement)(r.Button,{className:"query"===t.dimension?"is-selected":"",onClick:()=>n("query")},(0,T.__)("Query","search-console")),(0,o.createElement)(r.Button,{className:"page"===t.dimension?"is-selected":"",onClick:()=>n("page")},(0,T.__)("Pages","search-console")),(0,o.createElement)(r.Button,{className:"country"===t.dimension?"is-selected":"",onClick:()=>n("country")},(0,T.__)("Countries","search-console")),(0,o.createElement)(r.Button,{className:"device"===t.dimension?"is-selected":"",onClick:()=>n("device")},(0,T.__)("Devices","search-console")))}const te=e=>{const{globalFilter:t,setGlobalFilter:n}=e;return(0,o.createElement)("div",{className:"search-console-table-bar"},(0,o.createElement)(ee,null),(0,o.createElement)(r.SearchControl,{value:t||"",placeholder:(0,T.__)("search","search-console"),onChange:e=>n(e)}))};function ne(){const{settings:e,query:t,refreshToken:n}=(0,o.useContext)(Y),[i,s]=(0,o.useState)([]),[l,u]=(0,o.useState)(!1);(0,o.useEffect)((()=>{c()}),[t,e.token]);const c=()=>{var o,r;u(!0),window.gapi.client.setToken(e.token),null===(o=window.gapi)||void 0===o||null===(r=o.client)||void 0===r||r.webmasters.searchanalytics.query({siteUrl:e.site,fields:"rows",rowLimit:null,searchType:t.searchType,startDate:t.startDate,endDate:t.endDate,dimensions:[t.dimension],dimensionFilterGroups:t.dimensionFiltersGroup}).then((e=>{u(!1),e.result.rows?("country"===t.dimension&&e.result.rows.map((e=>{e.keys[0]=J[e.keys[0]]})),s(e.result.rows)):s([])})).catch((e=>{console.log(e),n()}))},d=(0,o.useMemo)((()=>[{Header:"",accessor:"keys"},{Header:(0,T.__)("Clicks","search-console"),accessor:"clicks"},{Header:(0,T.__)("Impressions","search-console"),accessor:"impressions"},{Header:(0,T.__)("CTR","search-console"),accessor:"ctr",Cell:e=>{let{value:t}=e;return(100*t).toFixed(1)+" %"}},{Header:(0,T.__)("Position","search-console"),accessor:"position",Cell:e=>{let{value:t}=e;return t.toFixed(1)}}]),[]),{getTableProps:p,getTableBodyProps:g,headerGroups:m,page:h,prepareRow:f,canPreviousPage:v,canNextPage:y,pageOptions:w,pageCount:C,gotoPage:b,nextPage:E,previousPage:S,setPageSize:R,setGlobalFilter:x,state:{pageIndex:P,pageSize:_,globalFilter:k}}=(0,$.useTable)({columns:d,data:i,initialState:{pageIndex:0}},$.useGlobalFilter,$.useSortBy,$.usePagination);return(0,o.createElement)("div",{className:"search-console-table-wrapper"},(0,o.createElement)(te,{globalFilter:k,setGlobalFilter:x}),l?(0,o.createElement)(r.Spinner,null):null,(0,o.createElement)("table",p(),(0,o.createElement)("thead",null,m.map(((e,t)=>(0,o.createElement)("tr",a({},e.getHeaderGroupProps(),{key:t}),e.headers.map(((e,t)=>(0,o.createElement)("th",a({},e.getHeaderProps(e.getSortByToggleProps()),{key:t}),e.render("Header"),(0,o.createElement)("span",null,e.isSorted?e.isSortedDesc?(0,o.createElement)(r.Icon,{icon:"arrow-down"}):(0,o.createElement)(r.Icon,{icon:"arrow-up"}):"")))))))),(0,o.createElement)("tbody",g(),h.map(((e,t)=>(f(e),(0,o.createElement)("tr",a({},e.getRowProps(),{key:t}),e.cells.map(((e,t)=>(0,o.createElement)("td",a({},e.getCellProps(),{key:t}),e.render("Cell")))))))))),(0,o.createElement)(Z,{pageIndex:P,pageOptions:w,pageSize:_,setPageSize:R,pageCount:C,canPreviousPage:v,canNextPage:y,gotoPage:b,nextPage:E,previousPage:S}))}function oe(e){const{handleChange:t}=e,{query:n}=(0,o.useContext)(Y),[a,i]=(0,o.useState)(n.searchType);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(r.RadioControl,{label:(0,T.__)("Search Type","search-console"),selected:a,options:[{label:"Web",value:"web"},{label:(0,T.__)("Image"),value:"image"},{label:"Video",value:"video"},{label:"News",value:"news"}],onChange:e=>{i(e),t(e)}}))}function re(e){const{filter:t,handleChange:n}=e;return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(r.RadioControl,{selected:t?.expression,options:[{label:(0,T.__)("Desktop","search-console"),value:"desktop"},{label:(0,T.__)("Mobile","search-console"),value:"mobile"},{label:(0,T.__)("Tablet","search-console"),value:"tablet"}],onChange:e=>{n(e)}}))}function ae(e){const{filter:t,handleChange:n}=e;return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(r.RadioControl,{selected:t?.expression,options:(()=>{const e=[];for(const t in J)e.push({value:t,label:J[t]});return e})(),onChange:e=>{n(e)}}))}function ie(e){const{filter:t,handleChange:n}=e;return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(r.SelectControl,{selected:t?.operator,options:[{value:"CONTAINS",label:(0,T.__)("Urls containing","search-console")},{value:"NOT_CONTAINS",label:(0,T.__)("Urls not containing","search-console")},{value:"EQUALS",label:(0,T.__)("Exact url","search-console")}],onChange:e=>{n(t?.expression,e)}}),(0,o.createElement)(r.TextControl,{value:t?.expression,placeholder:"https://www.example.com",onChange:e=>{n(e,t?.operator?t?.operator:"CONTAINS")}}))}function se(e){const{filter:t,handleChange:n}=e;return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(r.SelectControl,{value:t?.operator,options:[{value:"CONTAINS",label:(0,T.__)("Queries containing","search-console")},{value:"NOT_CONTAINS",label:(0,T.__)("Queries not containing","search-console")},{value:"EQUALS",label:(0,T.__)("Exact query","search-console")}],onChange:e=>{n(t?.expression,e)}}),(0,o.createElement)(r.TextControl,{value:t?.expression||"",onChange:e=>{n(e,t?.operator?t?.operator:"CONTAINS")}}))}function le(e){const{onRequestClose:t,modal:n,title:a}=e,{query:i,updateQuery:s}=(0,o.useContext)(Y),[l,u]=(0,o.useState)(i.dimensionFiltersGroup.filters.find((e=>e.dimension===n))),[c,d]=(0,o.useState)(i.searchType),p={searchType:oe,device:re,country:ae,page:ie,query:se}[n];return(0,o.createElement)(r.Modal,{title:a,onRequestClose:t},(0,o.createElement)(o.Fragment,null,(0,o.createElement)("div",{className:"search-console-modal-container"},(0,o.createElement)(p,{handleChange:(e,t)=>{"searchType"===n?d(e):u({dimension:n,expression:e,operator:t})},searchType:c,filter:l})),(0,o.createElement)(r.Flex,null,(0,o.createElement)(r.Button,{isDestructive:!0,onClick:t},(0,T.__)("Cancel","search-console")),(0,o.createElement)(r.Button,{variant:"primary",onClick:()=>{if("searchType"===n)s("searchType",c);else{const e=[l,...i.dimensionFiltersGroup.filters.filter((e=>e.dimension!==n))];s("dimensionFiltersGroup",{...i.dimensionFiltersGroup,filters:e})}t()},disabled:"searchType"!==n&&!l?.expression},(0,T.__)("Save","search-console")))))}function ue(){const{customDate:e,updateQuery:t,updateSetting:n,settings:a}=(0,o.useContext)(Y),[i,s]=(0,o.useState)((0,T.__)("Last 28 days","search-console")),l=(e,o)=>{const r=moment().subtract(2,"days").subtract(e,o).format("YYYY-MM-DD");s("Last "+e+" "+o),n("customDate",!1),t("startDate",r)};return(0,o.createElement)(r.Dropdown,{className:"my-container-class-name",contentClassName:"my-popover-content-classname",placement:"bottom right",renderToggle:t=>{let{isOpen:n,onToggle:a}=t;return(0,o.createElement)(r.Button,{variant:"secondary",onClick:a,"aria-expanded":n},e?(0,T.__)("Custom date","search-console"):i)},renderContent:e=>{let{onToggle:t}=e;return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(r.MenuGroup,null,(0,o.createElement)(r.MenuItem,{onClick:()=>{l(7,"days"),t()}},(0,T.__)("Last 7 days","search-console")),(0,o.createElement)(r.MenuItem,{onClick:()=>{l(28,"days"),t()}},(0,T.__)("Last 28 days","search-console")),(0,o.createElement)(r.MenuItem,{onClick:()=>{l(1,"months"),t()}},(0,T.__)("Last month","search-console")),(0,o.createElement)(r.MenuItem,{onClick:()=>{l(3,"months"),t()}},(0,T.__)("Last 3 months","search-console")),(0,o.createElement)(r.MenuItem,{onClick:()=>{l(6,"months"),t()}},(0,T.__)("Last 6 months","search-console")),(0,o.createElement)(r.MenuItem,{onClick:()=>{l(12,"months"),t()}},(0,T.__)("Last 12 months","search-console")),(0,o.createElement)(r.MenuItem,{onClick:()=>{l(16,"months"),t()}},(0,T.__)("Last 18 months","search-console")),(0,o.createElement)(r.MenuItem,{onClick:()=>{n("customDate",!a.customDate),t()}},(0,T.__)("Custom date","search-console"))))}})}function ce(){const{query:e,updateQuery:t,settings:n}=(0,o.useContext)(Y);return(0,o.createElement)(r.Flex,null,n.customDate&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)(r.FlexItem,null,(0,o.createElement)("b",null,"From:")),(0,o.createElement)(r.FlexItem,null,(0,o.createElement)(r.Dropdown,{popoverProps:{placement:"bottom-start"},renderToggle:t=>{let{isOpen:n,onToggle:a}=t;return(0,o.createElement)(r.Button,{variant:"secondary",onClick:a,"aria-expanded":n},e.startDate?(0,S.format)("F j, Y",e.startDate):__("Click here to set start date.","search-console"))},renderContent:()=>(0,o.createElement)(r.DatePicker,{__nextRemoveHelpButton:!0,currentDate:e.startDate,onChange:e=>{console.log(e),t("startDate",(0,S.dateI18n)("Y-m-d",e))},isInvalidDate:t=>{if(e.endDate)return new Date(t)>new Date(e.endDate)}})})),(0,o.createElement)(r.FlexItem,null,(0,o.createElement)("b",null,"To:")),(0,o.createElement)(r.FlexItem,null,(0,o.createElement)(r.Dropdown,{popoverProps:{placement:"bottom-start"},renderToggle:t=>{let{isOpen:n,onToggle:a}=t;return(0,o.createElement)(r.Button,{variant:"secondary",onClick:a,"aria-expanded":n},e.endDate?(0,S.format)("F j, Y",e.endDate):__("Click here to set end date.","search-console"))},renderContent:()=>(0,o.createElement)(r.DatePicker,{__nextRemoveHelpButton:!0,currentDate:e.endDate,onChange:e=>t("endDate",(0,S.dateI18n)("Y-m-d",e)),isInvalidDate:t=>new Date(t)<new Date(e.startDate)||new Date(t)>new Date})}))),(0,o.createElement)(r.FlexItem,null,(0,o.createElement)(ue,null)))}function de(){const[e,t]=(0,o.useState)(!1),{query:n,updateQuery:a}=(0,o.useContext)(Y);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)("div",{className:"search-console-filters"},(0,o.createElement)("div",{className:"search-console-filters-options"},(0,o.createElement)(r.Button,{variant:"primary",onClick:()=>t("searchType")},(0,T.__)("Search type: ","search-console")+n.searchType),(0,o.createElement)(r.Dropdown,{className:"my-container-class-name",contentClassName:"my-popover-content-classname",placement:"bottom right",renderToggle:e=>{let{isOpen:t,onToggle:n}=e;return(0,o.createElement)(r.Button,{variant:"secondary",onClick:n,"aria-expanded":t,icon:"plus",iconPosition:"right",text:(0,T.__)("New","search-console")})},renderContent:e=>{let{onToggle:n}=e;return(0,o.createElement)(r.MenuGroup,null,(0,o.createElement)(r.MenuItem,{onClick:()=>{t("query"),n()}},(0,T.__)("Query","search-console")),(0,o.createElement)(r.MenuItem,{onClick:()=>{t("page"),n()}},(0,T.__)("Page","search-console")),(0,o.createElement)(r.MenuItem,{onClick:()=>{t("country"),n()}},(0,T.__)("Country","search-console")),(0,o.createElement)(r.MenuItem,{onClick:()=>{t("device"),n()}},(0,T.__)("Device","search-console")))}}),n.dimensionFiltersGroup.filters.map(((e,i)=>(0,o.createElement)("div",{className:"button-group",key:i},(0,o.createElement)(r.Button,{variant:"primary",onClick:()=>t(e.dimension)},e.dimension+": "+(e=>e.operator?"EQUALS"===e.operator?"":"CONTAINS"===e.operator?"+":"-":"")(e)+e.expression),(0,o.createElement)(r.Button,{variant:"primary",onClick:()=>(e=>{a("dimensionFiltersGroup",{...n.dimensionFiltersGroup,filters:n.dimensionFiltersGroup.filters.filter((t=>t!==e))})})(e)},"x"))))),(0,o.createElement)("div",null,(0,o.createElement)(ce,{query:n}))),e&&(0,o.createElement)(le,{onRequestClose:()=>{t(!1)},modal:e,title:e}))}const pe=window.wp.blockDirectory,ge=(window.wp.blocks,()=>{const[e,t]=(0,o.useState)(!1),{installBlockType:n}=(0,E.useDispatch)(pe.store),{isFormelloInstalled:a,isFormelloActive:i}=(0,E.useSelect)((e=>{const t=e("core").getPlugin("formello/formello");return{isFormelloInstalled:t,isFormelloActive:"active"===t?.status}})),{block:s}=(0,E.useSelect)((e=>{const{getDownloadableBlocks:t}=e(pe.store),n=t("block:formello/form").filter((e=>{let{name:t}=e;return"formello/form"===t}));return{block:n.length&&n[0]}})),l=(0,E.useSelect)((e=>e(pe.store).isInstalling(s.id)),[s.id]),[u,c]=(0,o.useState)((()=>{const e=localStorage.getItem("sc-shown");return JSON.parse(e)||(new Date).getTime()}));return a&&i?null:(0,o.createElement)(r.Card,null,(0,o.createElement)(r.CardBody,null,(0,o.createElement)(r.__experimentalHStack,{alignment:"left"},(0,o.createElement)(o.RawHTML,null,(0,T.sprintf)(/* translators: Formello url. */
(0,T.__)('<p>Do you need forms? Check <a href="%s" target="_blank">Formello</a> to manage all your forms inside WordPress.',"search-console"),"https://formello.net")),(0,o.createElement)(r.Button,{variant:"primary",isSmall:!0,onClick:()=>{n(s).then((()=>t(!0)))},disabled:l,isBusy:l},(0,T.__)("Install Formello","search-console")))))}),me=()=>{var e,t,n;const a=v(),{settings:i,ready:s}=(0,o.useContext)(Y);if(!s||!i)return(0,o.createElement)(_,{text:(0,T.__)("Fetching data…","search-console")});const l=e=>(0,o.createInterpolateElement)(e,{a:(0,o.createElement)(r.Button,{text:(0,T.__)("settings page","search-console"),onClick:()=>a.push({page:"search-console-settings"}),variant:"link"})});return null!=i&&i.token&&null!=i&&null!==(e=i.token)&&void 0!==e&&e.refresh_token?null!=i&&null!==(t=i.credentials)&&void 0!==t&&t.client_secret&&null!=i&&null!==(n=i.credentials)&&void 0!==n&&n.client_id?i.site?(0,o.createElement)("div",{className:"search-console-dashboard"},(0,o.createElement)(r.Card,null,(0,o.createElement)(r.CardBody,null,(0,o.createElement)(X,null))),(0,o.createElement)(ge,null),(0,o.createElement)(r.Card,null,(0,o.createElement)(r.CardBody,null,(0,o.createElement)(de,null))),(0,o.createElement)(r.Card,null,(0,o.createElement)(r.CardBody,null,(0,o.createElement)(ne,null)))):(0,o.createElement)(r.Notice,{status:"warning",isDismissible:!1},(0,o.createElement)("p",null,l((0,T.__)("Please select a site on <a />.","search-console")))):(0,o.createElement)(r.Notice,{status:"warning",isDismissible:!1},(0,o.createElement)("p",null,l((0,T.__)("Please provide a Client Secret and a Client ID on <a />.","search-console")))):(0,o.createElement)(r.Notice,{status:"warning",isDismissible:!1},(0,o.createElement)("p",null,l((0,T.__)("Please authenticate on <a />.","search-console"))))},he=(0,k.createContext)(null);function fe({clientId:e,onScriptLoadSuccess:t,onScriptLoadError:n,children:o}){const r=function(e={}){const{onScriptLoadSuccess:t,onScriptLoadError:n}=e,[o,r]=(0,k.useState)(!1),a=(0,k.useRef)(t);a.current=t;const i=(0,k.useRef)(n);return i.current=n,(0,k.useEffect)((()=>{const e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.onload=()=>{var e;r(!0),null===(e=a.current)||void 0===e||e.call(a)},e.onerror=()=>{var e;r(!1),null===(e=i.current)||void 0===e||e.call(i)},document.body.appendChild(e),()=>{document.body.removeChild(e)}}),[]),o}({onScriptLoadSuccess:t,onScriptLoadError:n}),a=(0,k.useMemo)((()=>({clientId:e,scriptLoadedSuccessfully:r})),[e,r]);return I().createElement(he.Provider,{value:a},o)}const ve=()=>{const{updateSetting:e,email:t,settings:n,revokeToken:a}=(0,o.useContext)(Y),[i,s]=(0,o.useState)(!1),l=function({flow:e="implicit",scope:t="",onSuccess:n,onError:o,onNonOAuthError:r,overrideScope:a,...i}){const{clientId:s,scriptLoadedSuccessfully:l}=function(){const e=(0,k.useContext)(he);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}(),u=(0,k.useRef)(),c=(0,k.useRef)(n);c.current=n;const d=(0,k.useRef)(o);d.current=o;const p=(0,k.useRef)(r);p.current=r,(0,k.useEffect)((()=>{var n;if(!l)return;const o="implicit"===e?"initTokenClient":"initCodeClient",r=null===(n=window.google)||void 0===n?void 0:n.accounts.oauth2[o]({client_id:s,scope:a?t:`openid profile email ${t}`,callback:e=>{var t,n;if(e.error)return null===(t=d.current)||void 0===t?void 0:t.call(d,e);null===(n=c.current)||void 0===n||n.call(c,e)},error_callback:e=>{var t;null===(t=p.current)||void 0===t||t.call(p,e)},...i});u.current=r}),[s,l,e,t]);const g=(0,k.useCallback)((e=>{var t;return null===(t=u.current)||void 0===t?void 0:t.requestAccessToken(e)}),[]),m=(0,k.useCallback)((()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.requestCode()}),[]);return"implicit"===e?g:m}({flow:"auth-code",onSuccess:async e=>{let{code:t}=e;u(t)},scope:"https://www.googleapis.com/auth/webmasters.readonly https://www.googleapis.com/auth/siteverification email"}),u=t=>{b()({path:"/searchconsole/v1/credentials",method:"POST",data:{code:t}}).then((t=>{e("token",t),s({status:"success",text:(0,T.__)("You're logged in","search-console")})})).catch((e=>{s({status:"error",text:e.message})})).finally((()=>console.log("Success")))};return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(r.Button,{variant:"primary",onClick:()=>l(),icon:"google"},t||(0,T.__)("Login with Google","search-console")),n.token.refresh_token&&(0,o.createElement)("p",null,(0,o.createElement)(r.Button,{text:(0,T.__)("Revoke token","search-console"),onClick:()=>a(),isDestructive:!0,isSmall:!0})),i&&(0,o.createElement)(r.Notice,{status:i.status,isDismissible:!1},i.text))},ye=e=>{var t,n,a,i,s,l,u;const{settings:c}=(0,o.useContext)(Y);return(0,o.createElement)(r.Card,null,(0,o.createElement)(r.CardHeader,null,(0,T.__)("Google Oauth","search-console")),(0,o.createElement)(r.CardBody,null,(!(null!=c&&null!==(t=c.credentials)&&void 0!==t&&null!==(n=t.client_id)&&void 0!==n&&n.length)||!(null!=c&&null!==(a=c.credentials)&&void 0!==a&&null!==(i=a.client_secret)&&void 0!==i&&i.length))&&(0,o.createElement)(r.Notice,{status:"warning",isDismissible:!1},(0,T.__)("You must insert a Client Id and a Client secret to correctly request your authentication token.","search-console")),(null==c||null===(s=c.credentials)||void 0===s?void 0:s.client_id)&&(null==c||null===(l=c.credentials)||void 0===l?void 0:l.client_secret)&&(0,o.createElement)(fe,{clientId:null==c||null===(u=c.credentials)||void 0===u?void 0:u.client_id},(0,o.createElement)(ve,e))))},we=()=>{var e,t,n,a;const{settings:i,updateSetting:s}=(0,o.useContext)(Y);function l(e,t){const n=Object.assign({},i.credentials);n[e]=t,s("credentials",n)}const u=(0,T.sprintf)("https://developers.google.com/web/site-kit?sitename=%1$s&siteurl=%2$s",i.title,i.wp_url);return(0,o.createElement)(r.Card,null,(0,o.createElement)(r.CardHeader,null,(0,T.__)("Google Credentials","search-console")),(0,o.createElement)(r.CardBody,null,(0,o.createElement)(o.RawHTML,null,(0,T.sprintf)(/* translators: Developer console url. */
(0,T.__)('<p>You need to create a <a target="_blank" href="%1$s">Google Developer Console</a> account before proceeding to authorization.</p><p>Create a project from Google Developers Console if none exists.</p><p>Go to Credentials tab, then create credential for OAuth client.</p>Application type will be Web Application. Add <code>%2$s</code> in Authorized redirect URIs. This will give you Client ID and Client Secret key.<p>',"search-console"),"https://console.developers.google.com/",i.wp_url)),(0,o.createElement)(o.RawHTML,null,(0,T.sprintf)(/* translators: Google Site Kit url. */
(0,T.__)('<p><b>Tip</b>: the simplest way to get your own credentials is to go to <a target="_blank" href="%s">Google Site Kit</a> site and follow step. Don\'t forget to add your site url as authorized Javascript origin.</p>',"search-console"),u)),(0,o.createElement)(r.TextControl,{placeholder:"CLIENT ID",value:null!==(e=null==i||null===(t=i.credentials)||void 0===t?void 0:t.client_id)&&void 0!==e?e:"",label:(0,T.__)("Client ID","search-console"),help:(0,T.__)("Please go to Developer Console to obtain your credentials.","search-console"),onChange:e=>{l("client_id",e)}}),(0,o.createElement)(r.TextControl,{placeholder:"CLIENT SECRET",value:null!==(n=null==i||null===(a=i.credentials)||void 0===a?void 0:a.client_secret)&&void 0!==n?n:"",label:(0,T.__)("Client secret","search-console"),help:(0,T.__)("Please go to Developer Console to obtain your credentials.","search-console"),onChange:e=>{l("client_secret",e)}})))},Ce=()=>{const{settings:e,updateSetting:t,refreshToken:n}=(0,o.useContext)(Y);return(0,o.createElement)("div",{className:"search-console-Advanced"},e.site&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)("p",null,(0,T.__)("Do you want to add meta tag verification on your site?","search-console")),(0,o.createElement)(r.ToggleControl,{label:(0,T.__)("Add verification to site?","search-console"),help:(0,T.__)("Check this if you want output meta verification on frontend.","search-console"),checked:e.siteVerification,onChange:e=>{t("siteVerification",e)}})),e.siteVerification&&(0,o.createElement)(r.__experimentalInputControl,{help:(0,T.__)("Please click on icon to generate your meta verification tag.","search-console"),label:(0,T.__)("Your meta verification tag","search-console"),value:e.meta,onChange:e=>{t("meta",e)},suffix:(0,o.createElement)(r.Button,{onClick:()=>{e.siteVerification&&e.site&&window.gapi.client.load("siteVerification","v1").then((()=>{window.gapi.client.siteVerification.webResource.getToken({verificationMethod:"META",site:{identifier:e.site.replace("sc-domain:",""),type:"SITE"}}).then((e=>{t("meta",e.result.token)})).catch((e=>{401===e.status&&n()}))}))},icon:"update"})}))};function be(){const{settings:e,updateSetting:t}=(0,o.useContext)(Y),n=(0,E.useSelect)((e=>e(Q.store).getPostTypes({per_page:-1})),[]),a=Array.isArray(n)?n.filter((e=>e.viewable&&"attachment"!==e.slug)).map((e=>({label:e.labels.singular_name,value:e.slug}))):n;return(0,o.createElement)(o.Fragment,null,(0,o.createElement)("p",null,(0,T.__)("Choose on which post type you want see Search Console data.","search-console")),a&&a.map(((n,a)=>(0,o.createElement)(r.ToggleControl,{key:a,label:n.label,checked:e.postTypes.includes(n.value),onChange:o=>{o?(n=>{t("postTypes",[...e.postTypes,n])})(n.value):(n=>{const o=e.postTypes.filter((e=>e!==n));t("postTypes",o)})(n.value)}}))))}const Ee=e=>{const{settings:t,updateSetting:n,refreshToken:a}=(0,o.useContext)(Y),[i,s]=(0,o.useState)(null);(0,o.useEffect)((()=>{t.token&&l()}),[t.token]);const l=()=>{var e,n,o,r,i;const l=[{value:"",label:(0,T.__)("Select a site","search-console")}];null===(e=window.gapi)||void 0===e||null===(n=e.client)||void 0===n||n.setToken(t.token),null===(o=window.gapi)||void 0===o||null===(r=o.client)||void 0===r||null===(i=r.webmasters)||void 0===i||i.sites.list().then((e=>{e.result.siteEntry.forEach((e=>{l.push({value:e.siteUrl,label:e.siteUrl})})),l.sort((function(e,t){return e.value<t.value?-1:0})),s(l.sort())})).catch((e=>{401===e.status&&a()}))};return(0,o.createElement)(r.Card,null,(0,o.createElement)(r.CardHeader,null,(0,T.__)("Options","search-console")),(0,o.createElement)(r.CardBody,null,(0,o.createElement)(r.SelectControl,{options:i,label:(0,T.__)("Choose site","search-console"),help:(0,T.__)("Choose one of your sites.","search-console"),value:t.site,onChange:e=>{n("site",e)}}),(0,o.createElement)(be,e),(0,o.createElement)(Ce,e)))};var Se=n(184),Re=n.n(Se);const xe=function(e){let{icon:t,size:n=24,...r}=e;return(0,o.cloneElement)(t,{width:n,height:n,...r})},Pe=window.wp.primitives,Te=(0,o.createElement)(Pe.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(Pe.Path,{d:"M17.3 10.1c0-2.5-2.1-4.4-4.8-4.4-2.2 0-4.1 1.4-4.6 3.3h-.2C5.7 9 4 10.7 4 12.8c0 2.1 1.7 3.8 3.7 3.8h9c1.8 0 3.2-1.5 3.2-3.3.1-1.6-1.1-2.9-2.6-3.2zm-.5 5.1h-9c-1.2 0-2.2-1.1-2.2-2.3s1-2.4 2.2-2.4h1.3l.3-1.1c.4-1.3 1.7-2.2 3.2-2.2 1.8 0 3.3 1.3 3.3 2.9v1.3l1.3.2c.8.1 1.4.9 1.4 1.8-.1 1-.9 1.8-1.8 1.8z"}));function _e(){const[e]=(0,o.useState)("saved"),{isSaving:t,saveSettings:n}=(0,o.useContext)(Y);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(r.Flex,{justify:"flex-start"},(0,o.createElement)(r.Button,{className:"save-settings__save-button",onClick:()=>n(),disabled:t,isBusy:t,variant:"primary"},(0,T.__)("Save","search-console")),[t&&(0,o.createElement)(r.Animate,{type:"loading",key:"saving"},(e=>{let{className:t}=e;return(0,o.createElement)(r.Flex,{justify:"flex-start",className:Re()("message",t),gap:1},(0,o.createElement)(xe,{icon:Te}),(0,T.__)("Saving","block-visibility"))})),"error"===e&&(0,o.createElement)("span",{className:"message update-failed",key:"error"},(0,T.__)("Update failed. Try again or get in touch with support.","search-console"))]))}const ke=()=>{const{ready:e,settings:t}=(0,o.useContext)(Y);return e&&t?(0,o.createElement)("div",{className:"search-console-settings"},(0,o.createElement)(ye,null),(0,o.createElement)(Ee,null),(0,o.createElement)(we,null),(0,o.createElement)(_e,null)):(0,o.createElement)(_,{text:(0,T.__)("Fetching data…","search-console")})};function Ie(e){let{title:t}=e;return(0,o.createElement)("div",{className:"masthead"},(0,o.createElement)("div",{className:"masthead__branding"},(0,o.createElement)("h1",null,t)))}function Be(e){let{title:t}=e;return(0,o.createElement)("div",{className:"footer"},(0,o.createElement)("div",{className:"inner-container"},(0,o.createElement)("a",{href:"https://github.com/Tropicalista/search-console",target:"_blank"},"Github"),(0,o.createElement)("a",{href:"https://wordpress.org/support/plugin/search-console/",target:"_blank"},(0,T.__)("Support","search-console")),(0,o.createElement)("a",{href:"https://wordpress.org/support/plugin/formello/reviews/#new-post",target:"_blank"},(0,T.__)("Rate ","formello"),(0,o.createElement)(r.Icon,{icon:"star-filled"}),(0,o.createElement)(r.Icon,{icon:"star-filled"}),(0,o.createElement)(r.Icon,{icon:"star-filled"}),(0,o.createElement)(r.Icon,{icon:"star-filled"}),(0,o.createElement)(r.Icon,{icon:"star-filled"}))))}const Fe=()=>{const e=v(),{params:t}=(0,o.useContext)(h),n=document.querySelector("#toplevel_page_search-console"),r=()=>{const e=(0,c.getQueryArg)(window.location.href,"page");if(e)for(const t of n.querySelectorAll("a"))e===(0,c.getQueryArg)(t.href,"page")?(t.classList.add("current"),t.parentElement.classList.add("current")):(t.classList.remove("current"),t.parentElement.classList.remove("current"))},a=t=>{t.preventDefault(),e.push({page:(0,c.getQueryArg)(t.target.href,"page")}),r()};return(0,o.useEffect)((()=>(r(),n.addEventListener("click",a,!1),()=>{n.removeEventListener("click",a)})),[]),"search-console-settings"===t.page?(0,o.createElement)(ke,null):(0,o.createElement)(me,null)},De=()=>(0,o.createElement)(w,null,(0,o.createElement)(Ie,{title:"Search Console"}),(0,o.createElement)(K,null,(0,o.createElement)(Fe,null)),(0,o.createElement)(Be,null));window.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("search-console-wrapper");(0,o.createRoot)(e).render((0,o.createElement)(De,null))}))},184:(e,t)=>{var n;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var i=r.apply(null,n);i&&e.push(i)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)o.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},217:function(e,t,n){!function(e,t){"use strict";function n(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}function o(e){return function(){var t=this,o=arguments;return new Promise((function(r,a){var i=e.apply(t,o);function s(e){n(i,r,a,s,l,"next",e)}function l(e){n(i,r,a,s,l,"throw",e)}s(void 0)}))}}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}function i(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var s={init:"init"},l=function(e){var t=e.value;return void 0===t?"":t},u=function(){return t.createElement(t.Fragment,null," ")},c={Cell:l,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){var n=t.style,o=t.className;return e=r({},e,{},a(t,["style","className"])),n&&(e.style=e.style?r({},e.style||{},{},n||{}):n),o&&(e.className=e.className?e.className+" "+o:o),""===e.className&&delete e.className,e}),{})}var p=function(e,t){return void 0===t&&(t={}),function(n){return void 0===n&&(n={}),[].concat(e,[n]).reduce((function(e,o){return function e(t,n,o){return"function"==typeof n?e({},n(t,o)):Array.isArray(n)?d.apply(void 0,[t].concat(n)):d(t,n)}(e,o,r({},t,{userProps:n}))}),{})}},g=function(e,t,n,o){return void 0===n&&(n={}),e.reduce((function(e,t){return t(e,n)}),t)},m=function(e,t,n){return void 0===n&&(n={}),e.forEach((function(e){e(t,n)}))};function h(e,t,n,o){e.findIndex((function(e){return e.pluginName===n})),t.forEach((function(t){e.findIndex((function(e){return e.pluginName===t}))}))}function f(e,t){return"function"==typeof e?e(t):e}function v(e){var n=t.useRef();return n.current=e,t.useCallback((function(){return n.current}),[])}var y="undefined"!=typeof document?t.useLayoutEffect:t.useEffect;function w(e,n){var o=t.useRef(!1);y((function(){o.current&&e(),o.current=!0}),n)}function C(e,t,n){return void 0===n&&(n={}),function(o,a){void 0===a&&(a={});var i="string"==typeof o?t[o]:o;if(void 0===i)throw console.info(t),new Error("Renderer Error ☝️");return b(i,r({},e,{column:t},n,{},a))}}function b(e,n){return function(e){return"function"==typeof e&&(t=Object.getPrototypeOf(e)).prototype&&t.prototype.isReactComponent;var t}(o=e)||"function"==typeof o||function(e){return"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(o)?t.createElement(e,n):e;var o}function E(e,t,n){return void 0===n&&(n=0),e.map((function(e){return R(e=r({},e,{parent:t,depth:n})),e.columns&&(e.columns=E(e.columns,e,n+1)),e}))}function S(e){return I(e,"columns")}function R(e){var t=e.id,n=e.accessor,o=e.Header;if("string"==typeof n){t=t||n;var r=n.split(".");n=function(e){return function(e,t,n){if(!t)return e;var o,r="function"==typeof t?t:JSON.stringify(t),a=T.get(r)||function(){var e=function(e){return function e(t,n){if(void 0===n&&(n=[]),Array.isArray(t))for(var o=0;o<t.length;o+=1)e(t[o],n);else n.push(t);return n}(e).map((function(e){return String(e).replace(".","_")})).join(".").replace(z,".").replace(O,"").split(".")}(t);return T.set(r,e),e}();try{o=a.reduce((function(e,t){return e[t]}),e)}catch(e){}return void 0!==o?o:void 0}(e,r)}}if(!t&&"string"==typeof o&&o&&(t=o),!t&&e.columns)throw console.error(e),new Error('A column ID (or unique "Header" value) is required!');if(!t)throw console.error(e),new Error("A column ID (or string accessor) is required!");return Object.assign(e,{id:t,accessor:n}),e}function x(e,t){if(!t)throw new Error;return Object.assign(e,r({Header:u,Footer:u},c,{},t,{},e)),Object.assign(e,{originalWidth:e.width}),e}function P(e,t,n){void 0===n&&(n=function(){return{}});for(var o=[],a=e,i=0,s=function(){return i++},l=function(){var e={headers:[]},i=[],l=a.some((function(e){return e.parent}));a.forEach((function(o){var a,u=[].concat(i).reverse()[0];l&&(a=o.parent?r({},o.parent,{originalId:o.parent.id,id:o.parent.id+"_"+s(),headers:[o]},n(o)):x(r({originalId:o.id+"_placeholder",id:o.id+"_placeholder_"+s(),placeholderOf:o,headers:[o]},n(o)),t),u&&u.originalId===a.originalId?u.headers.push(o):i.push(a)),e.headers.push(o)})),o.push(e),a=i};a.length;)l();return o.reverse()}var T=new Map;function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var o=0;o<t.length;o+=1)if(void 0!==t[o])return t[o]}function k(e){if("function"==typeof e)return e}function I(e,t){var n=[];return function e(o){o.forEach((function(o){o[t]?e(o[t]):n.push(o)}))}(e),n}function B(e,t){var n=t.manualExpandedKey,o=t.expanded,r=t.expandSubRows,a=void 0===r||r,i=[];return e.forEach((function(e){return function e(t,r){void 0===r&&(r=!0),t.isExpanded=t.original&&t.original[n]||o[t.id],t.canExpand=t.subRows&&!!t.subRows.length,r&&i.push(t),t.subRows&&t.subRows.length&&t.isExpanded&&t.subRows.forEach((function(t){return e(t,a)}))}(e)})),i}function F(e,t,n){return k(e)||t[e]||n[e]||n.text}function D(e,t,n){return e?e(t,n):void 0===t}function A(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var G=null,z=/\[/g,O=/\]/g,M=function(e){return r({role:"table"},e)},N=function(e){return r({role:"rowgroup"},e)},L=function(e,t){var n=t.column;return r({key:"header_"+n.id,colSpan:n.totalVisibleHeaderCount,role:"columnheader"},e)},W=function(e,t){var n=t.column;return r({key:"footer_"+n.id,colSpan:n.totalVisibleHeaderCount},e)},H=function(e,t){return r({key:"headerGroup_"+t.index,role:"row"},e)},j=function(e,t){return r({key:"footerGroup_"+t.index},e)},V=function(e,t){return r({key:"row_"+t.row.id,role:"row"},e)},q=function(e,t){var n=t.cell;return r({key:"cell_"+n.row.id+"_"+n.column.id,role:"cell"},e)};function U(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[M],getTableBodyProps:[N],getHeaderGroupProps:[H],getFooterGroupProps:[j],getHeaderProps:[L],getFooterProps:[W],getRowProps:[V],getCellProps:[q],useFinalInstance:[]}}s.resetHiddenColumns="resetHiddenColumns",s.toggleHideColumn="toggleHideColumn",s.setHiddenColumns="setHiddenColumns",s.toggleHideAllColumns="toggleHideAllColumns";var Q=function(e){e.getToggleHiddenProps=[Y],e.getToggleHideAllColumnsProps=[K],e.stateReducers.push(X),e.useInstanceBeforeDimensions.push($),e.headerGroupsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.hiddenColumns])})),e.useInstance.push(J)};Q.pluginName="useColumnVisibility";var Y=function(e,t){var n=t.column;return[e,{onChange:function(e){n.toggleHidden(!e.target.checked)},style:{cursor:"pointer"},checked:n.isVisible,title:"Toggle Column Visible"}]},K=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleHideAllColumns(!e.target.checked)},style:{cursor:"pointer"},checked:!n.allColumnsHidden&&!n.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!n.allColumnsHidden&&n.state.hiddenColumns.length}]};function X(e,t,n,o){if(t.type===s.init)return r({hiddenColumns:[]},e);if(t.type===s.resetHiddenColumns)return r({},e,{hiddenColumns:o.initialState.hiddenColumns||[]});if(t.type===s.toggleHideColumn){var a=(void 0!==t.value?t.value:!e.hiddenColumns.includes(t.columnId))?[].concat(e.hiddenColumns,[t.columnId]):e.hiddenColumns.filter((function(e){return e!==t.columnId}));return r({},e,{hiddenColumns:a})}return t.type===s.setHiddenColumns?r({},e,{hiddenColumns:f(t.value,e.hiddenColumns)}):t.type===s.toggleHideAllColumns?r({},e,{hiddenColumns:(void 0!==t.value?t.value:!e.hiddenColumns.length)?o.allColumns.map((function(e){return e.id})):[]}):void 0}function $(e){var n=e.headers,o=e.state.hiddenColumns;t.useRef(!1).current;var r=0;n.forEach((function(e){return r+=function e(t,n){t.isVisible=n&&!o.includes(t.id);var r=0;return t.headers&&t.headers.length?t.headers.forEach((function(n){return r+=e(n,t.isVisible)})):r=t.isVisible?1:0,t.totalVisibleHeaderCount=r,r}(e,!0)}))}function J(e){var n=e.columns,o=e.flatHeaders,r=e.dispatch,a=e.allColumns,i=e.getHooks,l=e.state.hiddenColumns,u=e.autoResetHiddenColumns,c=void 0===u||u,d=v(e),g=a.length===l.length,m=t.useCallback((function(e,t){return r({type:s.toggleHideColumn,columnId:e,value:t})}),[r]),h=t.useCallback((function(e){return r({type:s.setHiddenColumns,value:e})}),[r]),f=t.useCallback((function(e){return r({type:s.toggleHideAllColumns,value:e})}),[r]),y=p(i().getToggleHideAllColumnsProps,{instance:d()});o.forEach((function(e){e.toggleHidden=function(t){r({type:s.toggleHideColumn,columnId:e.id,value:t})},e.getToggleHiddenProps=p(i().getToggleHiddenProps,{instance:d(),column:e})}));var C=v(c);w((function(){C()&&r({type:s.resetHiddenColumns})}),[r,n]),Object.assign(e,{allColumnsHidden:g,toggleHideColumn:m,setHiddenColumns:h,toggleHideAllColumns:f,getToggleHideAllColumnsProps:y})}var Z={},ee={},te=function(e,t,n){return e},ne=function(e,t){return e.subRows||[]},oe=function(e,t,n){return""+(n?[n.id,t].join("."):t)},re=function(e){return e};function ae(e){var t=e.initialState,n=void 0===t?Z:t,o=e.defaultColumn,i=void 0===o?ee:o,s=e.getSubRows,l=void 0===s?ne:s,u=e.getRowId,c=void 0===u?oe:u,d=e.stateReducer,p=void 0===d?te:d,g=e.useControlledState,m=void 0===g?re:g;return r({},a(e,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:n,defaultColumn:i,getSubRows:l,getRowId:c,stateReducer:p,useControlledState:m})}function ie(e,t){void 0===t&&(t=0);var n=0,o=0,r=0,a=0;return e.forEach((function(e){var i=e.headers;if(e.totalLeft=t,i&&i.length){var s=ie(i,t),l=s[0],u=s[1],c=s[2],d=s[3];e.totalMinWidth=l,e.totalWidth=u,e.totalMaxWidth=c,e.totalFlexWidth=d}else e.totalMinWidth=e.minWidth,e.totalWidth=Math.min(Math.max(e.minWidth,e.width),e.maxWidth),e.totalMaxWidth=e.maxWidth,e.totalFlexWidth=e.canResize?e.totalWidth:0;e.isVisible&&(t+=e.totalWidth,n+=e.totalMinWidth,o+=e.totalWidth,r+=e.totalMaxWidth,a+=e.totalFlexWidth)})),[n,o,r,a]}function se(e){var t=e.data,n=e.rows,o=e.flatRows,r=e.rowsById,a=e.column,i=e.getRowId,s=e.getSubRows,l=e.accessValueHooks,u=e.getInstance;t.forEach((function(e,c){return function e(n,c,d,p,m){void 0===d&&(d=0);var h=n,f=i(n,c,p),v=r[f];if(v)v.subRows&&v.originalSubRows.forEach((function(t,n){return e(t,n,d+1,v)}));else if((v={id:f,original:h,index:c,depth:d,cells:[{}]}).cells.map=A,v.cells.filter=A,v.cells.forEach=A,v.cells[0].getCellProps=A,v.values={},m.push(v),o.push(v),r[f]=v,v.originalSubRows=s(n,c),v.originalSubRows){var y=[];v.originalSubRows.forEach((function(t,n){return e(t,n,d+1,v,y)})),v.subRows=y}a.accessor&&(v.values[a.id]=a.accessor(n,c,v,m,t)),v.values[a.id]=g(l,v.values[a.id],{row:v,column:a,instance:u()})}(e,c,0,void 0,n)}))}s.resetExpanded="resetExpanded",s.toggleRowExpanded="toggleRowExpanded",s.toggleAllRowsExpanded="toggleAllRowsExpanded";var le=function(e){e.getToggleAllRowsExpandedProps=[ue],e.getToggleRowExpandedProps=[ce],e.stateReducers.push(de),e.useInstance.push(pe),e.prepareRow.push(ge)};le.pluginName="useExpanded";var ue=function(e,t){var n=t.instance;return[e,{onClick:function(e){n.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},ce=function(e,t){var n=t.row;return[e,{onClick:function(){n.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function de(e,t,n,o){if(t.type===s.init)return r({expanded:{}},e);if(t.type===s.resetExpanded)return r({},e,{expanded:o.initialState.expanded||{}});if(t.type===s.toggleAllRowsExpanded){var l=t.value,u=o.rowsById,c=Object.keys(u).length===Object.keys(e.expanded).length;if(void 0!==l?l:!c){var d={};return Object.keys(u).forEach((function(e){d[e]=!0})),r({},e,{expanded:d})}return r({},e,{expanded:{}})}if(t.type===s.toggleRowExpanded){var p,g=t.id,m=t.value,h=e.expanded[g],f=void 0!==m?m:!h;if(!h&&f)return r({},e,{expanded:r({},e.expanded,(p={},p[g]=!0,p))});if(h&&!f){var v=e.expanded;return v[g],r({},e,{expanded:a(v,[g].map(i))})}return e}}function pe(e){var n=e.data,o=e.rows,r=e.rowsById,a=e.manualExpandedKey,i=void 0===a?"expanded":a,l=e.paginateExpandedRows,u=void 0===l||l,c=e.expandSubRows,d=void 0===c||c,g=e.autoResetExpanded,m=void 0===g||g,f=e.getHooks,y=e.plugins,C=e.state.expanded,b=e.dispatch;h(y,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var E=v(m),S=Boolean(Object.keys(r).length&&Object.keys(C).length);S&&Object.keys(r).some((function(e){return!C[e]}))&&(S=!1),w((function(){E()&&b({type:s.resetExpanded})}),[b,n]);var R=t.useCallback((function(e,t){b({type:s.toggleRowExpanded,id:e,value:t})}),[b]),x=t.useCallback((function(e){return b({type:s.toggleAllRowsExpanded,value:e})}),[b]),P=t.useMemo((function(){return u?B(o,{manualExpandedKey:i,expanded:C,expandSubRows:d}):o}),[u,o,i,C,d]),T=t.useMemo((function(){return function(e){var t=0;return Object.keys(e).forEach((function(e){var n=e.split(".");t=Math.max(t,n.length)})),t}(C)}),[C]),_=v(e),k=p(f().getToggleAllRowsExpandedProps,{instance:_()});Object.assign(e,{preExpandedRows:o,expandedRows:P,rows:P,expandedDepth:T,isAllRowsExpanded:S,toggleRowExpanded:R,toggleAllRowsExpanded:x,getToggleAllRowsExpandedProps:k})}function ge(e,t){var n=t.instance.getHooks,o=t.instance;e.toggleRowExpanded=function(t){return o.toggleRowExpanded(e.id,t)},e.getToggleRowExpandedProps=p(n().getToggleRowExpandedProps,{instance:o,row:e})}var me=function(e,t,n){return e.filter((function(e){return t.some((function(t){var o=e.values[t];return String(o).toLowerCase().includes(String(n).toLowerCase())}))}))};me.autoRemove=function(e){return!e};var he=function(e,t,n){return e.filter((function(e){return t.some((function(t){var o=e.values[t];return void 0===o||String(o).toLowerCase()===String(n).toLowerCase()}))}))};he.autoRemove=function(e){return!e};var fe=function(e,t,n){return e.filter((function(e){return t.some((function(t){var o=e.values[t];return void 0===o||String(o)===String(n)}))}))};fe.autoRemove=function(e){return!e};var ve=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t].includes(n)}))}))};ve.autoRemove=function(e){return!e||!e.length};var ye=function(e,t,n){return e.filter((function(e){return t.some((function(t){var o=e.values[t];return o&&o.length&&n.every((function(e){return o.includes(e)}))}))}))};ye.autoRemove=function(e){return!e||!e.length};var we=function(e,t,n){return e.filter((function(e){return t.some((function(t){var o=e.values[t];return o&&o.length&&n.some((function(e){return o.includes(e)}))}))}))};we.autoRemove=function(e){return!e||!e.length};var Ce=function(e,t,n){return e.filter((function(e){return t.some((function(t){var o=e.values[t];return n.includes(o)}))}))};Ce.autoRemove=function(e){return!e||!e.length};var be=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t]===n}))}))};be.autoRemove=function(e){return void 0===e};var Ee=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t]==n}))}))};Ee.autoRemove=function(e){return null==e};var Se=function(e,t,n){var o=n||[],r=o[0],a=o[1];if((r="number"==typeof r?r:-1/0)>(a="number"==typeof a?a:1/0)){var i=r;r=a,a=i}return e.filter((function(e){return t.some((function(t){var n=e.values[t];return n>=r&&n<=a}))}))};Se.autoRemove=function(e){return!e||"number"!=typeof e[0]&&"number"!=typeof e[1]};var Re=Object.freeze({__proto__:null,text:me,exactText:he,exactTextCase:fe,includes:ve,includesAll:ye,includesSome:we,includesValue:Ce,exact:be,equals:Ee,between:Se});s.resetFilters="resetFilters",s.setFilter="setFilter",s.setAllFilters="setAllFilters";var xe=function(e){e.stateReducers.push(Pe),e.useInstance.push(Te)};function Pe(e,t,n,o){if(t.type===s.init)return r({filters:[]},e);if(t.type===s.resetFilters)return r({},e,{filters:o.initialState.filters||[]});if(t.type===s.setFilter){var a=t.columnId,i=t.filterValue,l=o.allColumns,u=o.filterTypes,c=l.find((function(e){return e.id===a}));if(!c)throw new Error("React-Table: Could not find a column with id: "+a);var d=F(c.filter,u||{},Re),p=e.filters.find((function(e){return e.id===a})),g=f(i,p&&p.value);return D(d.autoRemove,g,c)?r({},e,{filters:e.filters.filter((function(e){return e.id!==a}))}):r({},e,p?{filters:e.filters.map((function(e){return e.id===a?{id:a,value:g}:e}))}:{filters:[].concat(e.filters,[{id:a,value:g}])})}if(t.type===s.setAllFilters){var m=t.filters,h=o.allColumns,v=o.filterTypes;return r({},e,{filters:f(m,e.filters).filter((function(e){var t=h.find((function(t){return t.id===e.id}));return!D(F(t.filter,v||{},Re).autoRemove,e.value,t)}))})}}function Te(e){var n=e.data,o=e.rows,r=e.flatRows,a=e.rowsById,i=e.allColumns,l=e.filterTypes,u=e.manualFilters,c=e.defaultCanFilter,d=void 0!==c&&c,p=e.disableFilters,g=e.state.filters,m=e.dispatch,h=e.autoResetFilters,f=void 0===h||h,y=t.useCallback((function(e,t){m({type:s.setFilter,columnId:e,filterValue:t})}),[m]),C=t.useCallback((function(e){m({type:s.setAllFilters,filters:e})}),[m]);i.forEach((function(e){var t=e.id,n=e.accessor,o=e.defaultCanFilter,r=e.disableFilters;e.canFilter=n?_(!0!==r&&void 0,!0!==p&&void 0,!0):_(o,d,!1),e.setFilter=function(t){return y(e.id,t)};var a=g.find((function(e){return e.id===t}));e.filterValue=a&&a.value}));var b=t.useMemo((function(){if(u||!g.length)return[o,r,a];var e=[],t={};return[function n(o,r){void 0===r&&(r=0);var a=o;return(a=g.reduce((function(e,t){var n=t.id,o=t.value,a=i.find((function(e){return e.id===n}));if(!a)return e;0===r&&(a.preFilteredRows=e);var s=F(a.filter,l||{},Re);return s?(a.filteredRows=s(e,[n],o),a.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+a.id+"."),e)}),o)).forEach((function(o){e.push(o),t[o.id]=o,o.subRows&&(o.subRows=o.subRows&&o.subRows.length>0?n(o.subRows,r+1):o.subRows)})),a}(o),e,t]}),[u,g,o,r,a,i,l]),E=b[0],S=b[1],R=b[2];t.useMemo((function(){i.filter((function(e){return!g.find((function(t){return t.id===e.id}))})).forEach((function(e){e.preFilteredRows=E,e.filteredRows=E}))}),[E,g,i]);var x=v(f);w((function(){x()&&m({type:s.resetFilters})}),[m,u?null:n]),Object.assign(e,{preFilteredRows:o,preFilteredFlatRows:r,preFilteredRowsById:a,filteredRows:E,filteredFlatRows:S,filteredRowsById:R,rows:E,flatRows:S,rowsById:R,setFilter:y,setAllFilters:C})}xe.pluginName="useFilters",s.resetGlobalFilter="resetGlobalFilter",s.setGlobalFilter="setGlobalFilter";var _e=function(e){e.stateReducers.push(ke),e.useInstance.push(Ie)};function ke(e,t,n,o){if(t.type===s.resetGlobalFilter)return r({},e,{globalFilter:o.initialState.globalFilter||void 0});if(t.type===s.setGlobalFilter){var i=t.filterValue,l=o.userFilterTypes,u=F(o.globalFilter,l||{},Re),c=f(i,e.globalFilter);return D(u.autoRemove,c)?(e.globalFilter,a(e,["globalFilter"])):r({},e,{globalFilter:c})}}function Ie(e){var n=e.data,o=e.rows,r=e.flatRows,a=e.rowsById,i=e.allColumns,l=e.filterTypes,u=e.globalFilter,c=e.manualGlobalFilter,d=e.state.globalFilter,p=e.dispatch,g=e.autoResetGlobalFilter,m=void 0===g||g,h=e.disableGlobalFilter,f=t.useCallback((function(e){p({type:s.setGlobalFilter,filterValue:e})}),[p]),y=t.useMemo((function(){if(c||void 0===d)return[o,r,a];var e=[],t={},n=F(u,l||{},Re);if(!n)return console.warn("Could not find a valid 'globalFilter' option."),o;i.forEach((function(e){var t=e.disableGlobalFilter;e.canFilter=_(!0!==t&&void 0,!0!==h&&void 0,!0)}));var s=i.filter((function(e){return!0===e.canFilter}));return[function o(r){return(r=n(r,s.map((function(e){return e.id})),d)).forEach((function(n){e.push(n),t[n.id]=n,n.subRows=n.subRows&&n.subRows.length?o(n.subRows):n.subRows})),r}(o),e,t]}),[c,d,u,l,i,o,r,a,h]),C=y[0],b=y[1],E=y[2],S=v(m);w((function(){S()&&p({type:s.resetGlobalFilter})}),[p,c?null:n]),Object.assign(e,{preGlobalFilteredRows:o,preGlobalFilteredFlatRows:r,preGlobalFilteredRowsById:a,globalFilteredRows:C,globalFilteredFlatRows:b,globalFilteredRowsById:E,rows:C,flatRows:b,rowsById:E,setGlobalFilter:f,disableGlobalFilter:h})}function Be(e,t){return t.reduce((function(e,t){return e+("number"==typeof t?t:0)}),0)}_e.pluginName="useGlobalFilter";var Fe=Object.freeze({__proto__:null,sum:Be,min:function(e){var t=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.min(t,e))})),t},max:function(e){var t=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.max(t,e))})),t},minMax:function(e){var t=e[0]||0,n=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.min(t,e),n=Math.max(n,e))})),t+".."+n},average:function(e){return Be(0,e)/e.length},median:function(e){if(!e.length)return null;var t=Math.floor(e.length/2),n=[].concat(e).sort((function(e,t){return e-t}));return e.length%2!=0?n[t]:(n[t-1]+n[t])/2},unique:function(e){return Array.from(new Set(e).values())},uniqueCount:function(e){return new Set(e).size},count:function(e){return e.length}}),De=[],Ae={};s.resetGroupBy="resetGroupBy",s.setGroupBy="setGroupBy",s.toggleGroupBy="toggleGroupBy";var Ge=function(e){e.getGroupByToggleProps=[ze],e.stateReducers.push(Oe),e.visibleColumnsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.groupBy])})),e.visibleColumns.push(Me),e.useInstance.push(Le),e.prepareRow.push(We)};Ge.pluginName="useGroupBy";var ze=function(e,t){var n=t.header;return[e,{onClick:n.canGroupBy?function(e){e.persist(),n.toggleGroupBy()}:void 0,style:{cursor:n.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function Oe(e,t,n,o){if(t.type===s.init)return r({groupBy:[]},e);if(t.type===s.resetGroupBy)return r({},e,{groupBy:o.initialState.groupBy||[]});if(t.type===s.setGroupBy)return r({},e,{groupBy:t.value});if(t.type===s.toggleGroupBy){var a=t.columnId,i=t.value,l=void 0!==i?i:!e.groupBy.includes(a);return r({},e,l?{groupBy:[].concat(e.groupBy,[a])}:{groupBy:e.groupBy.filter((function(e){return e!==a}))})}}function Me(e,t){var n=t.instance.state.groupBy,o=n.map((function(t){return e.find((function(e){return e.id===t}))})).filter(Boolean),r=e.filter((function(e){return!n.includes(e.id)}));return(e=[].concat(o,r)).forEach((function(e){e.isGrouped=n.includes(e.id),e.groupedIndex=n.indexOf(e.id)})),e}var Ne={};function Le(e){var n=e.data,o=e.rows,a=e.flatRows,i=e.rowsById,l=e.allColumns,u=e.flatHeaders,c=e.groupByFn,d=void 0===c?He:c,g=e.manualGroupBy,m=e.aggregations,f=void 0===m?Ne:m,y=e.plugins,C=e.state.groupBy,b=e.dispatch,E=e.autoResetGroupBy,S=void 0===E||E,R=e.disableGroupBy,x=e.defaultCanGroupBy,P=e.getHooks;h(y,["useColumnOrder","useFilters"],"useGroupBy");var T=v(e);l.forEach((function(t){var n=t.accessor,o=t.defaultGroupBy,r=t.disableGroupBy;t.canGroupBy=n?_(t.canGroupBy,!0!==r&&void 0,!0!==R&&void 0,!0):_(t.canGroupBy,o,x,!1),t.canGroupBy&&(t.toggleGroupBy=function(){return e.toggleGroupBy(t.id)}),t.Aggregated=t.Aggregated||t.Cell}));var k=t.useCallback((function(e,t){b({type:s.toggleGroupBy,columnId:e,value:t})}),[b]),B=t.useCallback((function(e){b({type:s.setGroupBy,value:e})}),[b]);u.forEach((function(e){e.getGroupByToggleProps=p(P().getGroupByToggleProps,{instance:T(),header:e})}));var F=t.useMemo((function(){if(g||!C.length)return[o,a,i,De,Ae,a,i];var e=C.filter((function(e){return l.find((function(t){return t.id===e}))})),t=[],n={},s=[],u={},c=[],p={},m=function o(a,i,g){if(void 0===i&&(i=0),i===e.length)return a.map((function(e){return r({},e,{depth:i})}));var m=e[i],h=d(a,m);return Object.entries(h).map((function(r,a){var d=r[0],h=r[1],v=m+":"+d,y=o(h,i+1,v=g?g+">"+v:v),w=i?I(h,"leafRows"):h,C=function(t,n,o){var r={};return l.forEach((function(a){if(e.includes(a.id))r[a.id]=n[0]?n[0].values[a.id]:null;else{var i="function"==typeof a.aggregate?a.aggregate:f[a.aggregate]||Fe[a.aggregate];if(i){var s=n.map((function(e){return e.values[a.id]})),l=t.map((function(e){var t=e.values[a.id];if(!o&&a.aggregateValue){var n="function"==typeof a.aggregateValue?a.aggregateValue:f[a.aggregateValue]||Fe[a.aggregateValue];if(!n)throw console.info({column:a}),new Error("React Table: Invalid column.aggregateValue option for column listed above");t=n(t,e,a)}return t}));r[a.id]=i(l,s)}else{if(a.aggregate)throw console.info({column:a}),new Error("React Table: Invalid column.aggregate option for column listed above");r[a.id]=null}}})),r}(w,h,i),b={id:v,isGrouped:!0,groupByID:m,groupByVal:d,values:C,subRows:y,leafRows:w,depth:i,index:a};return y.forEach((function(e){t.push(e),n[e.id]=e,e.isGrouped?(s.push(e),u[e.id]=e):(c.push(e),p[e.id]=e)})),b}))}(o);return m.forEach((function(e){t.push(e),n[e.id]=e,e.isGrouped?(s.push(e),u[e.id]=e):(c.push(e),p[e.id]=e)})),[m,t,n,s,u,c,p]}),[g,C,o,a,i,l,f,d]),D=F[0],A=F[1],G=F[2],z=F[3],O=F[4],M=F[5],N=F[6],L=v(S);w((function(){L()&&b({type:s.resetGroupBy})}),[b,g?null:n]),Object.assign(e,{preGroupedRows:o,preGroupedFlatRow:a,preGroupedRowsById:i,groupedRows:D,groupedFlatRows:A,groupedRowsById:G,onlyGroupedFlatRows:z,onlyGroupedRowsById:O,nonGroupedFlatRows:M,nonGroupedRowsById:N,rows:D,flatRows:A,rowsById:G,toggleGroupBy:k,setGroupBy:B})}function We(e){e.allCells.forEach((function(t){var n;t.isGrouped=t.column.isGrouped&&t.column.id===e.groupByID,t.isPlaceholder=!t.isGrouped&&t.column.isGrouped,t.isAggregated=!t.isGrouped&&!t.isPlaceholder&&(null==(n=e.subRows)?void 0:n.length)}))}function He(e,t){return e.reduce((function(e,n,o){var r=""+n.values[t];return e[r]=Array.isArray(e[r])?e[r]:[],e[r].push(n),e}),{})}var je=/([0-9]+)/gm;function Ve(e,t){return e===t?0:e>t?1:-1}function qe(e,t,n){return[e.values[n],t.values[n]]}function Ue(e){return"number"==typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"==typeof e?e:""}var Qe=Object.freeze({__proto__:null,alphanumeric:function(e,t,n){var o=qe(e,t,n),r=o[0],a=o[1];for(r=Ue(r),a=Ue(a),r=r.split(je).filter(Boolean),a=a.split(je).filter(Boolean);r.length&&a.length;){var i=r.shift(),s=a.shift(),l=parseInt(i,10),u=parseInt(s,10),c=[l,u].sort();if(isNaN(c[0])){if(i>s)return 1;if(s>i)return-1}else{if(isNaN(c[1]))return isNaN(l)?-1:1;if(l>u)return 1;if(u>l)return-1}}return r.length-a.length},datetime:function(e,t,n){var o=qe(e,t,n),r=o[0],a=o[1];return Ve(r=r.getTime(),a=a.getTime())},basic:function(e,t,n){var o=qe(e,t,n);return Ve(o[0],o[1])},string:function(e,t,n){var o=qe(e,t,n),r=o[0],a=o[1];for(r=r.split("").filter(Boolean),a=a.split("").filter(Boolean);r.length&&a.length;){var i=r.shift(),s=a.shift(),l=i.toLowerCase(),u=s.toLowerCase();if(l>u)return 1;if(u>l)return-1;if(i>s)return 1;if(s>i)return-1}return r.length-a.length},number:function(e,t,n){var o=qe(e,t,n),r=o[0],a=o[1],i=/[^0-9.]/gi;return Ve(r=Number(String(r).replace(i,"")),a=Number(String(a).replace(i,"")))}});s.resetSortBy="resetSortBy",s.setSortBy="setSortBy",s.toggleSortBy="toggleSortBy",s.clearSortBy="clearSortBy",c.sortType="alphanumeric",c.sortDescFirst=!1;var Ye=function(e){e.getSortByToggleProps=[Ke],e.stateReducers.push(Xe),e.useInstance.push($e)};Ye.pluginName="useSortBy";var Ke=function(e,t){var n=t.instance,o=t.column,r=n.isMultiSortEvent,a=void 0===r?function(e){return e.shiftKey}:r;return[e,{onClick:o.canSort?function(e){e.persist(),o.toggleSortBy(void 0,!n.disableMultiSort&&a(e))}:void 0,style:{cursor:o.canSort?"pointer":void 0},title:o.canSort?"Toggle SortBy":void 0}]};function Xe(e,t,n,o){if(t.type===s.init)return r({sortBy:[]},e);if(t.type===s.resetSortBy)return r({},e,{sortBy:o.initialState.sortBy||[]});if(t.type===s.clearSortBy)return r({},e,{sortBy:e.sortBy.filter((function(e){return e.id!==t.columnId}))});if(t.type===s.setSortBy)return r({},e,{sortBy:t.sortBy});if(t.type===s.toggleSortBy){var a,i=t.columnId,l=t.desc,u=t.multi,c=o.allColumns,d=o.disableMultiSort,p=o.disableSortRemove,g=o.disableMultiRemove,m=o.maxMultiSortColCount,h=void 0===m?Number.MAX_SAFE_INTEGER:m,f=e.sortBy,v=c.find((function(e){return e.id===i})).sortDescFirst,y=f.find((function(e){return e.id===i})),w=f.findIndex((function(e){return e.id===i})),C=null!=l,b=[];return"toggle"!=(a=!d&&u?y?"toggle":"add":w!==f.length-1||1!==f.length?"replace":y?"toggle":"replace")||p||C||u&&g||!(y&&y.desc&&!v||!y.desc&&v)||(a="remove"),"replace"===a?b=[{id:i,desc:C?l:v}]:"add"===a?(b=[].concat(f,[{id:i,desc:C?l:v}])).splice(0,b.length-h):"toggle"===a?b=f.map((function(e){return e.id===i?r({},e,{desc:C?l:!y.desc}):e})):"remove"===a&&(b=f.filter((function(e){return e.id!==i}))),r({},e,{sortBy:b})}}function $e(e){var n=e.data,o=e.rows,r=e.flatRows,a=e.allColumns,i=e.orderByFn,l=void 0===i?Je:i,u=e.sortTypes,c=e.manualSortBy,d=e.defaultCanSort,g=e.disableSortBy,m=e.flatHeaders,f=e.state.sortBy,y=e.dispatch,C=e.plugins,b=e.getHooks,E=e.autoResetSortBy,S=void 0===E||E;h(C,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var R=t.useCallback((function(e){y({type:s.setSortBy,sortBy:e})}),[y]),x=t.useCallback((function(e,t,n){y({type:s.toggleSortBy,columnId:e,desc:t,multi:n})}),[y]),P=v(e);m.forEach((function(e){var t=e.accessor,n=e.canSort,o=e.disableSortBy,r=e.id,a=t?_(!0!==o&&void 0,!0!==g&&void 0,!0):_(d,n,!1);e.canSort=a,e.canSort&&(e.toggleSortBy=function(t,n){return x(e.id,t,n)},e.clearSortBy=function(){y({type:s.clearSortBy,columnId:e.id})}),e.getSortByToggleProps=p(b().getSortByToggleProps,{instance:P(),column:e});var i=f.find((function(e){return e.id===r}));e.isSorted=!!i,e.sortedIndex=f.findIndex((function(e){return e.id===r})),e.isSortedDesc=e.isSorted?i.desc:void 0}));var T=t.useMemo((function(){if(c||!f.length)return[o,r];var e=[],t=f.filter((function(e){return a.find((function(t){return t.id===e.id}))}));return[function n(o){var r=l(o,t.map((function(e){var t=a.find((function(t){return t.id===e.id}));if(!t)throw new Error("React-Table: Could not find a column with id: "+e.id+" while sorting");var n=t.sortType,o=k(n)||(u||{})[n]||Qe[n];if(!o)throw new Error("React-Table: Could not find a valid sortType of '"+n+"' for column '"+e.id+"'.");return function(t,n){return o(t,n,e.id,e.desc)}})),t.map((function(e){var t=a.find((function(t){return t.id===e.id}));return t&&t.sortInverted?e.desc:!e.desc})));return r.forEach((function(t){e.push(t),t.subRows&&0!==t.subRows.length&&(t.subRows=n(t.subRows))})),r}(o),e]}),[c,f,o,r,a,l,u]),I=T[0],B=T[1],F=v(S);w((function(){F()&&y({type:s.resetSortBy})}),[c?null:n]),Object.assign(e,{preSortedRows:o,preSortedFlatRows:r,sortedRows:I,sortedFlatRows:B,rows:I,flatRows:B,setSortBy:R,toggleSortBy:x})}function Je(e,t,n){return[].concat(e).sort((function(e,o){for(var r=0;r<t.length;r+=1){var a=t[r],i=!1===n[r]||"desc"===n[r],s=a(e,o);if(0!==s)return i?-s:s}return n[0]?e.index-o.index:o.index-e.index}))}s.resetPage="resetPage",s.gotoPage="gotoPage",s.setPageSize="setPageSize";var Ze=function(e){e.stateReducers.push(et),e.useInstance.push(tt)};function et(e,t,n,o){if(t.type===s.init)return r({pageSize:10,pageIndex:0},e);if(t.type===s.resetPage)return r({},e,{pageIndex:o.initialState.pageIndex||0});if(t.type===s.gotoPage){var a=o.pageCount,i=o.page,l=f(t.pageIndex,e.pageIndex),u=!1;return l>e.pageIndex?u=-1===a?i.length>=e.pageSize:l<a:l<e.pageIndex&&(u=l>-1),u?r({},e,{pageIndex:l}):e}if(t.type===s.setPageSize){var c=t.pageSize,d=e.pageSize*e.pageIndex;return r({},e,{pageIndex:Math.floor(d/c),pageSize:c})}}function tt(e){var n=e.rows,o=e.autoResetPage,r=void 0===o||o,a=e.manualExpandedKey,i=void 0===a?"expanded":a,l=e.plugins,u=e.pageCount,c=e.paginateExpandedRows,d=void 0===c||c,p=e.expandSubRows,g=void 0===p||p,m=e.state,f=m.pageSize,y=m.pageIndex,C=m.expanded,b=m.globalFilter,E=m.filters,S=m.groupBy,R=m.sortBy,x=e.dispatch,P=e.data,T=e.manualPagination;h(l,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var _=v(r);w((function(){_()&&x({type:s.resetPage})}),[x,T?null:P,b,E,S,R]);var k=T?u:Math.ceil(n.length/f),I=t.useMemo((function(){return k>0?[].concat(new Array(k)).fill(null).map((function(e,t){return t})):[]}),[k]),F=t.useMemo((function(){var e;if(T)e=n;else{var t=f*y,o=t+f;e=n.slice(t,o)}return d?e:B(e,{manualExpandedKey:i,expanded:C,expandSubRows:g})}),[g,C,i,T,y,f,d,n]),D=y>0,A=-1===k?F.length>=f:y<k-1,G=t.useCallback((function(e){x({type:s.gotoPage,pageIndex:e})}),[x]),z=t.useCallback((function(){return G((function(e){return e-1}))}),[G]),O=t.useCallback((function(){return G((function(e){return e+1}))}),[G]),M=t.useCallback((function(e){x({type:s.setPageSize,pageSize:e})}),[x]);Object.assign(e,{pageOptions:I,pageCount:k,page:F,canPreviousPage:D,canNextPage:A,gotoPage:G,previousPage:z,nextPage:O,setPageSize:M})}Ze.pluginName="usePagination",s.resetPivot="resetPivot",s.togglePivot="togglePivot";var nt=function(e){e.getPivotToggleProps=[rt],e.stateReducers.push(at),e.useInstanceAfterData.push(it),e.allColumns.push(st),e.accessValue.push(lt),e.materializedColumns.push(ut),e.materializedColumnsDeps.push(ct),e.visibleColumns.push(dt),e.visibleColumnsDeps.push(pt),e.useInstance.push(gt),e.prepareRow.push(mt)};nt.pluginName="usePivotColumns";var ot=[],rt=function(e,t){var n=t.header;return[e,{onClick:n.canPivot?function(e){e.persist(),n.togglePivot()}:void 0,style:{cursor:n.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function at(e,t,n,o){if(t.type===s.init)return r({pivotColumns:ot},e);if(t.type===s.resetPivot)return r({},e,{pivotColumns:o.initialState.pivotColumns||ot});if(t.type===s.togglePivot){var a=t.columnId,i=t.value,l=void 0!==i?i:!e.pivotColumns.includes(a);return r({},e,l?{pivotColumns:[].concat(e.pivotColumns,[a])}:{pivotColumns:e.pivotColumns.filter((function(e){return e!==a}))})}}function it(e){e.allColumns.forEach((function(t){t.isPivotSource=e.state.pivotColumns.includes(t.id)}))}function st(e,t){var n=t.instance;return e.forEach((function(e){e.isPivotSource=n.state.pivotColumns.includes(e.id),e.uniqueValues=new Set})),e}function lt(e,t){var n=t.column;return n.uniqueValues&&void 0!==e&&n.uniqueValues.add(e),e}function ut(e,t){var n=t.instance,o=n.allColumns,a=n.state;if(!a.pivotColumns.length||!a.groupBy||!a.groupBy.length)return e;var i=a.pivotColumns.map((function(e){return o.find((function(t){return t.id===e}))})).filter(Boolean),s=o.filter((function(e){return!e.isPivotSource&&!a.groupBy.includes(e.id)&&!a.pivotColumns.includes(e.id)})),l=S(function e(t,n,o){void 0===t&&(t=0),void 0===o&&(o=[]);var a=i[t];return a?Array.from(a.uniqueValues).sort().map((function(i){var s=r({},a,{Header:a.PivotHeader||"string"==typeof a.header?a.Header+": "+i:i,isPivotGroup:!0,parent:n,depth:t,id:n?n.id+"."+a.id+"."+i:a.id+"."+i,pivotValue:i});return s.columns=e(t+1,s,[].concat(o,[function(e){return e.values[a.id]===i}])),s})):s.map((function(e){return r({},e,{canPivot:!1,isPivoted:!0,parent:n,depth:t,id:""+(n?n.id+"."+e.id:e.id),accessor:function(t,n,r){if(o.every((function(e){return e(r)})))return r.values[e.id]}})}))}());return[].concat(e,l)}function ct(e,t){var n=t.instance.state,o=n.pivotColumns,r=n.groupBy;return[].concat(e,[o,r])}function dt(e,t){var n=t.instance.state;return e=e.filter((function(e){return!e.isPivotSource})),n.pivotColumns.length&&n.groupBy&&n.groupBy.length&&(e=e.filter((function(e){return e.isGrouped||e.isPivoted}))),e}function pt(e,t){var n=t.instance;return[].concat(e,[n.state.pivotColumns,n.state.groupBy])}function gt(e){var t=e.columns,n=e.allColumns,o=e.flatHeaders,r=e.getHooks,a=e.plugins,i=e.dispatch,l=e.autoResetPivot,u=void 0===l||l,c=e.manaulPivot,d=e.disablePivot,g=e.defaultCanPivot;h(a,["useGroupBy"],"usePivotColumns");var m=v(e);n.forEach((function(t){var n=t.accessor,o=t.defaultPivot,r=t.disablePivot;t.canPivot=n?_(t.canPivot,!0!==r&&void 0,!0!==d&&void 0,!0):_(t.canPivot,o,g,!1),t.canPivot&&(t.togglePivot=function(){return e.togglePivot(t.id)}),t.Aggregated=t.Aggregated||t.Cell})),o.forEach((function(e){e.getPivotToggleProps=p(r().getPivotToggleProps,{instance:m(),header:e})}));var f=v(u);w((function(){f()&&i({type:s.resetPivot})}),[i,c?null:t]),Object.assign(e,{togglePivot:function(e,t){i({type:s.togglePivot,columnId:e,value:t})}})}function mt(e){e.allCells.forEach((function(e){e.isPivoted=e.column.isPivoted}))}s.resetSelectedRows="resetSelectedRows",s.toggleAllRowsSelected="toggleAllRowsSelected",s.toggleRowSelected="toggleRowSelected",s.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var ht=function(e){e.getToggleRowSelectedProps=[ft],e.getToggleAllRowsSelectedProps=[vt],e.getToggleAllPageRowsSelectedProps=[yt],e.stateReducers.push(wt),e.useInstance.push(Ct),e.prepareRow.push(bt)};ht.pluginName="useRowSelect";var ft=function(e,t){var n=t.instance,o=t.row,r=n.manualRowSelectedKey,a=void 0===r?"isSelected":r;return[e,{onChange:function(e){o.toggleRowSelected(e.target.checked)},style:{cursor:"pointer"},checked:!(!o.original||!o.original[a])||o.isSelected,title:"Toggle Row Selected",indeterminate:o.isSomeSelected}]},vt=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleAllRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:n.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:Boolean(!n.isAllRowsSelected&&Object.keys(n.state.selectedRowIds).length)}]},yt=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleAllPageRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:n.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:Boolean(!n.isAllPageRowsSelected&&n.page.some((function(e){var t=e.id;return n.state.selectedRowIds[t]})))}]};function wt(e,t,n,o){if(t.type===s.init)return r({selectedRowIds:{}},e);if(t.type===s.resetSelectedRows)return r({},e,{selectedRowIds:o.initialState.selectedRowIds||{}});if(t.type===s.toggleAllRowsSelected){var a=t.value,i=o.isAllRowsSelected,l=o.rowsById,u=o.nonGroupedRowsById,c=void 0===u?l:u,d=void 0!==a?a:!i,p=Object.assign({},e.selectedRowIds);return d?Object.keys(c).forEach((function(e){p[e]=!0})):Object.keys(c).forEach((function(e){delete p[e]})),r({},e,{selectedRowIds:p})}if(t.type===s.toggleRowSelected){var g=t.id,m=t.value,h=o.rowsById,f=o.selectSubRows,v=void 0===f||f,y=o.getSubRows,w=e.selectedRowIds[g],C=void 0!==m?m:!w;if(w===C)return e;var b=r({},e.selectedRowIds);return function e(t){var n=h[t];if(n&&(n.isGrouped||(C?b[t]=!0:delete b[t]),v&&y(n)))return y(n).forEach((function(t){return e(t.id)}))}(g),r({},e,{selectedRowIds:b})}if(t.type===s.toggleAllPageRowsSelected){var E=t.value,S=o.page,R=o.rowsById,x=o.selectSubRows,P=void 0===x||x,T=o.isAllPageRowsSelected,_=o.getSubRows,k=void 0!==E?E:!T,I=r({},e.selectedRowIds);return S.forEach((function(e){return function e(t){var n=R[t];if(n.isGrouped||(k?I[t]=!0:delete I[t]),P&&_(n))return _(n).forEach((function(t){return e(t.id)}))}(e.id)})),r({},e,{selectedRowIds:I})}return e}function Ct(e){var n=e.data,o=e.rows,r=e.getHooks,a=e.plugins,i=e.rowsById,l=e.nonGroupedRowsById,u=void 0===l?i:l,c=e.autoResetSelectedRows,d=void 0===c||c,g=e.state.selectedRowIds,m=e.selectSubRows,f=void 0===m||m,y=e.dispatch,C=e.page,b=e.getSubRows;h(a,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var E=t.useMemo((function(){var e=[];return o.forEach((function(t){var n=f?function e(t,n,o){if(n[t.id])return!0;var r=o(t);if(r&&r.length){var a=!0,i=!1;return r.forEach((function(t){i&&!a||(e(t,n,o)?i=!0:a=!1)})),!!a||!!i&&null}return!1}(t,g,b):!!g[t.id];t.isSelected=!!n,t.isSomeSelected=null===n,n&&e.push(t)})),e}),[o,f,g,b]),S=Boolean(Object.keys(u).length&&Object.keys(g).length),R=S;S&&Object.keys(u).some((function(e){return!g[e]}))&&(S=!1),S||C&&C.length&&C.some((function(e){var t=e.id;return!g[t]}))&&(R=!1);var x=v(d);w((function(){x()&&y({type:s.resetSelectedRows})}),[y,n]);var P=t.useCallback((function(e){return y({type:s.toggleAllRowsSelected,value:e})}),[y]),T=t.useCallback((function(e){return y({type:s.toggleAllPageRowsSelected,value:e})}),[y]),_=t.useCallback((function(e,t){return y({type:s.toggleRowSelected,id:e,value:t})}),[y]),k=v(e),I=p(r().getToggleAllRowsSelectedProps,{instance:k()}),B=p(r().getToggleAllPageRowsSelectedProps,{instance:k()});Object.assign(e,{selectedFlatRows:E,isAllRowsSelected:S,isAllPageRowsSelected:R,toggleRowSelected:_,toggleAllRowsSelected:P,getToggleAllRowsSelectedProps:I,getToggleAllPageRowsSelectedProps:B,toggleAllPageRowsSelected:T})}function bt(e,t){var n=t.instance;e.toggleRowSelected=function(t){return n.toggleRowSelected(e.id,t)},e.getToggleRowSelectedProps=p(n.getHooks().getToggleRowSelectedProps,{instance:n,row:e})}var Et=function(e){return{}},St=function(e){return{}};s.setRowState="setRowState",s.setCellState="setCellState",s.resetRowState="resetRowState";var Rt=function(e){e.stateReducers.push(xt),e.useInstance.push(Pt),e.prepareRow.push(Tt)};function xt(e,t,n,o){var a=o.initialRowStateAccessor,i=void 0===a?Et:a,l=o.initialCellStateAccessor,u=void 0===l?St:l,c=o.rowsById;if(t.type===s.init)return r({rowState:{}},e);if(t.type===s.resetRowState)return r({},e,{rowState:o.initialState.rowState||{}});if(t.type===s.setRowState){var d,p=t.rowId,g=t.value,m=void 0!==e.rowState[p]?e.rowState[p]:i(c[p]);return r({},e,{rowState:r({},e.rowState,(d={},d[p]=f(g,m),d))})}if(t.type===s.setCellState){var h,v,y,w,C,b=t.rowId,E=t.columnId,S=t.value,R=void 0!==e.rowState[b]?e.rowState[b]:i(c[b]),x=void 0!==(null==R||null==(h=R.cellState)?void 0:h[E])?R.cellState[E]:u(null==(v=c[b])||null==(y=v.cells)?void 0:y.find((function(e){return e.column.id===E})));return r({},e,{rowState:r({},e.rowState,(C={},C[b]=r({},R,{cellState:r({},R.cellState||{},(w={},w[E]=f(S,x),w))}),C))})}}function Pt(e){var n=e.autoResetRowState,o=void 0===n||n,r=e.data,a=e.dispatch,i=t.useCallback((function(e,t){return a({type:s.setRowState,rowId:e,value:t})}),[a]),l=t.useCallback((function(e,t,n){return a({type:s.setCellState,rowId:e,columnId:t,value:n})}),[a]),u=v(o);w((function(){u()&&a({type:s.resetRowState})}),[r]),Object.assign(e,{setRowState:i,setCellState:l})}function Tt(e,t){var n=t.instance,o=n.initialRowStateAccessor,r=void 0===o?Et:o,a=n.initialCellStateAccessor,i=void 0===a?St:a,s=n.state.rowState;e&&(e.state=void 0!==s[e.id]?s[e.id]:r(e),e.setState=function(t){return n.setRowState(e.id,t)},e.cells.forEach((function(t){e.state.cellState||(e.state.cellState={}),t.state=void 0!==e.state.cellState[t.column.id]?e.state.cellState[t.column.id]:i(t),t.setState=function(o){return n.setCellState(e.id,t.column.id,o)}})))}Rt.pluginName="useRowState",s.resetColumnOrder="resetColumnOrder",s.setColumnOrder="setColumnOrder";var _t=function(e){e.stateReducers.push(kt),e.visibleColumnsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.columnOrder])})),e.visibleColumns.push(It),e.useInstance.push(Bt)};function kt(e,t,n,o){return t.type===s.init?r({columnOrder:[]},e):t.type===s.resetColumnOrder?r({},e,{columnOrder:o.initialState.columnOrder||[]}):t.type===s.setColumnOrder?r({},e,{columnOrder:f(t.columnOrder,e.columnOrder)}):void 0}function It(e,t){var n=t.instance.state.columnOrder;if(!n||!n.length)return e;for(var o=[].concat(n),r=[].concat(e),a=[],i=function(){var e=o.shift(),t=r.findIndex((function(t){return t.id===e}));t>-1&&a.push(r.splice(t,1)[0])};r.length&&o.length;)i();return[].concat(a,r)}function Bt(e){var n=e.dispatch;e.setColumnOrder=t.useCallback((function(e){return n({type:s.setColumnOrder,columnOrder:e})}),[n])}_t.pluginName="useColumnOrder",c.canResize=!0,s.columnStartResizing="columnStartResizing",s.columnResizing="columnResizing",s.columnDoneResizing="columnDoneResizing",s.resetResize="resetResize";var Ft=function(e){e.getResizerProps=[Dt],e.getHeaderProps.push({style:{position:"relative"}}),e.stateReducers.push(At),e.useInstance.push(zt),e.useInstanceBeforeDimensions.push(Gt)},Dt=function(e,t){var n=t.instance,o=t.header,r=n.dispatch,a=function(e,t){var n=!1;if("touchstart"===e.type){if(e.touches&&e.touches.length>1)return;n=!0}var o,a,i=function(e){var t=[];return function e(n){n.columns&&n.columns.length&&n.columns.map(e),t.push(n)}(e),t}(t).map((function(e){return[e.id,e.totalWidth]})),l=n?Math.round(e.touches[0].clientX):e.clientX,u=function(){window.cancelAnimationFrame(o),o=null,r({type:s.columnDoneResizing})},c=function(){window.cancelAnimationFrame(o),o=null,r({type:s.columnResizing,clientX:a})},d=function(e){a=e,o||(o=window.requestAnimationFrame(c))},p={mouse:{moveEvent:"mousemove",moveHandler:function(e){return d(e.clientX)},upEvent:"mouseup",upHandler:function(e){document.removeEventListener("mousemove",p.mouse.moveHandler),document.removeEventListener("mouseup",p.mouse.upHandler),u()}},touch:{moveEvent:"touchmove",moveHandler:function(e){return e.cancelable&&(e.preventDefault(),e.stopPropagation()),d(e.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(e){document.removeEventListener(p.touch.moveEvent,p.touch.moveHandler),document.removeEventListener(p.touch.upEvent,p.touch.moveHandler),u()}}},g=n?p.touch:p.mouse,m=!!function(){if("boolean"==typeof G)return G;var e=!1;try{var t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return G=e}()&&{passive:!1};document.addEventListener(g.moveEvent,g.moveHandler,m),document.addEventListener(g.upEvent,g.upHandler,m),r({type:s.columnStartResizing,columnId:t.id,columnWidth:t.totalWidth,headerIdWidths:i,clientX:l})};return[e,{onMouseDown:function(e){return e.persist()||a(e,o)},onTouchStart:function(e){return e.persist()||a(e,o)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function At(e,t){if(t.type===s.init)return r({columnResizing:{columnWidths:{}}},e);if(t.type===s.resetResize)return r({},e,{columnResizing:{columnWidths:{}}});if(t.type===s.columnStartResizing){var n=t.clientX,o=t.columnId,a=t.columnWidth,i=t.headerIdWidths;return r({},e,{columnResizing:r({},e.columnResizing,{startX:n,headerIdWidths:i,columnWidth:a,isResizingColumn:o})})}if(t.type===s.columnResizing){var l=t.clientX,u=e.columnResizing,c=u.startX,d=u.columnWidth,p=u.headerIdWidths,g=(l-c)/d,m={};return(void 0===p?[]:p).forEach((function(e){var t=e[0],n=e[1];m[t]=Math.max(n+n*g,0)})),r({},e,{columnResizing:r({},e.columnResizing,{columnWidths:r({},e.columnResizing.columnWidths,{},m)})})}return t.type===s.columnDoneResizing?r({},e,{columnResizing:r({},e.columnResizing,{startX:null,isResizingColumn:null})}):void 0}Ft.pluginName="useResizeColumns";var Gt=function(e){var t=e.flatHeaders,n=e.disableResizing,o=e.getHooks,r=e.state.columnResizing,a=v(e);t.forEach((function(e){var t=_(!0!==e.disableResizing&&void 0,!0!==n&&void 0,!0);e.canResize=t,e.width=r.columnWidths[e.id]||e.originalWidth||e.width,e.isResizing=r.isResizingColumn===e.id,t&&(e.getResizerProps=p(o().getResizerProps,{instance:a(),header:e}))}))};function zt(e){var n=e.plugins,o=e.dispatch,r=e.autoResetResize,a=void 0===r||r,i=e.columns;h(n,["useAbsoluteLayout"],"useResizeColumns");var l=v(a);w((function(){l()&&o({type:s.resetResize})}),[i]);var u=t.useCallback((function(){return o({type:s.resetResize})}),[o]);Object.assign(e,{resetResizing:u})}var Ot={position:"absolute",top:0},Mt=function(e){e.getTableBodyProps.push(Nt),e.getRowProps.push(Nt),e.getHeaderGroupProps.push(Nt),e.getFooterGroupProps.push(Nt),e.getHeaderProps.push((function(e,t){var n=t.column;return[e,{style:r({},Ot,{left:n.totalLeft+"px",width:n.totalWidth+"px"})}]})),e.getCellProps.push((function(e,t){var n=t.cell;return[e,{style:r({},Ot,{left:n.column.totalLeft+"px",width:n.column.totalWidth+"px"})}]})),e.getFooterProps.push((function(e,t){var n=t.column;return[e,{style:r({},Ot,{left:n.totalLeft+"px",width:n.totalWidth+"px"})}]}))};Mt.pluginName="useAbsoluteLayout";var Nt=function(e,t){return[e,{style:{position:"relative",width:t.instance.totalColumnsWidth+"px"}}]},Lt={display:"inline-block",boxSizing:"border-box"},Wt=function(e,t){return[e,{style:{display:"flex",width:t.instance.totalColumnsWidth+"px"}}]},Ht=function(e){e.getRowProps.push(Wt),e.getHeaderGroupProps.push(Wt),e.getFooterGroupProps.push(Wt),e.getHeaderProps.push((function(e,t){var n=t.column;return[e,{style:r({},Lt,{width:n.totalWidth+"px"})}]})),e.getCellProps.push((function(e,t){var n=t.cell;return[e,{style:r({},Lt,{width:n.column.totalWidth+"px"})}]})),e.getFooterProps.push((function(e,t){var n=t.column;return[e,{style:r({},Lt,{width:n.totalWidth+"px"})}]}))};function jt(e){e.getTableProps.push(Vt),e.getRowProps.push(qt),e.getHeaderGroupProps.push(qt),e.getFooterGroupProps.push(qt),e.getHeaderProps.push(Ut),e.getCellProps.push(Qt),e.getFooterProps.push(Yt)}Ht.pluginName="useBlockLayout",jt.pluginName="useFlexLayout";var Vt=function(e,t){return[e,{style:{minWidth:t.instance.totalColumnsMinWidth+"px"}}]},qt=function(e,t){return[e,{style:{display:"flex",flex:"1 0 auto",minWidth:t.instance.totalColumnsMinWidth+"px"}}]},Ut=function(e,t){var n=t.column;return[e,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]},Qt=function(e,t){var n=t.cell;return[e,{style:{boxSizing:"border-box",flex:n.column.totalFlexWidth+" 0 auto",minWidth:n.column.totalMinWidth+"px",width:n.column.totalWidth+"px"}}]},Yt=function(e,t){var n=t.column;return[e,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]};function Kt(e){e.stateReducers.push(Zt),e.getTableProps.push(Xt),e.getHeaderProps.push($t),e.getRowProps.push(Jt)}s.columnStartResizing="columnStartResizing",s.columnResizing="columnResizing",s.columnDoneResizing="columnDoneResizing",s.resetResize="resetResize",Kt.pluginName="useGridLayout";var Xt=function(e,t){var n=t.instance;return[e,{style:{display:"grid",gridTemplateColumns:n.visibleColumns.map((function(e){var t;return n.state.gridLayout.columnWidths[e.id]?n.state.gridLayout.columnWidths[e.id]+"px":(null==(t=n.state.columnResizing)?void 0:t.isResizingColumn)?n.state.gridLayout.startWidths[e.id]+"px":"number"==typeof e.width?e.width+"px":e.width})).join(" ")}}]},$t=function(e,t){var n=t.column;return[e,{id:"header-cell-"+n.id,style:{position:"sticky",gridColumn:"span "+n.totalVisibleHeaderCount}}]},Jt=function(e,t){var n=t.row;return n.isExpanded?[e,{style:{gridColumn:"1 / "+(n.cells.length+1)}}]:[e,{}]};function Zt(e,t,n,o){if(t.type===s.init)return r({gridLayout:{columnWidths:{}}},e);if(t.type===s.resetResize)return r({},e,{gridLayout:{columnWidths:{}}});if(t.type===s.columnStartResizing){var a=t.columnId,i=t.headerIdWidths,l=en(a);if(void 0!==l){var u=o.visibleColumns.reduce((function(e,t){var n;return r({},e,((n={})[t.id]=en(t.id),n))}),{}),c=o.visibleColumns.reduce((function(e,t){var n;return r({},e,((n={})[t.id]=t.minWidth,n))}),{}),d=o.visibleColumns.reduce((function(e,t){var n;return r({},e,((n={})[t.id]=t.maxWidth,n))}),{}),p=i.map((function(e){var t=e[0];return[t,en(t)]}));return r({},e,{gridLayout:r({},e.gridLayout,{startWidths:u,minWidths:c,maxWidths:d,headerIdGridWidths:p,columnWidth:l})})}return e}if(t.type===s.columnResizing){var g=t.clientX,m=e.columnResizing.startX,h=e.gridLayout,f=h.columnWidth,v=h.minWidths,y=h.maxWidths,w=h.headerIdGridWidths,C=(g-m)/f,b={};return(void 0===w?[]:w).forEach((function(e){var t=e[0],n=e[1];b[t]=Math.min(Math.max(v[t],n+n*C),y[t])})),r({},e,{gridLayout:r({},e.gridLayout,{columnWidths:r({},e.gridLayout.columnWidths,{},b)})})}return t.type===s.columnDoneResizing?r({},e,{gridLayout:r({},e.gridLayout,{startWidths:{},minWidths:{},maxWidths:{}})}):void 0}function en(e){var t,n=null==(t=document.getElementById("header-cell-"+e))?void 0:t.offsetWidth;if(void 0!==n)return n}e._UNSTABLE_usePivotColumns=nt,e.actions=s,e.defaultColumn=c,e.defaultGroupByFn=He,e.defaultOrderByFn=Je,e.defaultRenderer=l,e.emptyRenderer=u,e.ensurePluginOrder=h,e.flexRender=b,e.functionalUpdate=f,e.loopHooks=m,e.makePropGetter=p,e.makeRenderer=C,e.reduceHooks=g,e.safeUseLayoutEffect=y,e.useAbsoluteLayout=Mt,e.useAsyncDebounce=function(e,n){void 0===n&&(n=0);var r=t.useRef({}),a=v(e),i=v(n);return t.useCallback(function(){var e=o(regeneratorRuntime.mark((function e(){var t,n,s,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=l.length,n=new Array(t),s=0;s<t;s++)n[s]=l[s];return r.current.promise||(r.current.promise=new Promise((function(e,t){r.current.resolve=e,r.current.reject=t}))),r.current.timeout&&clearTimeout(r.current.timeout),r.current.timeout=setTimeout(o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete r.current.timeout,e.prev=1,e.t0=r.current,e.next=5,a().apply(void 0,n);case 5:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(1),r.current.reject(e.t2);case 12:return e.prev=12,delete r.current.promise,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])}))),i()),e.abrupt("return",r.current.promise);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),[a,i])},e.useBlockLayout=Ht,e.useColumnOrder=_t,e.useExpanded=le,e.useFilters=xe,e.useFlexLayout=jt,e.useGetLatest=v,e.useGlobalFilter=_e,e.useGridLayout=Kt,e.useGroupBy=Ge,e.useMountedLayoutEffect=w,e.usePagination=Ze,e.useResizeColumns=Ft,e.useRowSelect=ht,e.useRowState=Rt,e.useSortBy=Ye,e.useTable=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];e=ae(e),o=[Q].concat(o);var i=v(t.useRef({}).current);Object.assign(i(),r({},e,{plugins:o,hooks:U()})),o.filter(Boolean).forEach((function(e){e(i().hooks)}));var l=v(i().hooks);i().getHooks=l,delete i().hooks,Object.assign(i(),g(l().useOptions,ae(e)));var u=i(),c=u.data,d=u.columns,h=u.initialState,f=u.defaultColumn,y=u.getSubRows,w=u.getRowId,b=u.stateReducer,T=u.useControlledState,_=v(b),k=t.useCallback((function(e,t){if(!t.type)throw console.info({action:t}),new Error("Unknown Action 👆");return[].concat(l().stateReducers,Array.isArray(_())?_():[_()]).reduce((function(n,o){return o(n,t,e,i())||n}),e)}),[l,_,i]),I=t.useReducer(k,void 0,(function(){return k(h,{type:s.init})})),B=I[0],F=I[1],D=g([].concat(l().useControlledState,[T]),B,{instance:i()});Object.assign(i(),{state:D,dispatch:F});var A=t.useMemo((function(){return E(g(l().columns,d,{instance:i()}))}),[l,i,d].concat(g(l().columnsDeps,[],{instance:i()})));i().columns=A;var G=t.useMemo((function(){return g(l().allColumns,S(A),{instance:i()}).map(R)}),[A,l,i].concat(g(l().allColumnsDeps,[],{instance:i()})));i().allColumns=G;var z=t.useMemo((function(){for(var e=[],t=[],n={},o=[].concat(G);o.length;){var r=o.shift();se({data:c,rows:e,flatRows:t,rowsById:n,column:r,getRowId:w,getSubRows:y,accessValueHooks:l().accessValue,getInstance:i})}return[e,t,n]}),[G,c,w,y,l,i]),O=z[0],M=z[1],N=z[2];Object.assign(i(),{rows:O,initialRows:[].concat(O),flatRows:M,rowsById:N}),m(l().useInstanceAfterData,i());var L=t.useMemo((function(){return g(l().visibleColumns,G,{instance:i()}).map((function(e){return x(e,f)}))}),[l,G,i,f].concat(g(l().visibleColumnsDeps,[],{instance:i()})));G=t.useMemo((function(){var e=[].concat(L);return G.forEach((function(t){e.find((function(e){return e.id===t.id}))||e.push(t)})),e}),[G,L]),i().allColumns=G;var W=t.useMemo((function(){return g(l().headerGroups,P(L,f),i())}),[l,L,f,i].concat(g(l().headerGroupsDeps,[],{instance:i()})));i().headerGroups=W;var H=t.useMemo((function(){return W.length?W[0].headers:[]}),[W]);i().headers=H,i().flatHeaders=W.reduce((function(e,t){return[].concat(e,t.headers)}),[]),m(l().useInstanceBeforeDimensions,i());var j=L.filter((function(e){return e.isVisible})).map((function(e){return e.id})).sort().join("_");L=t.useMemo((function(){return L.filter((function(e){return e.isVisible}))}),[L,j]),i().visibleColumns=L;var V=ie(H),q=V[0],Y=V[1],K=V[2];return i().totalColumnsMinWidth=q,i().totalColumnsWidth=Y,i().totalColumnsMaxWidth=K,m(l().useInstance,i()),[].concat(i().flatHeaders,i().allColumns).forEach((function(e){e.render=C(i(),e),e.getHeaderProps=p(l().getHeaderProps,{instance:i(),column:e}),e.getFooterProps=p(l().getFooterProps,{instance:i(),column:e})})),i().headerGroups=t.useMemo((function(){return W.filter((function(e,t){return e.headers=e.headers.filter((function(e){return e.headers?function e(t){return t.filter((function(t){return t.headers?e(t.headers):t.isVisible})).length}(e.headers):e.isVisible})),!!e.headers.length&&(e.getHeaderGroupProps=p(l().getHeaderGroupProps,{instance:i(),headerGroup:e,index:t}),e.getFooterGroupProps=p(l().getFooterGroupProps,{instance:i(),headerGroup:e,index:t}),!0)}))}),[W,i,l]),i().footerGroups=[].concat(i().headerGroups).reverse(),i().prepareRow=t.useCallback((function(e){e.getRowProps=p(l().getRowProps,{instance:i(),row:e}),e.allCells=G.map((function(t){var n=e.values[t.id],o={column:t,row:e,value:n};return o.getCellProps=p(l().getCellProps,{instance:i(),cell:o}),o.render=C(i(),t,{row:e,cell:o,value:n}),o})),e.cells=L.map((function(t){return e.allCells.find((function(e){return e.column.id===t.id}))})),m(l().prepareRow,e,{instance:i()})}),[l,i,G,L]),i().getTableProps=p(l().getTableProps,{instance:i()}),i().getTableBodyProps=p(l().getTableBodyProps,{instance:i()}),m(l().useFinalInstance,i()),i()},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(196))},521:(e,t,n)=>{e.exports=n(217)},196:e=>{"use strict";e.exports=window.React}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var a=n[e]={exports:{}};return t[e].call(a.exports,a,a.exports,o),a.exports}o.m=t,e=[],o.O=(t,n,r,a)=>{if(!n){var i=1/0;for(c=0;c<e.length;c++){for(var[n,r,a]=e[c],s=!0,l=0;l<n.length;l++)(!1&a||i>=a)&&Object.keys(o.O).every((e=>o.O[e](n[l])))?n.splice(l--,1):(s=!1,a<i&&(i=a));if(s){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,r,a]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,a,[i,s,l]=n,u=0;if(i.some((t=>0!==e[t]))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(l)var c=l(o)}for(t&&t(n);u<i.length;u++)a=i[u],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(c)},n=globalThis.webpackChunksearch_console=globalThis.webpackChunksearch_console||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=o.O(void 0,[431],(()=>o(435)));r=o.O(r)})();