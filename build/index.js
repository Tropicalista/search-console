(()=>{var e,t,n,r={761:(e,t,n)=>{"use strict";var r=n(609),a=n.t(r,2),o=n.n(r);const i=window.wp.element,l=window.wp.components,s=window.wp.data,c=window.wp.notices;function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}var d;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(d||(d={}));var m="beforeunload";function p(e){e.preventDefault(),e.returnValue=""}function f(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}const h=window.wp.url,v=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function a(){var e=n.location,t=e.pathname,a=e.search,o=e.hash,i=r.state||{};return[i.idx,{pathname:t,search:a,hash:o,state:i.usr||null,key:i.key||"default"}]}var o=null;n.addEventListener("popstate",(function(){if(o)v.call(o),o=null;else{var e=d.Pop,t=a(),n=t[0],r=t[1];if(v.length){if(null!=n){var i=s-n;i&&(o={action:e,location:r,retry:function(){C(-1*i)}},C(i))}}else b(e)}}));var i=d.Pop,l=a(),s=l[0],c=l[1],h=f(),v=f();function g(e){return"string"==typeof e?e:(n=(t=e).pathname,r=void 0===n?"/":n,a=t.search,o=void 0===a?"":a,i=t.hash,l=void 0===i?"":i,o&&"?"!==o&&(r+="?"===o.charAt(0)?o:"?"+o),l&&"#"!==l&&(r+="#"===l.charAt(0)?l:"#"+l),r);var t,n,r,a,o,i,l}function E(e,t){return void 0===t&&(t=null),u({pathname:c.pathname,hash:"",search:""},"string"==typeof e?function(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}(e):e,{state:t,key:Math.random().toString(36).substr(2,8)})}function w(e,t){return[{usr:e.state,key:e.key,idx:t},g(e)]}function y(e,t,n){return!v.length||(v.call({action:e,location:t,retry:n}),!1)}function b(e){i=e;var t=a();s=t[0],c=t[1],h.call({action:i,location:c})}function C(e){r.go(e)}return null==s&&(s=0,r.replaceState(u({},r.state,{idx:s}),"")),{get action(){return i},get location(){return c},createHref:g,push:function e(t,a){var o=d.Push,i=E(t,a);if(y(o,i,(function(){e(t,a)}))){var l=w(i,s+1),c=l[0],u=l[1];try{r.pushState(c,"",u)}catch(e){n.location.assign(u)}b(o)}},replace:function e(t,n){var a=d.Replace,o=E(t,n);if(y(a,o,(function(){e(t,n)}))){var i=w(o,s),l=i[0],c=i[1];r.replaceState(l,"",c),b(a)}},go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(e){return h.push(e)},block:function(e){var t=v.push(e);return 1===v.length&&n.addEventListener(m,p),function(){t(),v.length||n.removeEventListener(m,p)}}}}(),g=v.push,E=v.replace;v.push=function(e,t){const n=(0,h.getQueryArgs)(window.location.href),r=(0,h.removeQueryArgs)(window.location.href,...Object.keys(n)),a=(0,h.addQueryArgs)(r,e);return g.call(v,a,t)},v.replace=function(e,t){const n=(0,h.getQueryArgs)(window.location.href),r=(0,h.removeQueryArgs)(window.location.href,...Object.keys(n)),a=(0,h.addQueryArgs)(r,e);return E.call(v,a,t)};const w=v,y=(0,i.createContext)(),b=(0,i.createContext)();function C(){return(0,i.useContext)(b)}function _(e){const t=new URLSearchParams(e.search);return{...e,params:Object.fromEntries(t.entries())}}function S({children:e}){const[t,n]=(0,i.useState)((()=>_(w.location)));return(0,i.useEffect)((()=>w.listen((({location:e})=>{n(_(e))}))),[]),(0,r.createElement)(b.Provider,{value:w},(0,r.createElement)(y.Provider,{value:t},e))}const k=window.wp.apiFetch;var I=n.n(k);const x=window.wp.date,D={settings:!1,sites:[{label:"Select a site",value:""}],customDate:!1,dimension:"query",searchType:"web",startDate:(0,x.dateI18n)("Y-m-d",(new Date).setDate((new Date).getDate()-29)),endDate:(0,x.dateI18n)("Y-m-d",(new Date).setDate((new Date).getDate()-1)),filters:[]},T={setSites:e=>({type:"SET_SITES",sites:e}),setSettings:e=>({type:"SET_SETTINGS",settings:e}),setSetting:(e,t)=>({type:"SET_SETTING",setting:e,value:t}),setSearchType:e=>({type:"SET_SEARCHTYPE",searchType:e}),setFilter:e=>({type:"SET_FILTER",filter:e}),setDimension:e=>({type:"SET_DIMENSION",dimension:e}),setCustomDate:e=>({type:"SET_CUSTOMDATE",val:e}),setStartDate:e=>({type:"SET_STARTDATE",date:e}),setEndDate:e=>({type:"SET_ENDDATE",date:e}),removeFilter:e=>({type:"REMOVE_FILTER",filter:e}),fetchFromAPI:e=>({type:"FETCH_FROM_API",path:e})},O=(0,s.createReduxStore)("searchconsole",{reducer(e=D,t){switch(t.type){case"SET_SETTINGS":return{...e,settings:t.settings};case"SET_SITES":return{...e,sites:t.sites};case"SET_SETTING":return{...e,settings:{...e.settings,[t.setting]:t.value}};case"SET_SEARCHTYPE":return{...e,searchType:t.searchType};case"SET_DIMENSION":return{...e,dimension:t.dimension};case"SET_CUSTOMDATE":return{...e,customDate:t.val};case"SET_STARTDATE":return{...e,startDate:t.date};case"SET_ENDDATE":return{...e,endDate:t.date};case"SET_FILTER":const n={dimension:t.filter.dimension,expression:t.filter.expression,operator:t.filter.operator},r=e.filters.filter((e=>e.dimension!==t.filter.dimension));return r.push(n),{...e,filters:r};case"REMOVE_FILTER":const a=e.filters.filter((e=>e.dimension!==t.filter.dimension));return{...e,filters:a}}return e},actions:T,selectors:{isReady(e){var t;return null!==(t=e.settings)&&void 0!==t&&t},getSettings(e){const{settings:t}=e;return t},getSites(e){const{sites:t}=e;return t},getSite(e){const{settings:t}=e;return t.site},getQuery(e){const{searchType:t,filters:n,dimension:r,startDate:a,endDate:o}=e;return{dimension:r,startDate:a,endDate:o,searchType:t,filters:n}},getFilterByDimension:(e,t)=>e.filters.length?e.filters.find((e=>e.dimension===t)):{dimension:"",expression:"",operator:""},getSearchType(e){const{searchType:t}=e;return t},getFilters(e){const{filters:t}=e;return t},getCustomDate(e){const{customDate:t}=e;return t}},controls:{FETCH_FROM_API:e=>I()({path:e.path})},resolvers:{*getSettings(){const e=yield T.fetchFromAPI("/searchconsole/v1/settings/");return T.setSettings(e)}}});(0,s.register)(O);const P=window.wp.i18n;function A({text:e}){return(0,r.createElement)("div",{className:"loading-settings"},(0,r.createElement)(l.Spinner,null),(0,r.createElement)("span",{className:"description"},e))}function M(e){let{onLoad:t,onError:n,...a}=e;const[o,i]=function(e){let{chartVersion:t="current",chartPackages:n=["corechart","controls"],chartLanguage:a="en",mapsApiKey:o}=e;const[i,l]=(0,r.useState)(null),[s,c]=(0,r.useState)(!1);var u,d,m;return u="https://www.gstatic.com/charts/loader.js",d=()=>{const e=null===window||void 0===window?void 0:window.google;e&&(e.charts.load(t,{packages:n,language:a,mapsApiKey:o}),e.charts.setOnLoadCallback((()=>{l(e)})))},m=()=>{c(!0)},(0,r.useEffect)((()=>{if(!document)return;const e=document.querySelector('script[src="'.concat(u,'"]'));if(null==e?void 0:e.dataset.loaded)return void(null==d||d());const t=e||document.createElement("script");e||(t.src=u);const n=()=>{t.dataset.loaded="1",null==d||d()};return t.addEventListener("load",n),m&&t.addEventListener("error",m),e||document.head.append(t),()=>{t.removeEventListener("load",n),m&&t.removeEventListener("error",m)}}),[]),[i,s]}(a);return(0,r.useEffect)((()=>{o&&t&&t(o)}),[o]),(0,r.useEffect)((()=>{i&&n&&n()}),[i]),null}const F={legend_toggle:!1,options:{},legendToggle:!1,getChartWrapper:()=>{},spreadSheetQueryParameters:{headers:1,gid:1},rootProps:{},chartWrapperParams:{}};let N=0;const V=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC"],{Provider:L,Consumer:R}=r.createContext(F),B=e=>{let{children:t,value:n}=e;return r.createElement(L,{value:n},t)},z=e=>{let{render:t}=e;return r.createElement(R,null,(e=>t(e)))};class H extends r.Component{componentDidMount(){this.draw(this.props),window.addEventListener("resize",this.onResize),(this.props.legend_toggle||this.props.legendToggle)&&this.listenToLegendToggle()}componentWillUnmount(){const{google:e,googleChartWrapper:t}=this.props;window.removeEventListener("resize",this.onResize),e.visualization.events.removeAllListeners(t),"Timeline"===t.getChartType()&&t.getChart()&&t.getChart().clearChart()}componentDidUpdate(){this.draw(this.props)}render(){return null}constructor(...e){super(...e),this.state={hiddenColumns:[]},this.listenToLegendToggle=()=>{const{google:e,googleChartWrapper:t}=this.props;e.visualization.events.addListener(t,"select",(()=>{const e=t.getChart().getSelection(),n=t.getDataTable();if(0===e.length||e[0].row||!n)return;const r=e[0].column,a=this.getColumnID(n,r);this.state.hiddenColumns.includes(a)?this.setState((e=>({...e,hiddenColumns:[...e.hiddenColumns.filter((e=>e!==a))]}))):this.setState((e=>({...e,hiddenColumns:[...e.hiddenColumns,a]})))}))},this.applyFormatters=(e,t)=>{const{google:n}=this.props;for(let r of t)switch(r.type){case"ArrowFormat":new n.visualization.ArrowFormat(r.options).format(e,r.column);break;case"BarFormat":new n.visualization.BarFormat(r.options).format(e,r.column);break;case"ColorFormat":{const t=new n.visualization.ColorFormat(r.options),{ranges:a}=r;for(let e of a)t.addRange(...e);t.format(e,r.column);break}case"DateFormat":new n.visualization.DateFormat(r.options).format(e,r.column);break;case"NumberFormat":new n.visualization.NumberFormat(r.options).format(e,r.column);break;case"PatternFormat":new n.visualization.PatternFormat(r.options).format(e,r.column)}},this.getColumnID=(e,t)=>e.getColumnId(t)||e.getColumnLabel(t),this.draw=async e=>{let{data:t,diffdata:n,rows:r,columns:a,options:o,legend_toggle:i,legendToggle:l,chartType:s,formatters:c,spreadSheetUrl:u,spreadSheetQueryParameters:d}=e;const{google:m,googleChartWrapper:p}=this.props;let f,h=null;if(n){const e=m.visualization.arrayToDataTable(n.old),t=m.visualization.arrayToDataTable(n.new);h=m.visualization[s].prototype.computeDiff(e,t)}f=null!==t?Array.isArray(t)?m.visualization.arrayToDataTable(t):new m.visualization.DataTable(t):r&&a?m.visualization.arrayToDataTable([a,...r]):u?await async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(((r,a)=>{const o="".concat(n.headers?"headers=".concat(n.headers):"headers=0"),i="".concat(n.query?"&tq=".concat(encodeURIComponent(n.query)):""),l="".concat(n.gid?"&gid=".concat(n.gid):""),s="".concat(n.sheet?"&sheet=".concat(n.sheet):""),c="".concat(n.access_token?"&access_token=".concat(n.access_token):""),u="".concat(o).concat(l).concat(s).concat(i).concat(c),d="".concat(t,"/gviz/tq?").concat(u);new e.visualization.Query(d).send((e=>{e.isError()?a("Error in query:  ".concat(e.getMessage()," ").concat(e.getDetailedMessage())):r(e.getDataTable())}))}))}(m,u,d):m.visualization.arrayToDataTable([]);const v=f.getNumberOfColumns();for(let e=0;e<v;e+=1){const t=this.getColumnID(f,e);if(this.state.hiddenColumns.includes(t)){const t=f.getColumnLabel(e),n=f.getColumnId(e),r=f.getColumnType(e);f.removeColumn(e),f.addColumn({label:t,id:n,type:r})}}const g=p.getChart();"Timeline"===p.getChartType()&&g&&g.clearChart(),p.setChartType(s),p.setOptions(o||{}),p.setDataTable(f),p.draw(),null!==this.props.googleChartDashboard&&this.props.googleChartDashboard.draw(f),h&&(p.setDataTable(h),p.draw()),c&&(this.applyFormatters(f,c),p.setDataTable(f),p.draw()),!0!==l&&!0!==i||this.grayOutHiddenColumns({options:o})},this.grayOutHiddenColumns=e=>{let{options:t}=e;const{googleChartWrapper:n}=this.props,r=n.getDataTable();if(!r)return;const a=r.getNumberOfColumns();if(!1==this.state.hiddenColumns.length>0)return;const o=Array.from({length:a-1}).map(((e,n)=>{const a=this.getColumnID(r,n+1);return this.state.hiddenColumns.includes(a)?"#CCCCCC":t&&t.colors?t.colors[n]:V[n]}));n.setOptions({...t,colors:o}),n.draw()},this.onResize=()=>{const{googleChartWrapper:e}=this.props;e.draw()}}}class j extends r.Component{componentDidMount(){}componentWillUnmount(){}shouldComponentUpdate(){return!1}render(){const{google:e,googleChartWrapper:t,googleChartDashboard:n}=this.props;return r.createElement(z,{render:a=>r.createElement(H,Object.assign({},a,{google:e,googleChartWrapper:t,googleChartDashboard:n}))})}}class K extends r.Component{shouldComponentUpdate(){return!1}listenToEvents(e){let{chartEvents:t,google:n,googleChartWrapper:r}=e;if(t){n.visualization.events.removeAllListeners(r);for(let e of t){var a=this;const{eventName:t,callback:o}=e;n.visualization.events.addListener(r,t,(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];o({chartWrapper:r,props:a.props,google:n,eventArgs:t})}))}}}render(){const{google:e,googleChartWrapper:t}=this.props;return r.createElement(z,{render:n=>(this.listenToEvents({chartEvents:n.chartEvents||null,google:e,googleChartWrapper:t}),null)})}}let G=0;class U extends r.Component{componentDidMount(){const{options:e,google:t,chartType:n,chartWrapperParams:r,toolbarItems:a,getChartEditor:o,getChartWrapper:i}=this.props,l={chartType:n,options:e,containerId:this.getGraphID(),...r},s=new t.visualization.ChartWrapper(l);s.setOptions(e||{}),i&&i(s,t);const c=new t.visualization.Dashboard(this.dashboard_ref),u=this.addControls(s,c);a&&t.visualization.drawToolbar(this.toolbar_ref.current,a);let d=null;o&&(d=new t.visualization.ChartEditor,o({chartEditor:d,chartWrapper:s,google:t})),this.setState({googleChartEditor:d,googleChartControls:u,googleChartDashboard:c,googleChartWrapper:s,isReady:!0})}componentDidUpdate(){if(!this.state.googleChartWrapper)return;if(!this.state.googleChartDashboard)return;if(!this.state.googleChartControls)return;const{controls:e}=this.props;if(e)for(let t=0;t<e.length;t+=1){const{controlType:n,options:r,controlWrapperParams:a}=e[t];a&&"state"in a&&this.state.googleChartControls[t].control.setState(a.state),this.state.googleChartControls[t].control.setOptions(r),this.state.googleChartControls[t].control.setControlType(n)}}shouldComponentUpdate(e,t){return this.state.isReady!==t.isReady||e.controls!==this.props.controls}render(){const{width:e,height:t,options:n,style:a}=this.props,o={height:t||n&&n.height,width:e||n&&n.width,...a};return this.props.render?r.createElement("div",{ref:this.dashboard_ref,style:o},r.createElement("div",{ref:this.toolbar_ref,id:"toolbar"}),this.props.render({renderChart:this.renderChart,renderControl:this.renderControl,renderToolbar:this.renderToolBar})):r.createElement("div",{ref:this.dashboard_ref,style:o},this.renderControl((e=>{let{controlProp:t}=e;return"bottom"!==t.controlPosition})),this.renderChart(),this.renderControl((e=>{let{controlProp:t}=e;return"bottom"===t.controlPosition})),this.renderToolBar())}constructor(...e){var t;super(),t=this,this.state={googleChartWrapper:null,googleChartDashboard:null,googleChartControls:null,googleChartEditor:null,isReady:!1},this.graphID=null,this.dashboard_ref=r.createRef(),this.toolbar_ref=r.createRef(),this.getGraphID=()=>{const{graphID:e,graph_id:t}=this.props;let n;return e||t?n=e&&!t?e:t&&!e?t:e:this.graphID?n=this.graphID:(N+=1,n="reactgooglegraph-".concat(N)),this.graphID=n,this.graphID},this.getControlID=(e,t)=>{let n;return G+=1,n=void 0===e?"googlechart-control-".concat(t,"-").concat(G):e,n},this.addControls=(e,t)=>{const{google:n,controls:r}=this.props,a=r?r.map(((e,t)=>{const{controlID:r,controlType:a,options:o,controlWrapperParams:i}=e,l=this.getControlID(r,t);return{controlProp:e,control:new n.visualization.ControlWrapper({containerId:l,controlType:a,options:o,...i})}})):null;if(!a)return null;t.bind(a.map((e=>{let{control:t}=e;return t})),e);for(let t of a){const{control:r,controlProp:a}=t,{controlEvents:i=[]}=a;for(let t of i){var o=this;const{callback:a,eventName:i}=t;n.visualization.events.removeListener(r,i,a),n.visualization.events.addListener(r,i,(function(){for(var t=arguments.length,i=new Array(t),l=0;l<t;l++)i[l]=arguments[l];a({chartWrapper:e,controlWrapper:r,props:o.props,google:n,eventArgs:i})}))}}return a},this.renderChart=()=>{const{width:e,height:t,options:n,style:a,className:o,rootProps:i,google:l}=this.props,s={height:t||n&&n.height,width:e||n&&n.width,...a};return r.createElement("div",Object.assign({id:this.getGraphID(),style:s,className:o},i),this.state.isReady&&null!==this.state.googleChartWrapper?r.createElement(r.Fragment,null,r.createElement(j,{googleChartWrapper:this.state.googleChartWrapper,google:l,googleChartDashboard:this.state.googleChartDashboard}),r.createElement(K,{googleChartWrapper:this.state.googleChartWrapper,google:l})):null)},this.renderControl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>!0;return t.state.isReady&&null!==t.state.googleChartControls?r.createElement(r.Fragment,null,t.state.googleChartControls.filter((t=>{let{controlProp:n,control:r}=t;return e({control:r,controlProp:n})})).map((e=>{let{control:t,controlProp:n}=e;return r.createElement("div",{key:t.getContainerId(),id:t.getContainerId()})}))):null},this.renderToolBar=()=>this.props.toolbarItems?r.createElement("div",{ref:this.toolbar_ref}):null}}class W extends r.Component{render(){const{chartLanguage:e,chartPackages:t,chartVersion:n,mapsApiKey:a,loader:o,errorElement:i}=this.props;return r.createElement(B,{value:this.props},"ready"===this.state.loadingStatus&&null!==this.state.google?r.createElement(U,Object.assign({},this.props,{google:this.state.google})):"errored"===this.state.loadingStatus&&i?i:o,r.createElement(M,{chartLanguage:e,chartPackages:t,chartVersion:n,mapsApiKey:a,onLoad:this.onLoad,onError:this.onError}))}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}isFullyLoaded(e){const{controls:t,toolbarItems:n,getChartEditor:r}=this.props;return e&&e.visualization&&e.visualization.ChartWrapper&&e.visualization.Dashboard&&(!t||e.visualization.ChartWrapper)&&(!r||e.visualization.ChartEditor)&&(!n||e.visualization.drawToolbar)}constructor(...e){super(...e),this._isMounted=!1,this.state={loadingStatus:"loading",google:null},this.onLoad=e=>{if(this.props.onLoad&&this.props.onLoad(e),this.isFullyLoaded(e))this.onSuccess(e);else{const e=setInterval((()=>{const t=window.google;this._isMounted?t&&this.isFullyLoaded(t)&&(clearInterval(e),this.onSuccess(t)):clearInterval(e)}),1e3)}},this.onSuccess=e=>{this.setState({loadingStatus:"ready",google:e})},this.onError=()=>{this.setState({loadingStatus:"errored"})}}}var q;W.defaultProps=F,function(e){e.annotation="annotation",e.annotationText="annotationText",e.certainty="certainty",e.emphasis="emphasis",e.interval="interval",e.scope="scope",e.style="style",e.tooltip="tooltip",e.domain="domain"}(q||(q={}));const Y={width:"100%",height:"400",colors:["#4285f4","#5e35b1","#00897b","#E8710A"],animation:{duration:1e3,easing:"out",startup:!0},focusTarget:"category",chartArea:{width:"100%",height:"80%"},hAxis:{gridlines:{count:0,minSpacing:150},minorGridlines:{count:0},showTextEvery:1,format:"MMM dd"},vAxis:{gridlines:{count:0,minSpacing:100},minorGridlines:{count:1},showTextEvery:2},vAxes:{0:{title:"clicks"},1:{title:"impressions"},2:{format:"#%",viewWindow:{min:0,max:1}},3:{direction:-1,viewWindow:{min:1}}},series:{0:{type:"line",targetAxisIndex:0,tooltip:!0},1:{type:"line",targetAxisIndex:1,tooltip:!0},2:{type:"line",targetAxisIndex:2,tooltip:!0},3:{type:"line",targetAxisIndex:3,tooltip:!0}}},$=window.wp.coreData,Q=(0,i.createContext)(),X=function(e){const t={customDate:!1,type:"web",startDate:(0,x.dateI18n)("Y-m-d",(new Date).setDate((new Date).getDate()-29)),endDate:(0,x.dateI18n)("Y-m-d",(new Date).setDate((new Date).getDate()-1)),dimensions:["QUERY"],fields:"rows",dimensionFilterGroups:[]},[n,a]=(0,i.useState)(!1),[o,l]=(0,i.useState)(t),[u,d]=(0,i.useState)(!1),m=C(),[p,f]=(0,$.useEntityProp)("root","site","search_console"),{saveEditedEntityRecord:h}=(0,s.useDispatch)($.store),{createNotice:v}=(0,s.useDispatch)(c.store),{isSaving:g,hasEdits:E}=(0,s.useSelect)((e=>({isSaving:e($.store).isSavingEntityRecord("root","site"),hasEdits:e($.store).hasEditsForEntityRecord("root","site",void 0,"search_console")})),[]),w=()=>{I()({path:"/searchconsole/v1/refresh",method:"POST"}).then((e=>{f({...p,token:e}),window.gapi.client.setToken(e),b()})).catch((e=>{console.log(e),v("error","⚠️ "+e.message.error_description,{type:"snackbar",explicitDismiss:!0,actions:[{label:"Reauthenticate on settings page",onClick:()=>m.push({page:"search-console-settings"})}]})}))},y=(e,t)=>{f({...p,[e]:t})};(0,i.useEffect)((()=>{const e=document.createElement("script");return e.src="https://apis.google.com/js/api.js",e.async=!0,e.defer=!0,e.onload=async()=>await window.gapi.load("client",b),document.body.appendChild(e),()=>{document.body.removeChild(e)}}),[]);const b=()=>{window.gapi.client.setToken(window.search_console.token),window.gapi.client.load("searchconsole","v1").then((()=>{_()}))},_=()=>{a(!0)};return(0,r.createElement)(Q.Provider,{value:{query:o,updateQuery:(e,t)=>{l({...o,[e]:t})},settings:p,updateSetting:y,setSettings:f,saveSettings:async()=>h("root","site").then((()=>{v("info","🎯 "+(0,P.__)("Settings saved.","formello"),{type:"snackbar"})})).catch((e=>{v("error","⚠️ "+e.message,{type:"snackbar",explicitDismiss:!0})})),isSaving:g,ready:n,refreshToken:w,revokeToken:()=>{I()({path:"/searchconsole/v1/revoke",method:"POST",data:{token:p.token.refresh_token}}).then((()=>{y("token",{access_token:"",expires_in:3600,id_token:"",refresh_token:"",scope:"",token_type:""}),d(!1)}))},email:u,hasEdits:E,showError:e=>{401!==e.status&&v("error","⚠️ "+e.result.error.message,{type:"snackbar",explicitDismiss:!0}),401===e.status&&w()}}},e.children)};function Z(){const{settings:e,query:t,showError:n}=(0,i.useContext)(Q),[a,o]=(0,i.useState)(!1);(0,i.useEffect)((()=>{e.token.access_token&&l()}),[t,e.token]);const l=()=>{window.gapi?.client?.setToken(e.token),window.gapi?.client?.webmasters?.searchanalytics.query({...t,siteUrl:e.site,dimensions:["date"],fields:"rows"}).then((e=>{const t=e.result.rows,n=[];n.push([(0,P.__)("Keys","search-console"),(0,P.__)("Clicks","search-console"),(0,P.__)("Impressions","search-console"),"CTR",(0,P.__)("Position","search-console")]),t.forEach((e=>{n.push([window.moment(e.keys[0],"YYYY-MM-DD").toDate(),s(e.clicks),s(e.impressions),{v:e.ctr,f:s(e.ctr,"ctr")},{v:e.position,f:s(e.position,"position")}])})),o(n)})).catch((e=>{n(e)}))},s=(e,t)=>"ctr"===t?(100*e).toFixed(2)+"%":"position"===t?e.toFixed(2):e;return a?(0,r.createElement)("div",{className:"search-console-chart"},(0,r.createElement)(W,{chartType:"LineChart",data:a,options:Y,legendToggle:!0})):(0,r.createElement)(A,{text:(0,P.__)("Fetching data…","search-console")})}const J=window.wp.primitives,ee=(0,r.createElement)(J.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(J.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})),te=(0,r.createElement)(J.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(J.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})),ne=(0,i.memo)((function({view:e,onChangeView:t,paginationInfo:{totalItems:n=0,totalPages:a}}){return n&&a?!!n&&1!==a&&(0,r.createElement)(l.__experimentalHStack,{expanded:!1,spacing:6,justify:"end",className:"dataviews-pagination"},(0,r.createElement)(l.__experimentalHStack,{justify:"flex-start",expanded:!1,spacing:2,className:"dataviews-pagination__page-selection"},(0,i.createInterpolateElement)((0,P.sprintf)(
// translators: %s: Total number of pages.
// translators: %s: Total number of pages.
(0,P._x)("Page <CurrentPageControl /> of %s","paging"),a),{CurrentPageControl:(0,r.createElement)(l.SelectControl,{"aria-label":(0,P.__)("Current page"),value:e.page,options:Array.from(Array(a)).map(((e,t)=>{const n=t+1;return{value:n,label:n}})),onChange:n=>{t({...e,page:+n})},size:"compact",__nextHasNoMarginBottom:!0})})),(0,r.createElement)(l.__experimentalHStack,{expanded:!1,spacing:1},(0,r.createElement)(l.Button,{onClick:()=>t({...e,page:e.page-1}),disabled:1===e.page,__experimentalIsFocusable:!0,label:(0,P.__)("Previous page"),icon:ee,showTooltip:!0,size:"compact",tooltipPosition:"top"}),(0,r.createElement)(l.Button,{onClick:()=>t({...e,page:e.page+1}),disabled:e.page>=a,__experimentalIsFocusable:!0,label:(0,P.__)("Next page"),icon:te,showTooltip:!0,size:"compact",tooltipPosition:"top"}))):null})),re=(0,r.createElement)(J.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(J.Path,{d:"m19 7.5h-7.628c-.3089-.87389-1.1423-1.5-2.122-1.5-.97966 0-1.81309.62611-2.12197 1.5h-2.12803v1.5h2.12803c.30888.87389 1.14231 1.5 2.12197 1.5.9797 0 1.8131-.62611 2.122-1.5h7.628z"}),(0,r.createElement)(J.Path,{d:"m19 15h-2.128c-.3089-.8739-1.1423-1.5-2.122-1.5s-1.8131.6261-2.122 1.5h-7.628v1.5h7.628c.3089.8739 1.1423 1.5 2.122 1.5s1.8131-.6261 2.122-1.5h2.128z"})),ae=window.wp.privateApis,{lock:oe,unlock:ie}=(0,ae.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I know using unstable features means my theme or plugin will inevitably break in the next version of WordPress.","@wordpress/dataviews"),le="is",se="isNot",ce="isAny",ue="isNone",de="isAll",me="isNotAll",pe=[le,se,ce,ue,de,me],fe={[le]:{key:"is-filter",label:(0,P.__)("Is")},[se]:{key:"is-not-filter",label:(0,P.__)("Is not")},[ce]:{key:"is-any-filter",label:(0,P.__)("Is any")},[ue]:{key:"is-none-filter",label:(0,P.__)("Is none")},[de]:{key:"is-all-filter",label:(0,P.__)("Is all")},[me]:{key:"is-not-all-filter",label:(0,P.__)("Is not all")}},he={asc:{label:(0,P.__)("Sort ascending")},desc:{label:(0,P.__)("Sort descending")}},ve="table",ge="grid",Ee=(0,r.createElement)(J.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)(J.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z"})),we=(0,r.createElement)(J.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)(J.Path,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"})),ye=(0,r.createElement)(J.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(J.Path,{d:"M4 8.8h8.9V7.2H4v1.6zm0 7h8.9v-1.5H4v1.5zM18 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"})),be=(0,r.createElement)(J.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(J.Path,{d:"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}));var Ce=n(485),_e=n.n(Ce);const Se=(0,r.createElement)(J.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)(J.Path,{d:"M10 17.5H14V16H10V17.5ZM6 6V7.5H18V6H6ZM8 12.5H16V11H8V12.5Z"})),ke=(0,r.createElement)(J.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)(J.Path,{d:"M4.67 10.664s-2.09 1.11-2.917 1.582l.494.87 1.608-.914.002.002c.343.502.86 1.17 1.563 1.84.348.33.742.663 1.185.976L5.57 16.744l.858.515 1.02-1.701a9.1 9.1 0 0 0 4.051 1.18V19h1v-2.263a9.1 9.1 0 0 0 4.05-1.18l1.021 1.7.858-.514-1.034-1.723c.442-.313.837-.646 1.184-.977.703-.669 1.22-1.337 1.563-1.839l.002-.003 1.61.914.493-.87c-1.75-.994-2.918-1.58-2.918-1.58l-.003.005a8.29 8.29 0 0 1-.422.689 10.097 10.097 0 0 1-1.36 1.598c-1.218 1.16-3.042 2.293-5.544 2.293-2.503 0-4.327-1.132-5.546-2.293a10.099 10.099 0 0 1-1.359-1.599 8.267 8.267 0 0 1-.422-.689l-.003-.005Z"}));function Ie({selection:e,onSelectionChange:t,item:n,data:a,getItemId:o,primaryField:i,disabled:s}){const c=o(n),u=e.includes(c);let d;return d=i?.getValue&&n?(0,P.sprintf)(/* translators: %s: item title. */
u?(0,P.__)("Deselect item: %s"):(0,P.__)("Select item: %s"),i.getValue({item:n})):u?(0,P.__)("Select a new item"):(0,P.__)("Deselect item"),(0,r.createElement)(l.CheckboxControl,{className:"dataviews-view-table-selection-checkbox",__nextHasNoMarginBottom:!0,"aria-label":d,"aria-disabled":s,checked:u,onChange:()=>{s||t(u?a.filter((t=>{const n=o?.(t);return n!==c&&e.includes(n)})):a.filter((t=>{const n=o?.(t);return n===c||e.includes(n)})))}})}const xe=(0,r.createElement)(J.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(J.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"})),{DropdownMenuV2:De,DropdownMenuGroupV2:Te,DropdownMenuItemV2:Oe,DropdownMenuItemLabelV2:Pe,kebabCase:Ae}=ie(l.privateApis);function Me({action:e,onClick:t}){return(0,r.createElement)(l.Button,{label:e.label,icon:e.icon,isDestructive:e.isDestructive,size:"compact",onClick:t})}function Fe({action:e,onClick:t}){return(0,r.createElement)(Oe,{onClick:t,hideOnClick:!e.RenderModal},(0,r.createElement)(Pe,null,e.label))}function Ne({action:e,item:t,ActionTrigger:n}){const[a,o]=(0,i.useState)(!1),s={action:e,onClick:()=>o(!0)},{RenderModal:c,hideModalHeader:u}=e;return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(n,{...s}),a&&(0,r.createElement)(l.Modal,{title:e.modalHeader||e.label,__experimentalHideHeader:!!u,onRequestClose:()=>{o(!1)},overlayClassName:`dataviews-action-modal dataviews-action-modal__${Ae(e.id)}`},(0,r.createElement)(c,{items:[t],closeModal:()=>o(!1)})))}function Ve({actions:e,item:t}){return(0,r.createElement)(Te,null,e.map((e=>e.RenderModal?(0,r.createElement)(Ne,{key:e.id,action:e,item:t,ActionTrigger:Fe}):(0,r.createElement)(Fe,{key:e.id,action:e,onClick:()=>e.callback([t])}))))}function Le({item:e,actions:t,isCompact:n}){const{primaryActions:a,eligibleActions:o}=(0,i.useMemo)((()=>{const n=t.filter((t=>!t.isEligible||t.isEligible(e)));return{primaryActions:n.filter((e=>e.isPrimary&&!!e.icon)),eligibleActions:n}}),[t,e]);return n?(0,r.createElement)(Re,{item:e,actions:o}):(0,r.createElement)(l.__experimentalHStack,{spacing:1,justify:"flex-end",className:"dataviews-item-actions",style:{flexShrink:"0",width:"auto"}},!!a.length&&a.map((t=>t.RenderModal?(0,r.createElement)(Ne,{key:t.id,action:t,item:e,ActionTrigger:Me}):(0,r.createElement)(Me,{key:t.id,action:t,onClick:()=>t.callback([e])}))),(0,r.createElement)(Re,{item:e,actions:o}))}function Re({item:e,actions:t}){return(0,r.createElement)(De,{trigger:(0,r.createElement)(l.Button,{size:"compact",icon:xe,label:(0,P.__)("Actions"),disabled:!t.length,className:"dataviews-all-actions-button"}),placement:"bottom-end"},(0,r.createElement)(Ve,{actions:t,item:e}))}const Be=e=>{let t=e.filterBy?.operators;return t&&Array.isArray(t)||(t=[ce,ue]),t.includes("in")&&(t=t.filter((e=>"is"!==e)),t.push("is")),t.includes("notIn")&&(t=t.filter((e=>"notIn"!==e)),t.push("isNot")),t=t.filter((e=>pe.includes(e))),(t.includes(le)||t.includes(se))&&(t=t.filter((e=>[le,se].includes(e)))),t},{DropdownMenuV2:ze,DropdownMenuGroupV2:He,DropdownMenuItemV2:je,DropdownMenuSeparatorV2:Ke}=ie(l.privateApis);function Ge(e,t){return(0,i.useMemo)((()=>e.some((e=>e.supportsBulk&&e.isEligible(t)))),[e,t])}function Ue({action:e,selectedItems:t,setActionWithModal:n,onMenuOpenChange:a}){const o=(0,i.useMemo)((()=>t.filter((t=>e.isEligible(t)))),[e,t]),{RenderModal:s,hideModalHeader:c}=e,u=(0,i.useCallback)((()=>{n(void 0)}),[n]);return(0,r.createElement)(l.Modal,{title:!c&&e.label,__experimentalHideHeader:!!c,onRequestClose:u,overlayClassName:"dataviews-action-modal"},(0,r.createElement)(s,{items:o,closeModal:u,onPerform:()=>a(!1)}))}function We({action:e,selectedItems:t,setActionWithModal:n}){const a=(0,i.useMemo)((()=>t.filter((t=>e.isEligible(t)))),[e,t]),o=!!e.RenderModal;return(0,r.createElement)(je,{key:e.id,disabled:0===a.length,hideOnClick:!o,onClick:async()=>{o?n(e):await e.callback(a)},suffix:a.length>0?a.length:void 0},e.label)}function qe({actions:e,selectedItems:t,setActionWithModal:n}){return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(He,null,e.map((e=>(0,r.createElement)(We,{key:e.id,action:e,selectedItems:t,setActionWithModal:n})))),(0,r.createElement)(Ke,null))}function Ye({data:e,actions:t,selection:n,onSelectionChange:a,getItemId:o}){const s=(0,i.useMemo)((()=>t.filter((e=>e.supportsBulk))),[t]),[c,u]=(0,i.useState)(!1),[d,m]=(0,i.useState)(),p=(0,i.useMemo)((()=>e.filter((e=>s.some((t=>t.isEligible(e)))))),[e,s]),f=p.length,h=n&&n.length===f,v=(0,i.useMemo)((()=>e.filter((e=>n.includes(o(e))))),[n,e,o]),g=(0,i.useMemo)((()=>v.some((e=>!p.includes(e)))),[v,p]);return(0,i.useEffect)((()=>{g&&a(v.filter((e=>p.some((t=>o(e)===o(t))))))}),[g,v,p,o,a]),0===s.length?null:(0,r.createElement)(r.Fragment,null,(0,r.createElement)(ze,{open:c,onOpenChange:u,label:(0,P.__)("Bulk actions"),style:{minWidth:"240px"},trigger:(0,r.createElement)(l.Button,{className:"dataviews-bulk-edit-button",__next40pxDefaultSize:!0,variant:"tertiary",size:"compact"},n.length?(0,P.sprintf)(/* translators: %d: Number of items. */ /* translators: %d: Number of items. */
(0,P._n)("Edit %d item","Edit %d items",n.length),n.length):(0,P.__)("Bulk edit"))},(0,r.createElement)(qe,{actions:s,setActionWithModal:m,selectedItems:v}),(0,r.createElement)(He,null,(0,r.createElement)(je,{disabled:h,hideOnClick:!1,onClick:()=>{a(p)},suffix:f},(0,P.__)("Select all")),(0,r.createElement)(je,{disabled:0===n.length,hideOnClick:!1,onClick:()=>{a([])}},(0,P.__)("Deselect")))),d&&(0,r.createElement)(Ue,{action:d,selectedItems:v,setActionWithModal:m,onMenuOpenChange:u}))}const{DropdownMenuV2:$e,DropdownMenuGroupV2:Qe,DropdownMenuItemV2:Xe,DropdownMenuRadioItemV2:Ze,DropdownMenuItemLabelV2:Je,DropdownMenuSeparatorV2:et}=ie(l.privateApis);function tt({children:e}){return i.Children.toArray(e).filter(Boolean).map(((e,t)=>(0,r.createElement)(i.Fragment,{key:t},t>0&&(0,r.createElement)(et,null),e)))}const nt={asc:"↑",desc:"↓"},rt=(0,i.forwardRef)((function({field:e,view:t,onChangeView:n,onHide:a,setOpenedFilter:o},i){const s=!1!==e.enableHiding,c=!1!==e.enableSorting,u=t.sort?.field===e.id,d=Be(e),m=!(t.filters?.some((t=>e.id===t.field))||!e.elements?.length||!d.length||e.filterBy?.isPrimary);return c||s||m?(0,r.createElement)($e,{align:"start",trigger:(0,r.createElement)(l.Button,{size:"compact",className:"dataviews-view-table-header-button",ref:i,variant:"tertiary"},e.header,u&&(0,r.createElement)("span",{"aria-hidden":"true"},u&&nt[t.sort.direction])),style:{minWidth:"240px"}},(0,r.createElement)(tt,null,c&&(0,r.createElement)(Qe,null,Object.entries(he).map((([a,o])=>{const i=u&&t.sort.direction===a,l=`${e.id}-${a}`;return(0,r.createElement)(Ze,{key:l,name:"view-table-sorting",value:l,checked:i,onChange:()=>{n({...t,sort:{field:e.id,direction:a}})}},(0,r.createElement)(Je,null,o.label))}))),m&&(0,r.createElement)(Qe,null,(0,r.createElement)(Xe,{prefix:(0,r.createElement)(l.Icon,{icon:Se}),onClick:()=>{o(e.id),n({...t,page:1,filters:[...t.filters||[],{field:e.id,value:void 0,operator:d[0]}]})}},(0,r.createElement)(Je,null,(0,P.__)("Add filter")))),s&&(0,r.createElement)(Xe,{prefix:(0,r.createElement)(l.Icon,{icon:ke}),onClick:()=>{a(e),n({...t,hiddenFields:t.hiddenFields.concat(e.id)})}},(0,r.createElement)(Je,null,(0,P.__)("Hide"))))):e.header}));function at({selection:e,onSelectionChange:t,data:n,actions:a}){const o=(0,i.useMemo)((()=>n.filter((e=>a.some((t=>t.supportsBulk&&t.isEligible(e)))))),[n,a]),s=e.length===o.length;return(0,r.createElement)(l.CheckboxControl,{className:"dataviews-view-table-selection-checkbox",__nextHasNoMarginBottom:!0,checked:s,indeterminate:!s&&e.length,onChange:()=>{t(s?[]:o)},"aria-label":s?(0,P.__)("Deselect all"):(0,P.__)("Select all")})}function ot({hasBulkActions:e,item:t,actions:n,id:a,visibleFields:o,primaryField:l,selection:s,getItemId:c,onSelectionChange:u,data:d}){const m=Ge(n,t),p=s.includes(a),[f,h]=(0,i.useState)(!1),v=(0,i.useRef)(!1);return(0,r.createElement)("tr",{className:_e()("dataviews-view-table__row",{"is-selected":m&&p,"is-hovered":f,"has-bulk-actions":m}),onMouseEnter:()=>{h(!0)},onMouseLeave:()=>{h(!1)},onTouchStart:()=>{v.current=!0},onClick:()=>{v.current||"Range"===document.getSelection().type||u(p?d.filter((e=>{const t=c?.(e);return t!==a&&s.includes(t)})):d.filter((e=>{const t=c?.(e);return t===a||s.includes(t)})))}},e&&(0,r.createElement)("td",{className:"dataviews-view-table__checkbox-column",style:{width:"1%"}},(0,r.createElement)("div",{className:"dataviews-view-table__cell-content-wrapper"},(0,r.createElement)(Ie,{id:a,item:t,selection:s,onSelectionChange:u,getItemId:c,data:d,primaryField:l,disabled:!m}))),o.map((e=>(0,r.createElement)("td",{key:e.id,style:{width:e.width||void 0,minWidth:e.minWidth||void 0,maxWidth:e.maxWidth||void 0}},(0,r.createElement)("div",{className:_e()("dataviews-view-table__cell-content-wrapper",{"dataviews-view-table__primary-field":l?.id===e.id})},e.render({item:t}))))),!!n?.length&&(0,r.createElement)("td",{className:"dataviews-view-table__actions-column",onClick:e=>e.stopPropagation()},(0,r.createElement)(Le,{item:t,actions:n})))}function it({selection:e,data:t,onSelectionChange:n,getItemId:a,item:o,actions:i,mediaField:s,primaryField:c,visibleFields:u,badgeFields:d,columnFields:m}){const p=Ge(i,o),f=a(o),h=e.includes(f);return(0,r.createElement)(l.__experimentalVStack,{spacing:0,key:f,className:_e()("dataviews-view-grid__card",{"is-selected":p&&h}),onClickCapture:r=>{if(r.ctrlKey||r.metaKey){if(r.stopPropagation(),r.preventDefault(),!p)return;n(h?t.filter((t=>{const n=a?.(t);return n!==f&&e.includes(n)})):t.filter((t=>{const n=a?.(t);return n===f||e.includes(n)})))}}},(0,r.createElement)("div",{className:"dataviews-view-grid__media"},s?.render({item:o})),(0,r.createElement)(l.__experimentalHStack,{justify:"space-between",className:"dataviews-view-grid__title-actions"},(0,r.createElement)(Ie,{id:f,item:o,selection:e,onSelectionChange:n,getItemId:a,data:t,primaryField:c,disabled:!p}),(0,r.createElement)(l.__experimentalHStack,{className:"dataviews-view-grid__primary-field"},c?.render({item:o})),(0,r.createElement)(Le,{item:o,actions:i,isCompact:!0})),!!d?.length&&(0,r.createElement)(l.__experimentalHStack,{className:"dataviews-view-grid__badge-fields",spacing:2,wrap:!0,align:"top",justify:"flex-start"},d.map((e=>{const t=e.render({item:o});return t?(0,r.createElement)(l.FlexItem,{key:e.id,className:"dataviews-view-grid__field-value"},t):null}))),!!u?.length&&(0,r.createElement)(l.__experimentalVStack,{className:"dataviews-view-grid__fields",spacing:3},u.map((e=>{const t=e.render({item:o});return t?(0,r.createElement)(l.Flex,{className:_e()("dataviews-view-grid__field",m?.includes(e.id)?"is-column":"is-row"),key:e.id,gap:1,justify:"flex-start",expanded:!0,style:{height:"auto"},direction:m?.includes(e.id)?"column":"row"},(0,r.createElement)(r.Fragment,null,(0,r.createElement)(l.FlexItem,{className:"dataviews-view-grid__field-name"},e.header),(0,r.createElement)(l.FlexItem,{className:"dataviews-view-grid__field-value",style:{maxHeight:"none"}},t))):null}))))}const lt=window.wp.compose,{useCompositeStoreV2:st,CompositeV2:ct,CompositeItemV2:ut,CompositeRowV2:dt}=ie(l.privateApis);function mt({id:e,item:t,isSelected:n,onSelect:a,mediaField:o,primaryField:s,visibleFields:c}){const u=(0,i.useRef)(null),d=`${e}-label`,m=`${e}-description`;return(0,i.useEffect)((()=>{n&&u.current?.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"})}),[n]),(0,r.createElement)(dt,{ref:u,render:(0,r.createElement)("li",null),role:"row",className:_e()({"is-selected":n})},(0,r.createElement)(l.__experimentalHStack,{className:"dataviews-view-list__item-wrapper"},(0,r.createElement)("div",{role:"gridcell"},(0,r.createElement)(ut,{render:(0,r.createElement)("div",null),role:"button",id:e,"aria-pressed":n,"aria-labelledby":d,"aria-describedby":m,className:"dataviews-view-list__item",onClick:()=>a(t)},(0,r.createElement)(l.__experimentalHStack,{spacing:3,justify:"start",alignment:"flex-start"},(0,r.createElement)("div",{className:"dataviews-view-list__media-wrapper"},o?.render({item:t})||(0,r.createElement)("div",{className:"dataviews-view-list__media-placeholder"})),(0,r.createElement)(l.__experimentalVStack,{spacing:1},(0,r.createElement)("span",{className:"dataviews-view-list__primary-field",id:d},s?.render({item:t})),(0,r.createElement)("div",{className:"dataviews-view-list__fields",id:m},c.map((e=>(0,r.createElement)("div",{key:e.id,className:"dataviews-view-list__field"},(0,r.createElement)(l.VisuallyHidden,{as:"span",className:"dataviews-view-list__field-label"},e.header),(0,r.createElement)("span",{className:"dataviews-view-list__field-value"},e.render({item:t}))))))))))))}const pt=[{type:ve,label:(0,P.__)("Table"),component:function({view:e,onChangeView:t,fields:n,actions:a,data:o,getItemId:s,isLoading:c=!1,selection:u,onSelectionChange:d,setOpenedFilter:m}){const p=(0,i.useRef)(new Map),f=(0,i.useRef)(),[h,v]=(0,i.useState)(),g=function(e,t){return(0,i.useMemo)((()=>t.some((t=>e.some((e=>e.supportsBulk&&e.isEligible(t)))))),[e,t])}(a,o);(0,i.useEffect)((()=>{f.current&&(f.current.focus(),f.current=void 0)}));const E=(0,i.useId)();if(h)return f.current=h,void v();const w=e=>{const t=p.current.get(e.id),n=p.current.get(t.fallback);v(n?.node)},y=n.filter((t=>!e.hiddenFields.includes(t.id)&&![e.layout.mediaField].includes(t.id))),b=!!o?.length,C={asc:"ascending",desc:"descending"},_=n.find((t=>t.id===e.layout.primaryField));return(0,r.createElement)(i.Fragment,null,(0,r.createElement)("table",{className:"dataviews-view-table","aria-busy":c,"aria-describedby":E},(0,r.createElement)("thead",null,(0,r.createElement)("tr",{className:"dataviews-view-table__row"},g&&(0,r.createElement)("th",{className:"dataviews-view-table__checkbox-column",style:{width:"1%"},"data-field-id":"selection",scope:"col"},(0,r.createElement)(at,{selection:u,onSelectionChange:d,data:o,actions:a})),y.map(((n,a)=>(0,r.createElement)("th",{key:n.id,style:{width:n.width||void 0,minWidth:n.minWidth||void 0,maxWidth:n.maxWidth||void 0},"data-field-id":n.id,"aria-sort":e.sort?.field===n.id&&C[e.sort.direction],scope:"col"},(0,r.createElement)(rt,{ref:e=>{e?p.current.set(n.id,{node:e,fallback:y[a>0?a-1:1]?.id}):p.current.delete(n.id)},field:n,view:e,onChangeView:t,onHide:w,setOpenedFilter:m})))),!!a?.length&&(0,r.createElement)("th",{"data-field-id":"actions",className:"dataviews-view-table__actions-column"},(0,r.createElement)("span",{className:"dataviews-view-table-header"},(0,P.__)("Actions"))))),(0,r.createElement)("tbody",null,b&&o.map(((e,t)=>(0,r.createElement)(ot,{key:s(e),item:e,hasBulkActions:g,actions:a,id:s(e)||t,visibleFields:y,primaryField:_,selection:u,getItemId:s,onSelectionChange:d,data:o}))))),(0,r.createElement)("div",{className:_e()({"dataviews-loading":c,"dataviews-no-results":!b&&!c}),id:E},!b&&(0,r.createElement)("p",null,c?(0,r.createElement)(l.Spinner,null):(0,P.__)("No results"))))},icon:Ee},{type:ge,label:(0,P.__)("Grid"),component:function({data:e,fields:t,view:n,actions:a,isLoading:o,getItemId:i,selection:s,onSelectionChange:c}){const u=t.find((e=>e.id===n.layout.mediaField)),d=t.find((e=>e.id===n.layout.primaryField)),{visibleFields:m,badgeFields:p}=t.reduce(((e,t)=>(n.hiddenFields.includes(t.id)||[n.layout.mediaField,n.layout.primaryField].includes(t.id)||e[n.layout.badgeFields?.includes(t.id)?"badgeFields":"visibleFields"].push(t),e)),{visibleFields:[],badgeFields:[]}),f=!!e?.length;return(0,r.createElement)(r.Fragment,null,f&&(0,r.createElement)(l.__experimentalGrid,{gap:6,columns:2,alignment:"top",className:"dataviews-view-grid","aria-busy":o},e.map((t=>(0,r.createElement)(it,{key:i(t),selection:s,data:e,onSelectionChange:c,getItemId:i,item:t,actions:a,mediaField:u,primaryField:d,visibleFields:m,badgeFields:p,columnFields:n.layout.columnFields})))),!f&&(0,r.createElement)("div",{className:_e()({"dataviews-loading":o,"dataviews-no-results":!o})},(0,r.createElement)("p",null,o?(0,r.createElement)(l.Spinner,null):(0,P.__)("No results"))))},icon:we},{type:"list",label:(0,P.__)("List"),component:function e({view:t,fields:n,data:a,isLoading:o,getItemId:s,onSelectionChange:c,selection:u,id:d}){const m=(0,lt.useInstanceId)(e,"view-list",d),p=a?.findLast((e=>u.includes(e.id))),f=n.find((e=>e.id===t.layout.mediaField)),h=n.find((e=>e.id===t.layout.primaryField)),v=n.filter((e=>!t.hiddenFields.includes(e.id)&&![t.layout.primaryField,t.layout.mediaField].includes(e.id))),g=(0,i.useCallback)((e=>c([e])),[c]),E=(0,i.useCallback)((e=>e?`${m}-${s(e)}`:void 0),[m,s]),w=st({defaultActiveId:E(p)}),y=a?.length;return y?(0,r.createElement)(ct,{id:m,render:(0,r.createElement)("ul",null),className:"dataviews-view-list",role:"grid",store:w},a.map((e=>{const t=E(e);return(0,r.createElement)(mt,{key:t,id:t,item:e,isSelected:e===p,onSelect:g,mediaField:f,primaryField:h,visibleFields:v})}))):(0,r.createElement)("div",{className:_e()({"dataviews-loading":o,"dataviews-no-results":!y&&!o})},!y&&(0,r.createElement)("p",null,o?(0,r.createElement)(l.Spinner,null):(0,P.__)("No results")))},icon:(0,P.isRTL)()?ye:be}],{DropdownMenuV2:ft,DropdownMenuGroupV2:ht,DropdownMenuItemV2:vt,DropdownMenuRadioItemV2:gt,DropdownMenuCheckboxItemV2:Et,DropdownMenuItemLabelV2:wt}=ie(l.privateApis);function yt({view:e,onChangeView:t,supportedLayouts:n}){let a=pt;if(n&&(a=a.filter((e=>n.includes(e.type)))),1===a.length)return null;const o=a.find((t=>e.type===t.type));return(0,r.createElement)(ft,{trigger:(0,r.createElement)(vt,{suffix:(0,r.createElement)("span",{"aria-hidden":"true"},o.label)},(0,r.createElement)(wt,null,(0,P.__)("Layout")))},a.map((n=>(0,r.createElement)(gt,{key:n.type,value:n.type,name:"view-actions-available-view",checked:n.type===e.type,hideOnClick:!0,onChange:n=>{t({...e,type:n.target.value})}},(0,r.createElement)(wt,null,n.label)))))}const bt=[10,20,50,100];function Ct({view:e,onChangeView:t}){return(0,r.createElement)(ft,{trigger:(0,r.createElement)(vt,{suffix:(0,r.createElement)("span",{"aria-hidden":"true"},e.perPage)},(0,r.createElement)(wt,null,(0,P.__)("Items per page")))},bt.map((n=>(0,r.createElement)(gt,{key:n,value:n,name:"view-actions-page-size",checked:e.perPage===n,onChange:()=>{t({...e,perPage:n,page:1})}},(0,r.createElement)(wt,null,n)))))}function _t({view:e,onChangeView:t,fields:n}){const a=n.filter((t=>!1!==t.enableHiding&&t.id!==e.layout.mediaField));return a?.length?(0,r.createElement)(ft,{trigger:(0,r.createElement)(vt,null,(0,r.createElement)(wt,null,(0,P.__)("Fields")))},a?.map((n=>(0,r.createElement)(Et,{key:n.id,value:n.id,checked:!e.hiddenFields?.includes(n.id),onChange:()=>{t({...e,hiddenFields:e.hiddenFields?.includes(n.id)?e.hiddenFields.filter((e=>e!==n.id)):[...e.hiddenFields||[],n.id]})}},(0,r.createElement)(wt,null,n.header))))):null}function St({fields:e,view:t,onChangeView:n}){const a=e.filter((e=>!1!==e.enableSorting));if(!a?.length)return null;const o=e.find((e=>e.id===t.sort?.field));return(0,r.createElement)(ft,{trigger:(0,r.createElement)(vt,{suffix:(0,r.createElement)("span",{"aria-hidden":"true"},o?.header)},(0,r.createElement)(wt,null,(0,P.__)("Sort by")))},a?.map((e=>{const a=t.sort?.direction;return(0,r.createElement)(ft,{key:e.id,trigger:(0,r.createElement)(vt,null,(0,r.createElement)(wt,null,e.header)),style:{minWidth:"220px"}},Object.entries(he).map((([i,l])=>{const s=void 0!==o&&a===i&&e.id===o.id,c=`${e.id}-${i}`;return(0,r.createElement)(gt,{key:c,name:"view-actions-sorting",value:c,checked:s,onChange:()=>{n({...t,sort:{field:e.id,direction:i}})}},(0,r.createElement)(wt,null,l.label))})))})))}const kt=(0,i.memo)((function({fields:e,view:t,onChangeView:n,supportedLayouts:a}){return(0,r.createElement)(ft,{trigger:(0,r.createElement)(l.Button,{size:"compact",icon:re,label:(0,P.__)("View options")})},(0,r.createElement)(ht,null,(0,r.createElement)(yt,{view:t,onChangeView:n,supportedLayouts:a}),(0,r.createElement)(St,{fields:e,view:t,onChangeView:n}),(0,r.createElement)(_t,{fields:e,view:t,onChangeView:n}),(0,r.createElement)(Ct,{view:t,onChangeView:n})))})),It=(0,r.createElement)(J.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(J.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));var xt={id:null};function Dt(e,t){return t&&e.item(t)||null}var Tt=Symbol("FOCUS_SILENTLY");function Ot(e,t,n){if(!t)return!1;if(t===n)return!1;const r=e.item(t.id);return!(!r||n&&r.element===n)}var Pt=Object.defineProperty,At=Object.defineProperties,Mt=Object.getOwnPropertyDescriptors,Ft=Object.getOwnPropertySymbols,Nt=Object.prototype.hasOwnProperty,Vt=Object.prototype.propertyIsEnumerable,Lt=(e,t,n)=>t in e?Pt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rt=(e,t)=>{for(var n in t||(t={}))Nt.call(t,n)&&Lt(e,n,t[n]);if(Ft)for(var n of Ft(t))Vt.call(t,n)&&Lt(e,n,t[n]);return e},Bt=(e,t)=>At(e,Mt(t)),zt=(e,t)=>{var n={};for(var r in e)Nt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ft)for(var r of Ft(e))t.indexOf(r)<0&&Vt.call(e,r)&&(n[r]=e[r]);return n},Ht=Object.defineProperty,jt=Object.defineProperties,Kt=Object.getOwnPropertyDescriptors,Gt=Object.getOwnPropertySymbols,Ut=Object.prototype.hasOwnProperty,Wt=Object.prototype.propertyIsEnumerable,qt=(e,t,n)=>t in e?Ht(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yt=(e,t)=>{for(var n in t||(t={}))Ut.call(t,n)&&qt(e,n,t[n]);if(Gt)for(var n of Gt(t))Wt.call(t,n)&&qt(e,n,t[n]);return e},$t=(e,t)=>jt(e,Kt(t)),Qt=(e,t)=>{var n={};for(var r in e)Ut.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Gt)for(var r of Gt(e))t.indexOf(r)<0&&Wt.call(e,r)&&(n[r]=e[r]);return n};function Xt(...e){}function Zt(e,t){return"function"==typeof Object.hasOwn?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t)}function Jt(...e){return(...t)=>{for(const n of e)"function"==typeof n&&n(...t)}}function en(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function tn(e){return e}function nn(e,t){if(!e){if("string"!=typeof t)throw new Error("Invariant failed");throw new Error(t)}}function rn(e){return e.disabled||!0===e["aria-disabled"]||"true"===e["aria-disabled"]}function an(...e){for(const t of e)if(void 0!==t)return t}var on,ln="undefined"!=typeof window&&!!(null==(on=window.document)?void 0:on.createElement);function sn(e){return e?e.ownerDocument||e:document}function cn(e,t=!1){const{activeElement:n}=sn(e);if(!(null==n?void 0:n.nodeName))return null;if("IFRAME"===n.tagName&&n.contentDocument)return cn(n.contentDocument.body,t);if(t){const e=n.getAttribute("aria-activedescendant");if(e){const t=sn(n).getElementById(e);if(t)return t}}return n}function un(e,t){return e===t||e.contains(t)}function dn(e){const t=e.tagName.toLowerCase();return"button"===t||!("input"!==t||!e.type)&&-1!==mn.indexOf(e.type)}var mn=["button","color","file","image","reset","submit"];function pn(e,t){return"matches"in e?e.matches(t):"msMatchesSelector"in e?e.msMatchesSelector(t):e.webkitMatchesSelector(t)}function fn(e){try{const t=e instanceof HTMLInputElement&&null!==e.selectionStart,n="TEXTAREA"===e.tagName;return t||n||!1}catch(e){return!1}}function hn(e,t){const n=null==e?void 0:e.getAttribute("role");return n&&-1!==["dialog","menu","listbox","tree","grid"].indexOf(n)?n:t}function vn(e,t){var n;const r=hn(e);return r&&null!=(n={menu:"menuitem",listbox:"option",tree:"treeitem",grid:"gridcell"}[r])?n:t}function gn(e){if(!e)return null;if(e.clientHeight&&e.scrollHeight>e.clientHeight){const{overflowY:t}=getComputedStyle(e);if("visible"!==t&&"hidden"!==t)return e}else if(e.clientWidth&&e.scrollWidth>e.clientWidth){const{overflowX:t}=getComputedStyle(e);if("visible"!==t&&"hidden"!==t)return e}return gn(e.parentElement)||document.scrollingElement||document.body}function En(e,...t){/text|search|password|tel|url/i.test(e.type)&&e.setSelectionRange(...t)}function wn(){return!!ln&&/mac|iphone|ipad|ipod/i.test(navigator.platform)}function yn(){return ln&&wn()&&/apple/i.test(navigator.vendor)}function bn(e){return Boolean(e.currentTarget&&!un(e.currentTarget,e.target))}function Cn(e){return e.target===e.currentTarget}function Sn(e,t){const n=new FocusEvent("blur",t),r=e.dispatchEvent(n),a=$t(Yt({},t),{bubbles:!0});return e.dispatchEvent(new FocusEvent("focusout",a)),r}function kn(e,t){const n=new MouseEvent("click",t);return e.dispatchEvent(n)}function In(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!un(n,r)}function xn(e,t,n){const r=requestAnimationFrame((()=>{e.removeEventListener(t,a,!0),n()})),a=()=>{cancelAnimationFrame(r),n()};return e.addEventListener(t,a,{once:!0,capture:!0}),r}function Dn(e,t,n,r=window){const a=[];try{r.document.addEventListener(e,t,n);for(const o of Array.from(r.frames))a.push(Dn(e,t,n,o))}catch(e){}return()=>{try{r.document.removeEventListener(e,t,n)}catch(e){}a.forEach((e=>e()))}}var Tn=Rt({},a),On=Tn.useId,Pn=(Tn.useDeferredValue,Tn.useInsertionEffect),An=ln?r.useLayoutEffect:r.useEffect;function Mn(e){const t=(0,r.useRef)((()=>{throw new Error("Cannot call an event handler while rendering.")}));return Pn?Pn((()=>{t.current=e})):t.current=e,(0,r.useCallback)(((...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)}),[])}function Fn(...e){return(0,r.useMemo)((()=>{if(e.some(Boolean))return t=>{e.forEach((e=>function(e,t){"function"==typeof e?e(t):e&&(e.current=t)}(e,t)))}}),e)}function Nn(e){if(On){const t=On();return e||t}const[t,n]=(0,r.useState)(e);return An((()=>{if(e||t)return;const r=Math.random().toString(36).substr(2,6);n(`id-${r}`)}),[e,t]),e||t}function Vn(e,t){const n=e=>{if("string"==typeof e)return e},[a,o]=(0,r.useState)((()=>n(t)));return An((()=>{const r=e&&"current"in e?e.current:e;o((null==r?void 0:r.tagName.toLowerCase())||n(t))}),[e,t]),a}function Ln(e,t){const n=(0,r.useRef)(!1);(0,r.useEffect)((()=>{if(n.current)return e();n.current=!0}),t),(0,r.useEffect)((()=>()=>{n.current=!1}),[])}function Rn(e){return Mn("function"==typeof e?e:()=>e)}function Bn(e,t,n=[]){const a=(0,r.useCallback)((n=>(e.wrapElement&&(n=e.wrapElement(n)),t(n))),[...n,e.wrapElement]);return Bt(Rt({},e),{wrapElement:a})}Symbol("setNextState");var zn=!1,Hn=0,jn=0;function Kn(e){(function(e){const t=e.movementX||e.screenX-Hn,n=e.movementY||e.screenY-jn;return Hn=e.screenX,jn=e.screenY,t||n||!1})(e)&&(zn=!0)}function Gn(){zn=!1}var Un=n(848);function Wn(e){return r.forwardRef(((t,n)=>e(Rt({ref:n},t))))}function qn(e){const t=Wn(e);return r.memo(t)}function Yn(e,t){const n=t,{as:a,wrapElement:o,render:i}=n,l=zt(n,["as","wrapElement","render"]);let s;const c=Fn(t.ref,function(e){return function(e){return!!e&&!!(0,r.isValidElement)(e)&&"ref"in e}(e)?e.ref:null}(i));if(a&&"string"!=typeof a)s=(0,Un.jsx)(a,Bt(Rt({},l),{render:i}));else if(r.isValidElement(i)){const e=Bt(Rt({},i.props),{ref:c});s=r.cloneElement(i,function(e,t){const n=Rt({},e);for(const r in t){if(!Zt(t,r))continue;if("className"===r){const r="className";n[r]=e[r]?`${e[r]} ${t[r]}`:t[r];continue}if("style"===r){const r="style";n[r]=e[r]?Rt(Rt({},e[r]),t[r]):t[r];continue}const a=t[r];if("function"==typeof a&&r.startsWith("on")){const t=e[r];if("function"==typeof t){n[r]=(...e)=>{a(...e),t(...e)};continue}}n[r]=a}return n}(l,e))}else if(i)s=i(l);else if("function"==typeof t.children){const e=l,{children:n}=e,r=zt(e,["children"]);s=t.children(r)}else s=a?(0,Un.jsx)(a,Rt({},l)):(0,Un.jsx)(e,Rt({},l));return o?o(s):s}function $n(e){return(t={})=>{const n=e(t),r={};for(const e in n)Zt(n,e)&&void 0!==n[e]&&(r[e]=n[e]);return r}}function Qn(e=[],t=[]){const n=r.createContext(void 0),a=r.createContext(void 0),o=()=>r.useContext(n),i=t=>e.reduceRight(((e,n)=>(0,Un.jsx)(n,Bt(Rt({},t),{children:e}))),(0,Un.jsx)(n.Provider,Rt({},t)));return{context:n,scopedContext:a,useContext:o,useScopedContext:(e=!1)=>{const t=r.useContext(a),n=o();return e?t:t||n},useProviderContext:()=>{const e=r.useContext(a),t=o();if(!e||e!==t)return t},ContextProvider:i,ScopedContextProvider:e=>(0,Un.jsx)(i,Bt(Rt({},e),{children:t.reduceRight(((t,n)=>(0,Un.jsx)(n,Bt(Rt({},e),{children:t}))),(0,Un.jsx)(a.Provider,Rt({},e)))}))}}var Xn=Qn(),Zn=Xn.useContext,Jn=(Xn.useScopedContext,Xn.useProviderContext,Qn([Xn.ContextProvider],[Xn.ScopedContextProvider])),er=Jn.useContext,tr=(Jn.useScopedContext,Jn.useProviderContext),nr=Jn.ContextProvider,rr=Jn.ScopedContextProvider,ar=(0,r.createContext)(void 0),or=(0,r.createContext)(void 0),ir="";function lr(){ir=""}function sr(e,t){var n;const r=(null==(n=e.element)?void 0:n.textContent)||e.children;return!!r&&en(r).trim().toLowerCase().startsWith(t.toLowerCase())}var cr=$n((e=>{var t=e,{store:n,typeahead:a=!0}=t,o=zt(t,["store","typeahead"]);const i=er();nn(n=n||i,!1);const l=o.onKeyDownCapture,s=(0,r.useRef)(0),c=Mn((e=>{if(null==l||l(e),e.defaultPrevented)return;if(!a)return;if(!n)return;const{items:t,activeId:r}=n.getState();if(!function(e){const t=e.target;return(!t||!fn(t))&&(!(" "!==e.key||!ir.length)||1===e.key.length&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&/^[\p{Letter}\p{Number}]$/u.test(e.key))}(e))return lr();let o=function(e){return e.filter((e=>!e.disabled))}(t);if(!function(e,t){if(Cn(e))return!0;const n=e.target;return!!n&&t.some((e=>e.element===n))}(e,o))return lr();e.preventDefault(),window.clearTimeout(s.current),s.current=window.setTimeout((()=>{ir=""}),500);const i=e.key.toLowerCase();ir+=i,o=function(e,t,n){if(!n)return e;const r=e.find((e=>e.id===n));return r&&sr(r,t)?ir!==t&&sr(r,ir)?e:(ir=t,function(e,t,n=!1){const r=e.findIndex((e=>e.id===t));return[...e.slice(r+1),...n?[xt]:[],...e.slice(0,r)]}(e.filter((e=>sr(e,ir))),n).filter((e=>e.id!==n))):e}(o,i,r);const c=o.find((e=>sr(e,ir)));c?n.move(c.id):lr()}));return Bt(Rt({},o),{onKeyDownCapture:c})})),ur=Wn((e=>Yn("div",cr(e))));function dr(e){return!!pn(e,"input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])")&&!!function(e){const t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}(e)&&!function(e,t){if("closest"in e)return e.closest(t);do{if(pn(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}(e,"[inert]")}function mr(e){const t=cn(e);if(!t)return!1;if(t===e)return!0;const n=t.getAttribute("aria-activedescendant");return!!n&&n===e.id}function pr(e){const t=cn(e);if(!t)return!1;if(un(e,t))return!0;const n=t.getAttribute("aria-activedescendant");return!!n&&"id"in e&&(n===e.id||!!e.querySelector(`#${CSS.escape(n)}`))}function fr(e){const t=e.relatedTarget;return(null==t?void 0:t.nodeType)===Node.ELEMENT_NODE?t:null}var hr=Symbol("composite-hover"),vr=$n((e=>{var t=e,{store:n,focusOnHover:a=!0,blurOnHoverEnd:o=!!a}=t,i=zt(t,["store","focusOnHover","blurOnHoverEnd"]);const l=er();nn(n=n||l,!1);const s=((0,r.useEffect)((()=>{Dn("mousemove",Kn,!0),Dn("mousedown",Gn,!0),Dn("mouseup",Gn,!0),Dn("keydown",Gn,!0),Dn("scroll",Gn,!0)}),[]),Mn((()=>zn))),c=i.onMouseMove,u=Rn(a),d=Mn((e=>{if(null==c||c(e),!e.defaultPrevented&&s()&&u(e)){if(!pr(e.currentTarget)){const e=null==n?void 0:n.getState().baseElement;e&&!mr(e)&&e.focus()}null==n||n.setActiveId(e.currentTarget.id)}})),m=i.onMouseLeave,p=Rn(o),f=Mn((e=>{var t;null==m||m(e),e.defaultPrevented||s()&&(function(e){const t=fr(e);return!!t&&un(e.currentTarget,t)}(e)||function(e){let t=fr(e);if(!t)return!1;do{if(Zt(t,hr)&&t[hr])return!0;t=t.parentElement}while(t);return!1}(e)||u(e)&&p(e)&&(null==n||n.setActiveId(null),null==(t=null==n?void 0:n.getState().baseElement)||t.focus()))})),h=(0,r.useCallback)((e=>{e&&(e[hr]=!0)}),[]);return Bt(Rt({},i),{ref:Fn(h,i.ref),onMouseMove:d,onMouseLeave:f})})),gr=qn((e=>Yn("div",vr(e))));function Er(e,t){const n=e.__unstableInternals;return nn(n,"Invalid store"),n[t]}function wr(e,...t){let n=e,r=n,a=Symbol(),o=Xt;const i=new Set,l=new Set,s=new Set,c=new Set,u=new Set,d=new WeakMap,m=new WeakMap,p=(e,t,n=c)=>(n.add(t),m.set(t,e),()=>{var e;null==(e=d.get(t))||e(),d.delete(t),m.delete(t),n.delete(t)}),f=(e,o,i=!1)=>{if(!Zt(n,e))return;const s=(p=o,f=n[e],function(e){return"function"==typeof e}(p)?p(function(e){return"function"==typeof e}(f)?f():f):p);var p,f;if(s===n[e])return;i||t.forEach((t=>{var n;null==(n=null==t?void 0:t.setState)||n.call(t,e,s)}));const h=n;n=$t(Yt({},n),{[e]:s});const v=Symbol();a=v,l.add(e);const g=(t,r,a)=>{var o;const i=m.get(t);i&&!i.some((t=>a?a.has(t):t===e))||(null==(o=d.get(t))||o(),d.set(t,t(n,r)))};c.forEach((e=>{g(e,h)})),queueMicrotask((()=>{if(a!==v)return;const e=n;u.forEach((e=>{g(e,r,l)})),r=e,l.clear()}))},h={getState:()=>n,setState:f,__unstableInternals:{setup:e=>(s.add(e),()=>s.delete(e)),init:()=>{const e=i.size,r=Symbol();i.add(r);const a=()=>{i.delete(r),i.size||o()};if(e)return a;const l=(c=n,Object.keys(c)).map((e=>Jt(...t.map((t=>{var n;const r=null==(n=null==t?void 0:t.getState)?void 0:n.call(t);if(r&&Zt(r,e))return _r(t,[e],(t=>{f(e,t[e],!0)}))})))));var c;const u=[];s.forEach((e=>u.push(e())));const d=t.map(br);return o=Jt(...l,...u,...d),a},subscribe:(e,t)=>p(e,t),sync:(e,t)=>(d.set(t,t(n,n)),p(e,t)),batch:(e,t)=>(d.set(t,t(n,r)),p(e,t,u)),pick:e=>wr(function(e,t){const n={};for(const r of t)Zt(e,r)&&(n[r]=e[r]);return n}(n,e),h),omit:e=>wr(function(e,t){const n=Yt({},e);for(const e of t)Zt(n,e)&&delete n[e];return n}(n,e),h)}};return h}function yr(e,...t){if(e)return Er(e,"setup")(...t)}function br(e,...t){if(e)return Er(e,"init")(...t)}function Cr(e,...t){if(e)return Er(e,"subscribe")(...t)}function _r(e,...t){if(e)return Er(e,"sync")(...t)}function Sr(e,...t){if(e)return Er(e,"batch")(...t)}function kr(e,...t){if(e)return Er(e,"omit")(...t)}function Ir(...e){const t=e.reduce(((e,t)=>{var n;const r=null==(n=null==t?void 0:t.getState)?void 0:n.call(t);return r?Yt(Yt({},e),r):e}),{});return wr(t,...e)}var xr=n(888),{useSyncExternalStore:Dr}=xr,Tr=()=>()=>{};function Or(e,t=tn){const n=r.useCallback((t=>e?Cr(e,null,t):Tr()),[e]),a=()=>{const n="string"==typeof t?t:null,r="function"==typeof t?t:null,a=null==e?void 0:e.getState();return r?r(a):a&&n&&Zt(a,n)?a[n]:void 0};return Dr(n,a,a)}function Pr(e,t,n,a){const o=Zt(t,n)?t[n]:void 0,i=a?t[a]:void 0,l=function(e){const t=(0,r.useRef)(e);return An((()=>{t.current=e})),t}({value:o,setValue:i});An((()=>_r(e,[n],((e,t)=>{const{value:r,setValue:a}=l.current;a&&e[n]!==t[n]&&e[n]!==r&&a(e[n])}))),[e,n]),An((()=>{if(void 0!==o)return e.setState(n,o),Sr(e,[n],(()=>{void 0!==o&&e.setState(n,o)}))}))}function Ar(e,t,n){return Pr(e=function(e,t,n){return Ln(t,[n.store]),Pr(e,n,"items","setItems"),e}(e,t,n),n,"activeId","setActiveId"),Pr(e,n,"includesBaseElement"),Pr(e,n,"virtualFocus"),Pr(e,n,"orientation"),Pr(e,n,"rtl"),Pr(e,n,"focusLoop"),Pr(e,n,"focusWrap"),Pr(e,n,"focusShift"),e}function Mr(e,t,n){return function(e,t,n){return Ln(t,[n.store,n.disclosure]),Pr(e,n,"open","setOpen"),Pr(e,n,"mounted","setMounted"),Pr(e,n,"animated"),e}(e,t,n)}function Fr(e={}){var t;e.store;const n=null==(t=e.store)?void 0:t.getState(),r=an(e.items,null==n?void 0:n.items,e.defaultItems,[]),a=new Map(r.map((e=>[e.id,e]))),o={items:r,renderedItems:an(null==n?void 0:n.renderedItems,[])},i=function(e){return null==e?void 0:e.__unstablePrivateStore}(e.store),l=wr({items:r,renderedItems:o.renderedItems},i),s=wr(o,e.store),c=e=>{const t=function(e){const t=e.map(((e,t)=>[t,e]));let n=!1;return t.sort((([e,t],[r,a])=>{const o=t.element,i=a.element;return o===i?0:o&&i?function(e,t){return Boolean(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING)}(o,i)?(e>r&&(n=!0),-1):(e<r&&(n=!0),1):0})),n?t.map((([e,t])=>t)):e}(e);l.setState("renderedItems",t),s.setState("renderedItems",t)};yr(s,(()=>br(l))),yr(l,(()=>Sr(l,["items"],(e=>{s.setState("items",e.items)})))),yr(l,(()=>Sr(l,["renderedItems"],(e=>{let t=!0,n=requestAnimationFrame((()=>{const{renderedItems:t}=s.getState();e.renderedItems!==t&&c(e.renderedItems)}));if("function"!=typeof IntersectionObserver)return()=>cancelAnimationFrame(n);const r=function(e){var t;const n=e.find((e=>!!e.element)),r=[...e].reverse().find((e=>!!e.element));let a=null==(t=null==n?void 0:n.element)?void 0:t.parentElement;for(;a&&(null==r?void 0:r.element);){if(r&&a.contains(r.element))return a;a=a.parentElement}return sn(a).body}(e.renderedItems),a=new IntersectionObserver((()=>{t?t=!1:(cancelAnimationFrame(n),n=requestAnimationFrame((()=>c(e.renderedItems))))}),{root:r});for(const t of e.renderedItems)t.element&&a.observe(t.element);return()=>{cancelAnimationFrame(n),a.disconnect()}}))));const u=(e,t,n=!1)=>{let r;return t((t=>{const n=t.findIndex((({id:t})=>t===e.id)),o=t.slice();if(-1!==n){r=t[n];const i=Yt(Yt({},r),e);o[n]=i,a.set(e.id,i)}else o.push(e),a.set(e.id,e);return o})),()=>{t((t=>{if(!r)return n&&a.delete(e.id),t.filter((({id:t})=>t!==e.id));const o=t.findIndex((({id:t})=>t===e.id));if(-1===o)return t;const i=t.slice();return i[o]=r,a.set(e.id,r),i}))}},d=e=>u(e,(e=>l.setState("items",e)),!0);return $t(Yt({},s),{registerItem:d,renderItem:e=>Jt(d(e),u(e,(e=>l.setState("renderedItems",e)))),item:e=>{if(!e)return null;let t=a.get(e);if(!t){const{items:n}=s.getState();t=n.find((t=>t.id===e)),t&&a.set(e,t)}return t||null},__unstablePrivateStore:l})}function Nr(e){const t=[];for(const n of e)t.push(...n);return t}function Vr(e){return e.slice().reverse()}var Lr={id:null};function Rr(e,t){return e.find((e=>t?!e.disabled&&e.id!==t:!e.disabled))}function Br(e,t){return e.filter((e=>e.rowId===t))}function zr(e){const t=[];for(const n of e){const e=t.find((e=>{var t;return(null==(t=e[0])?void 0:t.rowId)===n.rowId}));e?e.push(n):t.push([n])}return t}function Hr(e){let t=0;for(const{length:n}of e)n>t&&(t=n);return t}function jr(e,t,n){const r=Hr(e);for(const a of e)for(let e=0;e<r;e+=1){const r=a[e];if(!r||n&&r.disabled){const r=0===e&&n?Rr(a):a[e-1];a[e]=r&&t!==r.id&&n?r:{id:"__EMPTY_ITEM__",disabled:!0,rowId:null==r?void 0:r.rowId}}}return e}function Kr(e){const t=zr(e),n=Hr(t),r=[];for(let e=0;e<n;e+=1)for(const n of t){const t=n[e];t&&r.push($t(Yt({},t),{rowId:t.rowId?`${e}`:void 0}))}return r}var Gr=yn()&&ln&&!!navigator.maxTouchPoints;function Ur(e={}){var t;e.store;const n=null==(t=e.store)?void 0:t.getState(),r=an(e.activeId,null==n?void 0:n.activeId,e.defaultActiveId,null),a=function(e={}){var t;const n=null==(t=e.store)?void 0:t.getState(),r=Fr(e),a=an(e.activeId,null==n?void 0:n.activeId,e.defaultActiveId),o=wr($t(Yt({},r.getState()),{activeId:a,baseElement:an(null==n?void 0:n.baseElement,null),includesBaseElement:an(e.includesBaseElement,null==n?void 0:n.includesBaseElement,null===a),moves:an(null==n?void 0:n.moves,0),orientation:an(e.orientation,null==n?void 0:n.orientation,"both"),rtl:an(e.rtl,null==n?void 0:n.rtl,!1),virtualFocus:an(e.virtualFocus,null==n?void 0:n.virtualFocus,!1),focusLoop:an(e.focusLoop,null==n?void 0:n.focusLoop,!1),focusWrap:an(e.focusWrap,null==n?void 0:n.focusWrap,!1),focusShift:an(e.focusShift,null==n?void 0:n.focusShift,!1)}),r,e.store);yr(o,(()=>_r(o,["renderedItems","activeId"],(e=>{o.setState("activeId",(t=>{var n;return void 0!==t?t:null==(n=Rr(e.renderedItems))?void 0:n.id}))}))));const i=(e,t,n,r)=>{var a,i;const{activeId:l,rtl:s,focusLoop:c,focusWrap:u,includesBaseElement:d}=o.getState(),m=s&&"vertical"!==t?Vr(e):e;if(null==l)return null==(a=Rr(m))?void 0:a.id;const p=m.find((e=>e.id===l));if(!p)return null==(i=Rr(m))?void 0:i.id;const f=!!p.rowId,h=m.indexOf(p),v=m.slice(h+1),g=Br(v,p.rowId);if(void 0!==r){const e=function(e,t){return e.filter((e=>t?!e.disabled&&e.id!==t:!e.disabled))}(g,l),t=e.slice(r)[0]||e[e.length-1];return null==t?void 0:t.id}const E=function(e){return"vertical"===e?"horizontal":"horizontal"===e?"vertical":void 0}(f?t||"horizontal":t),w=c&&c!==E,y=f&&u&&u!==E;if(n=n||!f&&w&&d,w){const e=function(e,t,n=!1){const r=e.findIndex((e=>e.id===t));return[...e.slice(r+1),...n?[Lr]:[],...e.slice(0,r)]}(y&&!n?m:Br(m,p.rowId),l,n),t=Rr(e,l);return null==t?void 0:t.id}if(y){const e=Rr(n?g:v,l);return n?(null==e?void 0:e.id)||null:null==e?void 0:e.id}const b=Rr(g,l);return!b&&n?null:null==b?void 0:b.id};return $t(Yt(Yt({},r),o),{setBaseElement:e=>o.setState("baseElement",e),setActiveId:e=>o.setState("activeId",e),move:e=>{void 0!==e&&(o.setState("activeId",e),o.setState("moves",(e=>e+1)))},first:()=>{var e;return null==(e=Rr(o.getState().renderedItems))?void 0:e.id},last:()=>{var e;return null==(e=Rr(Vr(o.getState().renderedItems)))?void 0:e.id},next:e=>{const{renderedItems:t,orientation:n}=o.getState();return i(t,n,!1,e)},previous:e=>{var t;const{renderedItems:n,orientation:r,includesBaseElement:a}=o.getState(),l=!(null==(t=Rr(n))?void 0:t.rowId)&&a;return i(Vr(n),r,l,e)},down:e=>{const{activeId:t,renderedItems:n,focusShift:r,focusLoop:a,includesBaseElement:l}=o.getState(),s=r&&!e,c=Kr(Nr(jr(zr(n),t,s)));return i(c,"vertical",a&&"horizontal"!==a&&l,e)},up:e=>{const{activeId:t,renderedItems:n,focusShift:r,includesBaseElement:a}=o.getState(),l=r&&!e,s=Kr(Vr(Nr(jr(zr(n),t,l))));return i(s,"vertical",a,e)}})}($t(Yt({},e),{activeId:r,includesBaseElement:an(e.includesBaseElement,null==n?void 0:n.includesBaseElement,!0),orientation:an(e.orientation,null==n?void 0:n.orientation,"vertical"),focusLoop:an(e.focusLoop,null==n?void 0:n.focusLoop,!0),focusWrap:an(e.focusWrap,null==n?void 0:n.focusWrap,!0),virtualFocus:an(e.virtualFocus,null==n?void 0:n.virtualFocus,!Gr)})),o=function(e={}){var t=e,{popover:n}=t,r=Qt(t,["popover"]);const a=Ir(r.store,kr(n,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),o=null==a?void 0:a.getState(),i=function(e={}){return function(e={}){const t=Ir(e.store,kr(e.disclosure,["contentElement","disclosureElement"])),n=null==t?void 0:t.getState(),r=an(e.open,null==n?void 0:n.open,e.defaultOpen,!1),a=an(e.animated,null==n?void 0:n.animated,!1),o=wr({open:r,animated:a,animating:!!a&&r,mounted:r,contentElement:an(null==n?void 0:n.contentElement,null),disclosureElement:an(null==n?void 0:n.disclosureElement,null)},t);return yr(o,(()=>_r(o,["animated","animating"],(e=>{e.animated||o.setState("animating",!1)})))),yr(o,(()=>Cr(o,["open"],(()=>{o.getState().animated&&o.setState("animating",!0)})))),yr(o,(()=>_r(o,["open","animating"],(e=>{o.setState("mounted",e.open||e.animating)})))),$t(Yt({},o),{setOpen:e=>o.setState("open",e),show:()=>o.setState("open",!0),hide:()=>o.setState("open",!1),toggle:()=>o.setState("open",(e=>!e)),stopAnimation:()=>o.setState("animating",!1),setContentElement:e=>o.setState("contentElement",e),setDisclosureElement:e=>o.setState("disclosureElement",e)})}(e)}($t(Yt({},r),{store:a})),l=an(r.placement,null==o?void 0:o.placement,"bottom"),s=wr($t(Yt({},i.getState()),{placement:l,currentPlacement:l,anchorElement:an(null==o?void 0:o.anchorElement,null),popoverElement:an(null==o?void 0:o.popoverElement,null),arrowElement:an(null==o?void 0:o.arrowElement,null),rendered:Symbol("rendered")}),i,a);return $t(Yt(Yt({},i),s),{setAnchorElement:e=>s.setState("anchorElement",e),setPopoverElement:e=>s.setState("popoverElement",e),setArrowElement:e=>s.setState("arrowElement",e),render:()=>s.setState("rendered",Symbol("rendered"))})}($t(Yt({},e),{placement:an(e.placement,null==n?void 0:n.placement,"bottom-start")})),i=an(e.value,null==n?void 0:n.value,e.defaultValue,""),l=an(e.selectedValue,null==n?void 0:n.selectedValue,e.defaultSelectedValue,""),s=Array.isArray(l),c=wr($t(Yt(Yt({},a.getState()),o.getState()),{value:i,selectedValue:l,resetValueOnSelect:an(e.resetValueOnSelect,null==n?void 0:n.resetValueOnSelect,s),resetValueOnHide:an(e.resetValueOnHide,null==n?void 0:n.resetValueOnHide,s),activeValue:null==n?void 0:n.activeValue}),a,o,e.store);return yr(c,(()=>_r(c,["resetValueOnHide","mounted"],(e=>{e.resetValueOnHide&&(e.mounted||c.setState("value",i))})))),yr(c,(()=>_r(c,["resetValueOnSelect","selectedValue"],(e=>{e.resetValueOnSelect&&c.setState("value",i)})))),yr(c,(()=>Sr(c,["mounted"],(e=>{e.mounted||(c.setState("activeId",r),c.setState("moves",0))})))),yr(c,(()=>_r(c,["moves","activeId"],((e,t)=>{e.moves===t.moves&&c.setState("activeValue",void 0)})))),yr(c,(()=>Sr(c,["moves","renderedItems"],((e,t)=>{if(e.moves===t.moves)return;const{activeId:n}=c.getState(),r=a.item(n);c.setState("activeValue",null==r?void 0:r.value)})))),$t(Yt(Yt(Yt({},o),a),c),{setValue:e=>c.setState("value",e),setSelectedValue:e=>c.setState("selectedValue",e)})}function Wr(e={}){const[t,n]=function(e,t){const[n,a]=r.useState((()=>e(t)));An((()=>br(n)),[n]);const o=r.useCallback((e=>Or(n,e)),[n]);return[r.useMemo((()=>Bt(Rt({},n),{useState:o})),[n,o]),Mn((()=>{a((n=>e(Rt(Rt({},t),n.getState()))))}))]}(Ur,e);return function(e,t,n){return Pr(e=Ar(e=function(e,t,n){return Ln(t,[n.popover]),Pr(e=Mr(e,t,n),n,"placement"),e}(e,t,n),t,n),n,"value","setValue"),Pr(e,n,"selectedValue","setSelectedValue"),Pr(e,n,"resetValueOnHide"),Pr(e,n,"resetValueOnSelect"),e}(t,n,e)}var qr=Qn(),Yr=(qr.useContext,qr.useScopedContext,qr.useProviderContext),$r=Qn([qr.ContextProvider],[qr.ScopedContextProvider]),Qr=($r.useContext,$r.useScopedContext,$r.useProviderContext,$r.ContextProvider),Xr=$r.ScopedContextProvider,Zr=((0,r.createContext)(void 0),(0,r.createContext)(void 0),Qn([Qr],[Xr])),Jr=(Zr.useContext,Zr.useScopedContext,Zr.useProviderContext),ea=Zr.ContextProvider,ta=Zr.ScopedContextProvider,na=Qn([ea,nr],[ta,rr]),ra=(na.useContext,na.useScopedContext),aa=na.useProviderContext,oa=na.ContextProvider,ia=na.ScopedContextProvider,la=(0,r.createContext)(void 0),sa=(0,r.createContext)(!1);function ca(e={}){const t=Wr(e);return(0,Un.jsx)(oa,{value:t,children:e.children})}var ua=$n((e=>{var t=e,{store:n}=t,r=zt(t,["store"]);const a=aa();nn(n=n||a,!1);const o=n.useState((e=>{var t;return null==(t=e.baseElement)?void 0:t.id}));return Rt({htmlFor:o},r)})),da=qn((e=>Yn("label",ua(e)))),ma=$n((e=>{var t=e,{store:n}=t,r=zt(t,["store"]);const a=Jr();return n=n||a,Bt(Rt({},r),{ref:Fn(null==n?void 0:n.setAnchorElement,r.ref)})}));Wn((e=>Yn("div",ma(e))));var pa=(0,r.createContext)(!0),fa=yn(),ha=["text","search","url","tel","email","password","number","date","month","week","time","datetime","datetime-local"];function va(e){return!("input"!==e.tagName.toLowerCase()||!e.type||"radio"!==e.type&&"checkbox"!==e.type)}function ga(e,t,n,r,a){return e?t?n&&!r?-1:void 0:n?a:a||0:a}function Ea(e,t){return Mn((n=>{null==e||e(n),n.defaultPrevented||t&&(n.stopPropagation(),n.preventDefault())}))}var wa=!0;function ya(e){const t=e.target;t&&"hasAttribute"in t&&(t.hasAttribute("data-focus-visible")||(wa=!1))}function ba(e){e.metaKey||e.ctrlKey||e.altKey||(wa=!0)}var Ca=$n((e=>{var t=e,{focusable:n=!0,accessibleWhenDisabled:a,autoFocus:o,onFocusVisible:i}=t,l=zt(t,["focusable","accessibleWhenDisabled","autoFocus","onFocusVisible"]);const s=(0,r.useRef)(null);(0,r.useEffect)((()=>{n&&(Dn("mousedown",ya,!0),Dn("keydown",ba,!0))}),[n]),fa&&(0,r.useEffect)((()=>{if(!n)return;const e=s.current;if(!e)return;if(!va(e))return;const t=function(e){return"labels"in e?e.labels:null}(e);if(!t)return;const r=()=>queueMicrotask((()=>e.focus()));return t.forEach((e=>e.addEventListener("mouseup",r))),()=>{t.forEach((e=>e.removeEventListener("mouseup",r)))}}),[n]);const c=n&&rn(l),u=!!c&&!a,[d,m]=(0,r.useState)(!1);(0,r.useEffect)((()=>{n&&u&&d&&m(!1)}),[n,u,d]),(0,r.useEffect)((()=>{if(!n)return;if(!d)return;const e=s.current;if(!e)return;if("undefined"==typeof IntersectionObserver)return;const t=new IntersectionObserver((()=>{dr(e)||m(!1)}));return t.observe(e),()=>t.disconnect()}),[n,d]);const p=Ea(l.onKeyPressCapture,c),f=Ea(l.onMouseDownCapture,c),h=Ea(l.onClickCapture,c),v=l.onMouseDown,g=Mn((e=>{if(null==v||v(e),e.defaultPrevented)return;if(!n)return;const t=e.currentTarget;if(!fa)return;if(bn(e))return;if(!dn(t)&&!va(t))return;let r=!1;const a=()=>{r=!0};t.addEventListener("focusin",a,{capture:!0,once:!0}),xn(t,"mouseup",(()=>{t.removeEventListener("focusin",a,!0),r||function(e){!pr(e)&&dr(e)&&e.focus()}(t)}))})),E=(e,t)=>{if(t&&(e.currentTarget=t),!n)return;const r=e.currentTarget;r&&mr(r)&&(null==i||i(e),e.defaultPrevented||m(!0))},w=l.onKeyDownCapture,y=Mn((e=>{if(null==w||w(e),e.defaultPrevented)return;if(!n)return;if(d)return;if(e.metaKey)return;if(e.altKey)return;if(e.ctrlKey)return;if(!Cn(e))return;const t=e.currentTarget;queueMicrotask((()=>E(e,t)))})),b=l.onFocusCapture,C=Mn((e=>{if(null==b||b(e),e.defaultPrevented)return;if(!n)return;if(!Cn(e))return void m(!1);const t=e.currentTarget,r=()=>E(e,t);wa||function(e){const{tagName:t,readOnly:n,type:r}=e;return"TEXTAREA"===t&&!n||"SELECT"===t&&!n||("INPUT"!==t||n?!!e.isContentEditable:ha.includes(r))}(e.target)?queueMicrotask(r):function(e){return"combobox"===e.getAttribute("role")&&!!e.dataset.name}(e.target)?xn(e.target,"focusout",r):m(!1)})),_=l.onBlur,S=Mn((e=>{null==_||_(e),n&&In(e)&&m(!1)})),k=(0,r.useContext)(pa),I=Mn((e=>{n&&o&&e&&k&&queueMicrotask((()=>{mr(e)||dr(e)&&e.focus()}))})),x=Vn(s,l.as),D=n&&function(e){return!e||"button"===e||"input"===e||"select"===e||"textarea"===e||"a"===e}(x),T=n&&function(e){return!e||"button"===e||"input"===e||"select"===e||"textarea"===e}(x),O=u?Rt({pointerEvents:"none"},l.style):l.style;return Bt(Rt({"data-focus-visible":n&&d?"":void 0,"data-autofocus":!!o||void 0,"aria-disabled":!!c||void 0},l),{ref:Fn(s,I,l.ref),style:O,tabIndex:ga(n,u,D,T,l.tabIndex),disabled:!(!T||!u)||void 0,contentEditable:c?void 0:l.contentEditable,onKeyPressCapture:p,onClickCapture:h,onMouseDownCapture:f,onMouseDown:g,onKeyDownCapture:y,onFocusCapture:C,onBlur:S})}));function _a(e,t,n){return Mn((r=>{var a;if(null==t||t(r),r.defaultPrevented)return;if(r.isPropagationStopped())return;if(!Cn(r))return;if(function(e){return"Shift"===e.key||"Control"===e.key||"Alt"===e.key||"Meta"===e.key}(r))return;if(function(e){const t=e.target;return!(t&&!fn(t)||1!==e.key.length||e.ctrlKey||e.metaKey)}(r))return;const o=e.getState(),i=null==(a=Dt(e,o.activeId))?void 0:a.element;if(!i)return;const l=r,{view:s}=l,c=zt(l,["view"]);i!==(null==n?void 0:n.current)&&i.focus(),function(e,t,n){const r=new KeyboardEvent(t,n);return e.dispatchEvent(r)}(i,r.type,c)||r.preventDefault(),r.currentTarget.contains(i)&&r.stopPropagation()}))}Wn((e=>Yn("div",e=Ca(e))));var Sa=$n((e=>{var t=e,{store:n,composite:a=!0,focusOnMove:o=a,moveOnKeyPress:i=!0}=t,l=zt(t,["store","composite","focusOnMove","moveOnKeyPress"]);const s=tr();nn(n=n||s,!1);const c=(0,r.useRef)(null),u=function(e){const[t,n]=(0,r.useState)(!1),a=(0,r.useCallback)((()=>n(!0)),[]),o=e.useState((t=>Dt(e,t.activeId)));return(0,r.useEffect)((()=>{const e=null==o?void 0:o.element;t&&e&&(n(!1),e.focus({preventScroll:!0}))}),[o,t]),a}(n),d=n.useState("moves");(0,r.useEffect)((()=>{var e;if(!n)return;if(!d)return;if(!a)return;if(!o)return;const{activeId:t}=n.getState(),r=null==(e=Dt(n,t))?void 0:e.element;var i;r&&("scrollIntoView"in(i=r)?(i.focus({preventScroll:!0}),i.scrollIntoView(Yt({block:"nearest",inline:"nearest"},undefined))):i.focus())}),[n,d,a,o]),An((()=>{if(!n)return;if(!d)return;if(!a)return;const{baseElement:e,activeId:t}=n.getState();if(null!==t)return;if(!e)return;const r=c.current;c.current=null,r&&Sn(r,{relatedTarget:e}),mr(e)||e.focus()}),[n,d,a]);const m=n.useState("activeId"),p=n.useState("virtualFocus");An((()=>{var e;if(!n)return;if(!a)return;if(!p)return;const t=c.current;if(c.current=null,!t)return;const r=(null==(e=Dt(n,m))?void 0:e.element)||cn(t);r!==t&&Sn(t,{relatedTarget:r})}),[n,m,p,a]);const f=_a(n,l.onKeyDownCapture,c),h=_a(n,l.onKeyUpCapture,c),v=l.onFocusCapture,g=Mn((e=>{if(null==v||v(e),e.defaultPrevented)return;if(!n)return;const{virtualFocus:t}=n.getState();if(!t)return;const r=e.relatedTarget,a=function(e){const t=e[Tt];return delete e[Tt],t}(e.currentTarget);Cn(e)&&a&&(e.stopPropagation(),c.current=r)})),E=l.onFocus,w=Mn((e=>{if(null==E||E(e),e.defaultPrevented)return;if(!a)return;if(!n)return;const{relatedTarget:t}=e,{virtualFocus:r}=n.getState();r?Cn(e)&&!Ot(n,t)&&queueMicrotask(u):Cn(e)&&n.setActiveId(null)})),y=l.onBlurCapture,b=Mn((e=>{var t;if(null==y||y(e),e.defaultPrevented)return;if(!n)return;const{virtualFocus:r,activeId:a}=n.getState();if(!r)return;const o=null==(t=Dt(n,a))?void 0:t.element,i=e.relatedTarget,l=Ot(n,i),s=c.current;c.current=null,Cn(e)&&l?(i===o?s&&s!==i&&Sn(s,e):o?Sn(o,e):s&&Sn(s,e),e.stopPropagation()):!Ot(n,e.target)&&o&&Sn(o,e)})),C=l.onKeyDown,_=Rn(i),S=Mn((e=>{var t;if(null==C||C(e),e.defaultPrevented)return;if(!n)return;if(!Cn(e))return;const{orientation:r,items:a,renderedItems:o,activeId:i}=n.getState(),l=Dt(n,i);if(null==(t=null==l?void 0:l.element)?void 0:t.isConnected)return;const s="horizontal"!==r,c="vertical"!==r,u=function(e){return e.some((e=>!!e.rowId))}(o);if(("ArrowLeft"===e.key||"ArrowRight"===e.key||"Home"===e.key||"End"===e.key)&&fn(e.currentTarget))return;const d={ArrowUp:(u||s)&&(()=>{if(u){const e=a&&function(e){return function(e,t){return e.find((e=>!e.disabled))}(Nr(Vr(function(e){const t=[];for(const n of e){const e=t.find((e=>{var t;return(null==(t=e[0])?void 0:t.rowId)===n.rowId}));e?e.push(n):t.push([n])}return t}(e))))}(a);return null==e?void 0:e.id}return null==n?void 0:n.last()}),ArrowRight:(u||c)&&n.first,ArrowDown:(u||s)&&n.first,ArrowLeft:(u||c)&&n.last,Home:n.first,End:n.last,PageUp:n.first,PageDown:n.last},m=d[e.key];if(m){const t=m();if(void 0!==t){if(!_(e))return;e.preventDefault(),n.move(t)}}}));l=Bn(l,(e=>(0,Un.jsx)(nr,{value:n,children:e})),[n]);const k=n.useState((e=>{var t;if(n&&a&&e.virtualFocus)return null==(t=Dt(n,e.activeId))?void 0:t.id}));l=Bt(Rt({"aria-activedescendant":k},l),{ref:Fn(a?n.setBaseElement:null,l.ref),onKeyDownCapture:f,onKeyUpCapture:h,onFocusCapture:g,onFocus:w,onBlurCapture:b,onKeyDown:S});const I=n.useState((e=>a&&(e.virtualFocus||null===e.activeId)));return Ca(Rt({focusable:I},l))}));Wn((e=>Yn("div",Sa(e))));const ka=window.ReactDOM;function Ia(e,t,n){if(!n)return!1;const r=e.find((e=>!e.disabled&&e.value));return(null==r?void 0:r.value)===t}function xa(e,t){return!!t&&null!=e&&(e=en(e),t.length>e.length&&0===t.toLowerCase().indexOf(e.toLowerCase()))}var Da=$n((e=>{var t=e,{store:n,focusable:a=!0,autoSelect:o=!1,getAutoSelectId:i,showOnChange:l=!0,setValueOnChange:s=!0,showOnMouseDown:c=!0,setValueOnClick:u=!0,showOnKeyDown:d=!0,moveOnKeyPress:m=!0,autoComplete:p="list"}=t,f=zt(t,["store","focusable","autoSelect","getAutoSelectId","showOnChange","setValueOnChange","showOnMouseDown","setValueOnClick","showOnKeyDown","moveOnKeyPress","autoComplete"]);const h=aa();nn(n=n||h,!1);const v=(0,r.useRef)(null),[g,E]=(0,r.useReducer)((()=>[]),[]),w=(0,r.useRef)(!1),y=(0,r.useRef)(!1),b=n.useState((e=>!!o&&e.virtualFocus)),C="inline"===p||"both"===p,[_,S]=(0,r.useState)(C);!function(e,t){const n=(0,r.useRef)(!1);An((()=>{n.current?C&&S(!0):n.current=!0}),t),An((()=>()=>{n.current=!1}),[])}(0,[C]);const k=n.useState("value"),I=n.useState((e=>C&&_?e.activeValue:void 0)),x=n.useState("renderedItems"),D=n.useState("open"),T=n.useState("contentElement"),O=(0,r.useMemo)((()=>{if(!C)return k;if(!_)return k;if(Ia(x,I,b)){if(xa(k,I)){const e=(null==I?void 0:I.slice(k.length))||"";return k+e}return k}return I||k}),[C,_,x,I,b,k]);(0,r.useEffect)((()=>{const e=v.current;if(!e)return;const t=()=>S(!0);return e.addEventListener("combobox-item-move",t),()=>{e.removeEventListener("combobox-item-move",t)}}),[]),(0,r.useEffect)((()=>{C&&_&&I&&Ia(x,I,b)&&xa(k,I)&&queueMicrotask((()=>{const e=v.current;e&&En(e,k.length,I.length)}))}),[g,C,_,I,x,b,k]);const P=(0,r.useRef)(null),A=Mn(i),M=(0,r.useRef)(null);(0,r.useEffect)((()=>{if(!D)return;if(!T)return;const e=gn(T);if(!e)return;P.current=e;const t=()=>{w.current=!1},r=()=>{if(!n)return;if(!w.current)return;const{activeId:e}=n.getState();null!==e&&e!==M.current&&(w.current=!1)},a={passive:!0,capture:!0};return e.addEventListener("wheel",t,a),e.addEventListener("scroll",r,a),()=>{e.removeEventListener("wheel",t,!0),e.removeEventListener("scroll",r,!0)}}),[D,T,n]),An((()=>{k&&(y.current||(w.current=!0))}),[k]),An((()=>{D||(w.current=!1)}),[D]);const F=n.useState("resetValueOnSelect");Ln((()=>{var e;const t=w.current;if(!n)return;if(!(b&&t||F))return;const{baseElement:r,contentElement:a,activeId:o}=n.getState();if(!r||mr(r)){if(null==a?void 0:a.hasAttribute("data-placing")){const e=new MutationObserver(E);return e.observe(a,{attributeFilter:["data-placing"]}),()=>e.disconnect()}if(b&&t){const e=A(x),t=void 0!==e?e:n.first();M.current=t,n.move(null!=t?t:null)}else{const t=null==(e=n.item(o))?void 0:e.element;t&&"scrollIntoView"in t&&t.scrollIntoView({block:"nearest",inline:"nearest"})}}}),[n,g,k,b,F,A,x]),(0,r.useEffect)((()=>{if(!C)return;const e=v.current;if(!e)return;const t=[e,T].filter((e=>!!e)),r=e=>{t.every((t=>In(e,t)))&&(null==n||n.setValue(O))};return t.forEach((e=>e.addEventListener("focusout",r))),()=>{t.forEach((e=>e.removeEventListener("focusout",r)))}}),[C,T,n,O]);const N=f.onChange,V=Rn(l),L=Rn(s),R=Mn((e=>{if(null==N||N(e),e.defaultPrevented)return;if(!n)return;const{value:t,selectionStart:r,selectionEnd:a}=e.target,o=e.nativeEvent;if(w.current=!0,function(e){return"input"===e.type}(o)&&(o.isComposing&&(w.current=!1,y.current=!0),C)){const e="insertText"===o.inputType||"insertCompositionText"===o.inputType,n=r===t.length;S(e&&n)}if(L(e)){const o=t===n.getState().value;(0,ka.flushSync)((()=>null==n?void 0:n.setValue(t))),En(e.currentTarget,r,a),C&&b&&o&&E()}V(e)&&n.show(),b&&w.current||n.setActiveId(null)})),B=f.onCompositionEnd,z=Mn((e=>{w.current=!0,y.current=!1,null==B||B(e),e.defaultPrevented||b&&E()})),H=f.onMouseDown,j=Rn(u),K=Rn(c),G=Mn((e=>{null==H||H(e),e.defaultPrevented||e.button||e.ctrlKey||n&&(n.setActiveId(null),j(e)&&n.setValue(O),K(e)&&xn(e.currentTarget,"mouseup",n.show))})),U=f.onKeyDown,W=Rn(d),q=Mn((e=>{if(null==U||U(e),e.repeat||(w.current=!1),e.defaultPrevented)return;if(e.ctrlKey)return;if(e.altKey)return;if(e.shiftKey)return;if(e.metaKey)return;if(!n)return;const{open:t,activeId:r}=n.getState();t||null===r&&("ArrowUp"!==e.key&&"ArrowDown"!==e.key||W(e)&&(e.preventDefault(),n.show()))})),Y=f.onBlur,$=Mn((e=>{w.current=!1,null==Y||Y(e),e.defaultPrevented})),Q=Nn(f.id),X=function(e){return"inline"===e||"list"===e||"both"===e||"none"===e}(p)?p:void 0,Z=n.useState((e=>null===e.activeId));return f=Bt(Rt({id:Q,role:"combobox","aria-autocomplete":X,"aria-haspopup":hn(T,"listbox"),"aria-expanded":D,"aria-controls":null==T?void 0:T.id,"data-active-item":Z||void 0,value:O},f),{ref:Fn(v,f.ref),onChange:R,onCompositionEnd:z,onMouseDown:G,onKeyDown:q,onBlur:$}),f=Sa(Bt(Rt({store:n,focusable:a},f),{moveOnKeyPress:e=>!function(e,...t){const n="function"==typeof e?e(...t):e;return null!=n&&!n}(m,e)&&(C&&S(!0),!0)})),f=ma(Rt({store:n},f)),Rt({autoComplete:"off"},f)})),Ta=Wn((e=>Yn("input",Da(e))));function Oa(e,t){const n=setTimeout(t,e);return()=>clearTimeout(n)}function Pa(...e){return e.join(", ").split(", ").reduce(((e,t)=>{const n=1e3*parseFloat(t||"0s");return n>e?n:e}),0)}function Aa(e,t,n){return!(n||!1===t||e&&!t)}var Ma=$n((e=>{var t=e,{store:n,alwaysVisible:a}=t,o=zt(t,["store","alwaysVisible"]);const i=Yr();nn(n=n||i,!1);const l=Nn(o.id),[s,c]=(0,r.useState)(null),u=n.useState("open"),d=n.useState("mounted"),m=n.useState("animated"),p=n.useState("contentElement");An((()=>{if(m){if(null==p?void 0:p.isConnected)return function(e){let t=requestAnimationFrame((()=>{t=requestAnimationFrame(e)}));return()=>cancelAnimationFrame(t)}((()=>{c(u?"enter":"leave")}));c(null)}}),[m,p,u]),An((()=>{if(!n)return;if(!m)return;if(!p)return;if(!s)return;if("enter"===s&&!u)return;if("leave"===s&&u)return;if("number"==typeof m)return Oa(m,n.stopAnimation);const{transitionDuration:e,animationDuration:t,transitionDelay:r,animationDelay:a}=getComputedStyle(p),o=Pa(r,a)+Pa(e,t);return o?Oa(o,n.stopAnimation):void 0}),[n,m,p,u,s]);const f=Aa(d,(o=Bn(o,(e=>(0,Un.jsx)(Xr,{value:n,children:e})),[n])).hidden,a),h=f?Bt(Rt({},o.style),{display:"none"}):o.style;return Bt(Rt({id:l,"data-enter":"enter"===s?"":void 0,"data-leave":"leave"===s?"":void 0,hidden:f},o),{ref:Fn(l?n.setContentElement:null,o.ref),style:h})})),Fa=Wn((e=>Yn("div",Ma(e))));Wn((e=>{var t=e,{unmountOnHide:n}=t,r=zt(t,["unmountOnHide"]);const a=Yr();return!1===Or(r.store||a,(e=>!n||(null==e?void 0:e.mounted)))?null:(0,Un.jsx)(Fa,Rt({},r))}));var Na=$n((e=>{var t=e,{store:n,focusable:a=!0,alwaysVisible:o}=t,i=zt(t,["store","focusable","alwaysVisible"]);const l=aa();nn(n=n||l,!1);const s=(0,r.useRef)(null),c=Nn(i.id),u=i.onKeyDown,d=Mn((e=>{null==u||u(e),e.defaultPrevented||"Escape"===e.key&&(null==n||n.move(null))})),m=(0,r.useRef)(!1),p=i.onFocusVisible,f=Mn((e=>{if(null==p||p(e),e.defaultPrevented)return;if("focus"!==e.type)return;if(!n)return;const{virtualFocus:t}=n.getState();if(!t)return;const{relatedTarget:r,currentTarget:a}=e;r&&a.contains(r)||(m.current=!0,n.setState("virtualFocus",!1))})),h=i.onBlur,v=Mn((e=>{null==h||h(e),e.defaultPrevented||m.current&&In(e)&&(m.current=!1,null==n||n.setState("virtualFocus",!0))}));i=Bn(i,(e=>(0,Un.jsx)(ia,{value:n,children:e})),[n]);const g=Aa(n.useState("mounted"),i.hidden,o),E=g?Bt(Rt({},i.style),{display:"none"}):i.style,w=n.useState((e=>Array.isArray(e.selectedValue))),y=function(e,t,n){const[a,o]=(0,r.useState)(n);return An((()=>{const n=e&&"current"in e?e.current:e,r=null==n?void 0:n.getAttribute(t);null!=r&&o(r)}),[e,t]),a}(s,"role",i.role);return i=Bt(Rt({id:c,hidden:g,role:"listbox",tabIndex:a?-1:void 0,"aria-multiselectable":("listbox"===y||"tree"===y||"grid"===y)&&w||void 0},i),{ref:Fn(c?n.setContentElement:null,s,i.ref),style:E,onKeyDown:d,onFocusVisible:f,onBlur:v}),Ca(Rt({focusable:a},i))})),Va=Wn((e=>Yn("div",Na(e))));function La(e){if(!e.isTrusted)return!1;const t=e.currentTarget;return"Enter"===e.key?dn(t)||"SUMMARY"===t.tagName||"A"===t.tagName:" "===e.key&&(dn(t)||"SUMMARY"===t.tagName||"INPUT"===t.tagName||"SELECT"===t.tagName)}var Ra=Symbol("command"),Ba=$n((e=>{var t=e,{clickOnEnter:n=!0,clickOnSpace:a=!0}=t,o=zt(t,["clickOnEnter","clickOnSpace"]);const i=(0,r.useRef)(null),l=Vn(i,o.as),s=o.type,[c,u]=(0,r.useState)((()=>!!l&&dn({tagName:l,type:s})));(0,r.useEffect)((()=>{i.current&&u(dn(i.current))}),[]);const[d,m]=(0,r.useState)(!1),p=(0,r.useRef)(!1),f=rn(o),[h,v]=function(e,t,n){const a=e.onLoadedMetadataCapture,o=(0,r.useMemo)((()=>Object.assign((()=>{}),Bt(Rt({},a),{[t]:n}))),[a,t,n]);return[null==a?void 0:a[t],{onLoadedMetadataCapture:o}]}(o,Ra,!0),g=o.onKeyDown,E=Mn((e=>{null==g||g(e);const t=e.currentTarget;if(e.defaultPrevented)return;if(h)return;if(f)return;if(!Cn(e))return;if(fn(t))return;if(t.isContentEditable)return;const r=n&&"Enter"===e.key,o=a&&" "===e.key,i="Enter"===e.key&&!n,l=" "===e.key&&!a;if(i||l)e.preventDefault();else if(r||o){const n=La(e);if(r){if(!n){e.preventDefault();const n=e,{view:r}=n,a=zt(n,["view"]),o=()=>kn(t,a);ln&&/firefox\//i.test(navigator.userAgent)?xn(t,"keyup",o):queueMicrotask(o)}}else o&&(p.current=!0,n||(e.preventDefault(),m(!0)))}})),w=o.onKeyUp,y=Mn((e=>{if(null==w||w(e),e.defaultPrevented)return;if(h)return;if(f)return;if(e.metaKey)return;const t=a&&" "===e.key;if(p.current&&t&&(p.current=!1,!La(e))){e.preventDefault(),m(!1);const t=e.currentTarget,n=e,{view:r}=n,a=zt(n,["view"]);queueMicrotask((()=>kn(t,a)))}}));return o=Bt(Rt(Rt({"data-active":d?"":void 0,type:c?"button":void 0},v),o),{ref:Fn(i,o.ref),onKeyDown:E,onKeyUp:y}),Ca(o)}));Wn((e=>Yn("button",e=Ba(e))));var za=$n((e=>{var t=e,{store:n,shouldRegisterItem:a=!0,getItem:o=tn,element:i}=t,l=zt(t,["store","shouldRegisterItem","getItem","element"]);const s=Zn();n=n||s;const c=Nn(l.id),u=(0,r.useRef)(i);return(0,r.useEffect)((()=>{const e=u.current;if(!c)return;if(!e)return;if(!a)return;const t=o({id:c,element:e});return null==n?void 0:n.renderItem(t)}),[c,a,o,n]),Bt(Rt({},l),{ref:Fn(u,l.ref)})}));function Ha(e,t=!1){const{top:n}=e.getBoundingClientRect();return t?n+e.clientHeight:n}function ja(e,t,n,r=!1){var a;if(!t)return;if(!n)return;const{renderedItems:o}=t.getState(),i=gn(e);if(!i)return;const l=function(e,t=!1){const n=e.clientHeight,{top:r}=e.getBoundingClientRect(),a=1.5*Math.max(.875*n,n-40),o=t?n-a+r:a+r;return"HTML"===e.tagName?o+e.scrollTop:o}(i,r);let s,c;for(let e=0;e<o.length;e+=1){const o=s;if(s=n(e),!s)break;if(s===o)continue;const i=null==(a=Dt(t,s))?void 0:a.element;if(!i)continue;const u=Ha(i,r)-l,d=Math.abs(u);if(r&&u<=0||!r&&u>=0){void 0!==c&&c<d&&(s=o);break}c=d}return s}Wn((e=>Yn("div",za(e))));var Ka=$n((e=>{var t=e,{store:n,rowId:a,preventScrollOnKeyDown:o=!1,moveOnKeyPress:i=!0,tabbable:l=!1,getItem:s,"aria-setsize":c,"aria-posinset":u}=t,d=zt(t,["store","rowId","preventScrollOnKeyDown","moveOnKeyPress","tabbable","getItem","aria-setsize","aria-posinset"]);const m=er();n=n||m;const p=Nn(d.id),f=(0,r.useRef)(null),h=(0,r.useContext)(or),v=Or(n,(e=>a||(e&&(null==h?void 0:h.baseElement)&&h.baseElement===e.baseElement?h.id:void 0))),g=rn(d)&&!d.accessibleWhenDisabled,E=(0,r.useCallback)((e=>{const t=Bt(Rt({},e),{id:p||e.id,rowId:v,disabled:!!g});return s?s(t):t}),[p,v,g,s]),w=d.onFocus,y=(0,r.useRef)(!1),b=Mn((e=>{if(null==w||w(e),e.defaultPrevented)return;if(bn(e))return;if(!p)return;if(!n)return;const{activeId:t,virtualFocus:r,baseElement:a}=n.getState();var o;(function(e,t){return!Cn(e)&&Ot(t,e.target)})(e,n)||(t!==p&&n.setActiveId(p),r&&Cn(e)&&((o=e.currentTarget).isContentEditable||fn(o)||"INPUT"===o.tagName&&!dn(o)||(null==a?void 0:a.isConnected)&&(y.current=!0,e.relatedTarget===a||Ot(n,e.relatedTarget)?function(e){e[Tt]=!0,e.focus({preventScroll:!0})}(a):a.focus())))})),C=d.onBlurCapture,_=Mn((e=>{if(null==C||C(e),e.defaultPrevented)return;const t=null==n?void 0:n.getState();(null==t?void 0:t.virtualFocus)&&y.current&&(y.current=!1,e.preventDefault(),e.stopPropagation())})),S=d.onKeyDown,k=Rn(o),I=Rn(i),x=Mn((e=>{if(null==S||S(e),e.defaultPrevented)return;if(!Cn(e))return;if(!n)return;const{currentTarget:t}=e,r=n.getState(),a=n.item(p),o=!!(null==a?void 0:a.rowId),i="horizontal"!==r.orientation,l="vertical"!==r.orientation,s=()=>!(!o&&!l&&r.baseElement&&fn(r.baseElement)),c={ArrowUp:(o||i)&&n.up,ArrowRight:(o||l)&&n.next,ArrowDown:(o||i)&&n.down,ArrowLeft:(o||l)&&n.previous,Home:()=>{if(s())return!o||e.ctrlKey?null==n?void 0:n.first():null==n?void 0:n.previous(-1)},End:()=>{if(s())return!o||e.ctrlKey?null==n?void 0:n.last():null==n?void 0:n.next(-1)},PageUp:()=>ja(t,n,null==n?void 0:n.up,!0),PageDown:()=>ja(t,n,null==n?void 0:n.down)}[e.key];if(c){const t=c();if(k(e)||void 0!==t){if(!I(e))return;e.preventDefault(),n.move(t)}}})),D=Or(n,(e=>(null==e?void 0:e.baseElement)||void 0)),T=(0,r.useMemo)((()=>({id:p,baseElement:D})),[p,D]);d=Bn(d,(e=>(0,Un.jsx)(ar.Provider,{value:T,children:e})),[T]);const O=Or(n,(e=>!!e&&e.activeId===p)),P=Or(n,"virtualFocus"),A=function(e,t){const n=t.role,[a,o]=(0,r.useState)(n);return An((()=>{const t=e.current;t&&o(t.getAttribute("role")||n)}),[n]),a}(f,d);let M;O&&(function(e){return"option"===e||"treeitem"===e}(A)||P&&function(e){return"option"===e||"tab"===e||"treeitem"===e||"gridcell"===e||"row"===e||"columnheader"===e||"rowheader"===e}(A))&&(M=!0);const F=Or(n,(e=>null!=c?c:e&&(null==h?void 0:h.ariaSetSize)&&h.baseElement===e.baseElement?h.ariaSetSize:void 0)),N=Or(n,(e=>{if(null!=u)return u;if(!e)return;if(!(null==h?void 0:h.ariaPosInSet))return;if(h.baseElement!==e.baseElement)return;const t=e.renderedItems.filter((e=>e.rowId===v));return h.ariaPosInSet+t.findIndex((e=>e.id===p))})),V=Or(n,(e=>!(null==e?void 0:e.renderedItems.length)||!e.virtualFocus&&(!!l||e.activeId===p)));return d=Bt(Rt({id:p,"aria-selected":M,"data-active-item":O?"":void 0},d),{ref:Fn(f,d.ref),tabIndex:V?d.tabIndex:-1,onFocus:b,onBlurCapture:_,onKeyDown:x}),d=Ba(d),d=za(Bt(Rt({store:n},d),{getItem:E,shouldRegisterItem:!!p&&d.shouldRegisterItem})),Bt(Rt({},d),{"aria-setsize":F,"aria-posinset":N})}));qn((e=>Yn("button",Ka(e))));var Ga=$n((e=>{var t=e,{store:n,value:a,hideOnClick:o,selectValueOnClick:i=!0,setValueOnClick:l,focusOnHover:s=!1,moveOnKeyPress:c=!0,getItem:u}=t,d=zt(t,["store","value","hideOnClick","selectValueOnClick","setValueOnClick","focusOnHover","moveOnKeyPress","getItem"]);const m=ra();nn(n=n||m,!1);const p=(0,r.useCallback)((e=>{const t=Bt(Rt({},e),{value:a});return u?u(t):t}),[a,u]),f=n.useState((e=>Array.isArray(e.selectedValue)));l=null!=l?l:!f,o=null!=o?o:null!=a&&!f;const h=d.onClick,v=Rn(l),g=Rn(i),E=Rn(o),w=Mn((e=>{null==h||h(e),e.defaultPrevented||function(e){const t=e.currentTarget;if(!t)return!1;const n=t.tagName.toLowerCase();return!!e.altKey&&("a"===n||"button"===n&&"submit"===t.type||"input"===n&&"submit"===t.type)}(e)||function(e){const t=e.currentTarget;if(!t)return!1;const n=wn();if(n&&!e.metaKey)return!1;if(!n&&!e.ctrlKey)return!1;const r=t.tagName.toLowerCase();return"a"===r||"button"===r&&"submit"===t.type||"input"===r&&"submit"===t.type}(e)||(null!=a&&(g(e)&&(null==n||n.setSelectedValue((e=>Array.isArray(e)?e.includes(a)?e.filter((e=>e!==a)):[...e,a]:a))),v(e)&&(null==n||n.setValue(a))),E(e)&&(null==n||n.move(null),null==n||n.hide()))})),y=d.onKeyDown,b=Mn((e=>{if(null==y||y(e),e.defaultPrevented)return;const t=null==n?void 0:n.getState().baseElement;t&&(mr(t)||(1===e.key.length||"Backspace"===e.key||"Delete"===e.key)&&(queueMicrotask((()=>t.focus())),fn(t)&&(null==n||n.setValue(t.value))))})),C=n.useState((e=>function(e,t){if(null!=t)return null!=e&&(Array.isArray(e)?e.includes(t):e===t)}(e.selectedValue,a)));f&&null!=C&&(d=Rt({"aria-selected":C},d)),d=Bn(d,(e=>(0,Un.jsx)(la.Provider,{value:a,children:(0,Un.jsx)(sa.Provider,{value:null!=C&&C,children:e})})),[a,C]);const _=n.useState("contentElement");d=Bt(Rt({role:vn(_),children:a},d),{onClick:w,onKeyDown:b});const S=Rn(c);return d=Ka(Bt(Rt({store:n},d),{getItem:p,moveOnKeyPress:e=>{if(!S(e))return!1;const t=new Event("combobox-item-move"),r=null==n?void 0:n.getState().baseElement;return null==r||r.dispatchEvent(t),!0}})),vr(Rt({store:n,focusOnHover:s},d))})),Ua=qn((e=>Yn("div",Ga(e))));function Wa(e){return en(e).toLowerCase()}var qa=$n((e=>{var t=e,{store:n,value:a}=t,o=zt(t,["store","value"]);const i=ra();n=n||i;const l=(0,r.useContext)(la),s=null!=a?a:l;nn(n,!1);const c=n.useState((e=>s&&e.value?e.value:void 0)),u=(0,r.useMemo)((()=>s&&c?function(e,t){t=Wa(t);let n=Wa(e).indexOf(t);const r=[];for(;-1!==n;)0!==n&&r.push((0,Un.jsx)("span",{"data-autocomplete-value":"",children:e.substr(0,n)},r.length)),r.push((0,Un.jsx)("span",{"data-user-value":"",children:e.substr(n,t.length)},r.length)),n=Wa(e=e.substr(n+t.length)).indexOf(t);return e&&r.push((0,Un.jsx)("span",{"data-autocomplete-value":"",children:e},r.length)),r}(s,c):s),[s,c]);return Rt({children:u},o)})),Ya=Wn((e=>Yn("span",qa(e)))),$a=n(731),Qa=n.n($a);const Xa=(0,r.createElement)(J.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(J.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),Za=(0,r.createElement)(J.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(J.Path,{d:"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"})),{CompositeV2:Ja,CompositeItemV2:eo,useCompositeStoreV2:to}=ie(l.privateApis),no=(0,r.createElement)(J.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(J.Circle,{cx:12,cy:12,r:3}));function ro(e=""){return Qa()(e.trim().toLowerCase())}const ao=[],oo=(e,t)=>e.singleSelection?t?.value:Array.isArray(t?.value)?t.value:!Array.isArray(t?.value)&&t?.value?[t.value]:ao,io=(e,t,n)=>e.singleSelection?n:Array.isArray(t?.value)?t.value.includes(n)?t.value.filter((e=>e!==n)):[...t.value,n]:[n];function lo({view:e,filter:t,onChangeView:n}){const a=to({virtualFocus:!0,focusLoop:!0,defaultActiveId:1===t.operators?.length?void 0:null}),o=e.filters.find((e=>e.field===t.field)),i=oo(t,o);return(0,r.createElement)(Ja,{store:a,role:"listbox",className:"dataviews-search-widget-listbox","aria-label":(0,P.sprintf)(/* translators: List of items for a filter. 1: Filter name. e.g.: "List of: Author". */ /* translators: List of items for a filter. 1: Filter name. e.g.: "List of: Author". */
(0,P.__)("List of: %1$s"),t.name),onFocusVisible:()=>{a.getState().activeId||a.move(a.first())},render:(0,r.createElement)(ur,{store:a})},t.elements.map((s=>(0,r.createElement)(gr,{store:a,key:s.value,render:(0,r.createElement)(eo,{render:(0,r.createElement)("div",{"aria-label":s.label,role:"option",className:"dataviews-search-widget-listitem"}),onClick:()=>{const r=o?[...e.filters.map((e=>e.field===t.field?{...e,operator:o.operator||t.operators[0],value:io(t,o,s.value)}:e))]:[...e.filters,{field:t.field,operator:t.operators[0],value:io(t,o,s.value)}];n({...e,page:1,filters:r})}})},(0,r.createElement)("span",{className:"dataviews-search-widget-listitem-check"},t.singleSelection&&i===s.value&&(0,r.createElement)(l.Icon,{icon:no}),!t.singleSelection&&i.includes(s.value)&&(0,r.createElement)(l.Icon,{icon:Xa})),(0,r.createElement)("span",null,s.label,!!s.description&&(0,r.createElement)("span",{className:"dataviews-search-widget-listitem-description"},s.description))))))}function so({view:e,filter:t,onChangeView:n}){const[a,o]=(0,i.useState)(""),s=(0,i.useDeferredValue)(a),c=e.filters.find((e=>e.field===t.field)),u=oo(t,c),d=(0,i.useMemo)((()=>{const e=ro(s);return t.elements.filter((t=>ro(t.label).includes(e)))}),[t.elements,s]);return(0,r.createElement)(ca,{resetValueOnSelect:!1,selectedValue:u,setSelectedValue:r=>{const a=c?[...e.filters.map((e=>e.field===t.field?{...e,operator:c.operator||t.operators[0],value:r}:e))]:[...e.filters,{field:t.field,operator:t.operators[0],value:r}];n({...e,page:1,filters:a})},setValue:o},(0,r.createElement)("div",{className:"dataviews-search-widget-filter-combobox__wrapper"},(0,r.createElement)(da,{render:(0,r.createElement)(l.VisuallyHidden,null)},(0,P.__)("Search items")),(0,r.createElement)(Ta,{autoSelect:"always",placeholder:(0,P.__)("Search"),className:"dataviews-search-widget-filter-combobox__input"}),(0,r.createElement)("div",{className:"dataviews-search-widget-filter-combobox__icon"},(0,r.createElement)(l.Icon,{icon:Za}))),(0,r.createElement)(Va,{className:"dataviews-search-widget-filter-combobox-list",alwaysVisible:!0},d.map((e=>(0,r.createElement)(Ua,{key:e.value,value:e.value,className:"dataviews-search-widget-listitem",hideOnClick:!1,setValueOnClick:!1,focusOnHover:!0},(0,r.createElement)("span",{className:"dataviews-search-widget-listitem-check"},t.singleSelection&&u===e.value&&(0,r.createElement)(l.Icon,{icon:no}),!t.singleSelection&&u.includes(e.value)&&(0,r.createElement)(l.Icon,{icon:Xa})),(0,r.createElement)("span",null,(0,r.createElement)(Ya,{className:"dataviews-search-widget-filter-combobox-item-value",value:e.label}),!!e.description&&(0,r.createElement)("span",{className:"dataviews-search-widget-listitem-description"},e.description))))),!d.length&&(0,r.createElement)("p",null,(0,P.__)("No results found"))))}function co(e){const t=e.filter.elements.length>10?so:lo;return(0,r.createElement)(t,{...e})}const uo="Enter",mo=" ",po=({activeElements:e,filterInView:t,filter:n})=>{if(void 0===e||0===e.length)return n.name;const a={Name:(0,r.createElement)("span",{className:"dataviews-filter-summary__filter-text-name"}),Value:(0,r.createElement)("span",{className:"dataviews-filter-summary__filter-text-value"})};return t?.operator===ce?(0,i.createInterpolateElement)((0,P.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is any: Admin, Editor". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is any: Admin, Editor". */
(0,P.__)("<Name>%1$s is any: </Name><Value>%2$s</Value>"),n.name,e.map((e=>e.label)).join(", ")),a):t?.operator===ue?(0,i.createInterpolateElement)((0,P.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is none: Admin, Editor". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is none: Admin, Editor". */
(0,P.__)("<Name>%1$s is none: </Name><Value>%2$s</Value>"),n.name,e.map((e=>e.label)).join(", ")),a):t?.operator===de?(0,i.createInterpolateElement)((0,P.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is all: Admin, Editor". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is all: Admin, Editor". */
(0,P.__)("<Name>%1$s is all: </Name><Value>%2$s</Value>"),n.name,e.map((e=>e.label)).join(", ")),a):t?.operator===me?(0,i.createInterpolateElement)((0,P.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is not all: Admin, Editor". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is not all: Admin, Editor". */
(0,P.__)("<Name>%1$s is not all: </Name><Value>%2$s</Value>"),n.name,e.map((e=>e.label)).join(", ")),a):t?.operator===le?(0,i.createInterpolateElement)((0,P.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is: Admin". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is: Admin". */
(0,P.__)("<Name>%1$s is: </Name><Value>%2$s</Value>"),n.name,e[0].label),a):t?.operator===se?(0,i.createInterpolateElement)((0,P.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is not: Admin". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is not: Admin". */
(0,P.__)("<Name>%1$s is not: </Name><Value>%2$s</Value>"),n.name,e[0].label),a):(0,P.sprintf)(/* translators: 1: Filter name e.g.: "Unknown status for Author". */ /* translators: 1: Filter name e.g.: "Unknown status for Author". */
(0,P.__)("Unknown status for %1$s"),n.name)};function fo({filter:e,view:t,onChangeView:n}){const a=e.operators?.map((e=>({value:e,label:fe[e]?.label}))),o=t.filters.find((t=>t.field===e.field)),i=o?.operator||e.operators[0];return a.length>1&&(0,r.createElement)(l.__experimentalHStack,{spacing:2,justify:"flex-start",className:"dataviews-filter-summary__operators-container"},(0,r.createElement)(l.FlexItem,{className:"dataviews-filter-summary__operators-filter-name"},e.name),(0,r.createElement)(l.SelectControl,{label:(0,P.__)("Conditions"),value:i,options:a,onChange:r=>{const a=o?[...t.filters.map((t=>t.field===e.field?{...t,operator:r}:t))]:[...t.filters,{field:e.field,operator:r}];n({...t,page:1,filters:a})},size:"small",__nextHasNoMarginBottom:!0,hideLabelFromVision:!0}))}function ho({addFilterRef:e,openedFilter:t,...n}){const a=(0,i.useRef)(),{filter:o,view:s,onChangeView:c}=n,u=s.filters.find((e=>e.field===o.field)),d=o.elements.filter((e=>o.singleSelection?e.value===u?.value:u?.value?.includes(e.value))),m=o.isPrimary,p=void 0!==u?.value,f=!m||p;return(0,r.createElement)(l.Dropdown,{defaultOpen:t===o.field,contentClassName:"dataviews-filter-summary__popover",popoverProps:{placement:"bottom-start",role:"dialog"},onClose:()=>{a.current?.focus()},renderToggle:({isOpen:t,onToggle:n})=>(0,r.createElement)("div",{className:"dataviews-filter-summary__chip-container"},(0,r.createElement)(l.Tooltip,{text:(0,P.sprintf)(/* translators: 1: Filter name. */ /* translators: 1: Filter name. */
(0,P.__)("Filter by: %1$s"),o.name.toLowerCase()),placement:"top"},(0,r.createElement)("div",{className:_e()("dataviews-filter-summary__chip",{"has-reset":f,"has-values":p}),role:"button",tabIndex:0,onClick:n,onKeyDown:e=>{[uo,mo].includes(e.key)&&(n(),e.preventDefault())},"aria-pressed":t,"aria-expanded":t,ref:a},(0,r.createElement)(po,{activeElements:d,filterInView:u,filter:o}))),f&&(0,r.createElement)(l.Tooltip,{text:m?(0,P.__)("Reset"):(0,P.__)("Remove"),placement:"top"},(0,r.createElement)("button",{className:_e()("dataviews-filter-summary__chip-remove",{"has-values":p}),onClick:()=>{c({...s,page:1,filters:s.filters.filter((e=>e.field!==o.field))}),m?a.current?.focus():e.current?.focus()}},(0,r.createElement)(l.Icon,{icon:It})))),renderContent:()=>(0,r.createElement)(l.__experimentalVStack,{spacing:0,justify:"flex-start"},(0,r.createElement)(fo,{...n}),(0,r.createElement)(co,{...n}))})}const{DropdownMenuV2:vo,DropdownMenuItemV2:go,DropdownMenuItemLabelV2:Eo}=ie(l.privateApis),wo=(0,i.forwardRef)((function({filters:e,view:t,onChangeView:n,setOpenedFilter:a},o){if(!e.length||e.every((({isPrimary:e})=>e)))return null;const i=e.filter((e=>!e.isVisible));return(0,r.createElement)(vo,{trigger:(0,r.createElement)(l.Button,{__experimentalIsFocusable:!0,size:"compact",className:"dataviews-filters-button",variant:"tertiary",disabled:!i.length,ref:o},(0,P.__)("Add filter"))},i.map((e=>(0,r.createElement)(go,{key:e.field,onClick:()=>{a(e.field),n({...t,page:1,filters:[...t.filters||[],{field:e.field,value:void 0,operator:e.operators[0]}]})}},(0,r.createElement)(Eo,null,e.name)))))}));function yo({filters:e,view:t,onChangeView:n}){const a=!t.search&&!t.filters?.some((t=>{return void 0!==t.value||(n=t.field,!e.some((e=>e.field===n&&e.isPrimary)));var n}));return(0,r.createElement)(l.Button,{disabled:a,__experimentalIsFocusable:!0,size:"compact",variant:"tertiary",className:"dataviews-filters__reset-button",onClick:()=>{n({...t,page:1,search:"",filters:[]})}},(0,P.__)("Reset"))}const bo=(0,i.memo)((function({fields:e,view:t,onChangeView:n,openedFilter:a,setOpenedFilter:o}){const s=(0,i.useRef)(),c=[];e.forEach((e=>{if(!e.elements?.length)return;const n=Be(e);if(0===n.length)return;const r=!!e.filterBy?.isPrimary;c.push({field:e.id,name:e.header,elements:e.elements,singleSelection:n.some((e=>[le,se].includes(e))),operators:n,isVisible:r||t.filters.some((t=>t.field===e.id&&pe.includes(t.operator))),isPrimary:r})})),c.sort(((e,t)=>e.isPrimary&&!t.isPrimary?-1:!e.isPrimary&&t.isPrimary?1:e.name.localeCompare(t.name)));const u=(0,r.createElement)(wo,{key:"add-filter",filters:c,view:t,onChangeView:n,ref:s,setOpenedFilter:o}),d=[...c.map((e=>e.isVisible?(0,r.createElement)(ho,{key:e.field,filter:e,view:t,onChangeView:n,addFilterRef:s,openedFilter:a}):null)),u];return d.length>1&&d.push((0,r.createElement)(yo,{key:"reset-filters",filters:c,view:t,onChangeView:n})),(0,r.createElement)(l.__experimentalHStack,{justify:"flex-start",style:{width:"fit-content"},wrap:!0},d)})),Co=bo,_o=(0,i.memo)((function({label:e,view:t,onChangeView:n}){const[a,o,s]=(0,lt.useDebouncedInput)(t.search);(0,i.useEffect)((()=>{o(t.search)}),[t]);const c=(0,i.useRef)(n);(0,i.useEffect)((()=>{c.current=n}),[n]),(0,i.useEffect)((()=>{c.current({...t,page:1,search:s})}),[s]);const u=e||(0,P.__)("Search");return(0,r.createElement)(l.SearchControl,{__nextHasNoMarginBottom:!0,onChange:o,value:a,label:u,placeholder:u,size:"compact"})})),So=e=>e.id,ko=()=>{};function Io({view:e,onChangeView:t,fields:n,search:a=!0,searchLabel:o,actions:s=[],data:c,getItemId:u=So,isLoading:d=!1,paginationInfo:m,supportedLayouts:p,onSelectionChange:f=ko}){const[h,v]=(0,i.useState)([]),[g,E]=(0,i.useState)(null);(0,i.useEffect)((()=>{if(h.length>0&&h.some((e=>!c.some((t=>u(t)===e))))){const e=h.filter((e=>c.some((t=>u(t)===e))));v(e),f(c.filter((t=>e.includes(u(t)))))}}),[h,c,u,f]);const w=(0,i.useCallback)((e=>{v(e.map((e=>u(e)))),f(e)}),[v,u,f]),y=pt.find((t=>t.type===e.type)).component,b=(0,i.useMemo)((()=>function(e){return e.map((e=>{const t=e.getValue||(({item:t})=>t[e.id]);return{...e,header:e.header||e.id,getValue:t,render:e.render||t}}))}(n)),[n]),C=function(e,t){return(0,i.useMemo)((()=>t.some((t=>e.some((e=>e.supportsBulk&&e.isEligible(t)))))),[e,t])}(s,c);return(0,r.createElement)("div",{className:"dataviews-wrapper"},(0,r.createElement)(l.__experimentalHStack,{alignment:"top",justify:"start",className:"dataviews-filters__view-actions"},(0,r.createElement)(l.__experimentalHStack,{justify:"start",className:"dataviews-filters__container",wrap:!0},a&&(0,r.createElement)(_o,{label:o,view:e,onChangeView:t}),(0,r.createElement)(Co,{fields:b,view:e,onChangeView:t,openedFilter:g,setOpenedFilter:E})),[ve,ge].includes(e.type)&&C&&(0,r.createElement)(Ye,{actions:s,data:c,onSelectionChange:w,selection:h,getItemId:u}),(0,r.createElement)(kt,{fields:b,view:e,onChangeView:t,supportedLayouts:p})),(0,r.createElement)(y,{fields:b,view:e,onChangeView:t,actions:s,data:c,getItemId:u,isLoading:d,onSelectionChange:w,selection:h,setOpenedFilter:E}),(0,r.createElement)(ne,{view:e,onChangeView:t,paginationInfo:m}))}function xo(){const{updateQuery:e,query:t}=(0,i.useContext)(Q),n=t=>{e("dimensions",[t])};return(0,r.createElement)("div",{className:"search-console-dimensions"},(0,r.createElement)(l.Button,{className:t.dimensions.includes("query")?"is-selected":"",onClick:()=>n("query")},(0,P.__)("Query","search-console")),(0,r.createElement)(l.Button,{className:t.dimensions.includes("page")?"is-selected":"",onClick:()=>n("page")},(0,P.__)("Pages","search-console")),(0,r.createElement)(l.Button,{className:t.dimensions.includes("country")?"is-selected":"",onClick:()=>n("country")},(0,P.__)("Countries","search-console")),(0,r.createElement)(l.Button,{className:t.dimensions.includes("device")?"is-selected":"",onClick:()=>n("device")},(0,P.__)("Devices","search-console")))}const Do={abw:"Aruba",afg:"Afghanistan",ago:"Angola",aia:"Anguilla",ala:"Åland Islands",alb:"Albania",and:"Andorra",are:"United Arab Emirates (the)",arg:"Argentina",arm:"Armenia",asm:"American Samoa",ata:"Antarctica",atf:"French Southern Territories (the)",atg:"Antigua and Barbuda",aus:"Australia",aut:"Austria",aze:"Azerbaijan",bdi:"Burundi",bel:"Belgium",ben:"Benin",bes:"Bonaire, Sint Eustatius and Saba",bfa:"Burkina Faso",bgd:"Bangladesh",bgr:"Bulgaria",bhr:"Bahrain",bhs:"Bahamas (the)",bih:"Bosnia and Herzegovina",blm:"Saint Barthélemy",blr:"Belarus",blz:"Belize",bmu:"Bermuda",bol:"Bolivia (Plurinational State of)",bra:"Brazil",brb:"Barbados",brn:"Brunei Darussalam",btn:"Bhutan",bvt:"Bouvet Island",bwa:"Botswana",caf:"Central African Republic (the)",can:"Canada",cck:"Cocos (Keeling) Islands (the)",che:"Switzerland",chl:"Chile",chn:"China",civ:"Côte d'Ivoire",cmr:"Cameroon",cod:"Congo (the Democratic Republic of the)",cog:"Congo (the)",cok:"Cook Islands (the)",col:"Colombia",com:"Comoros (the)",cpv:"Cabo Verde",cri:"Costa Rica",cub:"Cuba",cuw:"Curaçao",cxr:"Christmas Island",cym:"Cayman Islands (the)",cyp:"Cyprus",cze:"Czechia",deu:"Germany",dji:"Djibouti",dma:"Dominica",dnk:"Denmark",dom:"Dominican Republic (the)",dza:"Algeria",ecu:"Ecuador",egy:"Egypt",eri:"Eritrea",esh:"Western Sahara*",esp:"Spain",est:"Estonia",eth:"Ethiopia",fin:"Finland",fji:"Fiji",flk:"Falkland Islands (the) [Malvinas]",fra:"France",fro:"Faroe Islands (the)",fsm:"Micronesia (Federated States of)",gab:"Gabon",gbr:"United Kingdom of Great Britain and Northern Ireland (the)",geo:"Georgia",ggy:"Guernsey",gha:"Ghana",gib:"Gibraltar",gin:"Guinea",glp:"Guadeloupe",gmb:"Gambia (the)",gnb:"Guinea-Bissau",gnq:"Equatorial Guinea",grc:"Greece",grd:"Grenada",grl:"Greenland",gtm:"Guatemala",guf:"French Guiana",gum:"Guam",guy:"Guyana",hkg:"Hong Kong",hmd:"Heard Island and McDonald Islands",hnd:"Honduras",hrv:"Croatia",hti:"Haiti",hun:"Hungary",idn:"Indonesia",imn:"Isle of Man",ind:"India",iot:"British Indian Ocean Territory (the)",irl:"Ireland",irn:"Iran (Islamic Republic of)",irq:"Iraq",isl:"Iceland",isr:"Israel",ita:"Italy",jam:"Jamaica",jey:"Jersey",jor:"Jordan",jpn:"Japan",kaz:"Kazakhstan",ken:"Kenya",kgz:"Kyrgyzstan",khm:"Cambodia",kir:"Kiribati",kna:"Saint Kitts and Nevis",kor:"Korea (the Republic of)",kwt:"Kuwait",lao:"Lao People's Democratic Republic (the)",lbn:"Lebanon",lbr:"Liberia",lby:"Libya",lca:"Saint Lucia",lie:"Liechtenstein",lka:"Sri Lanka",lso:"Lesotho",ltu:"Lithuania",lux:"Luxembourg",lva:"Latvia",mac:"Macao",maf:"Saint Martin (French part)",mar:"Morocco",mco:"Monaco",mda:"Moldova (the Republic of)",mdg:"Madagascar",mdv:"Maldives",mex:"Mexico",mhl:"Marshall Islands (the)",mkd:"Macedonia (the former Yugoslav Republic of)",mli:"Mali",mlt:"Malta",mmr:"Myanmar",mne:"Montenegro",mng:"Mongolia",mnp:"Northern Mariana Islands (the)",moz:"Mozambique",mrt:"Mauritania",msr:"Montserrat",mtq:"Martinique",mus:"Mauritius",mwi:"Malawi",mys:"Malaysia",myt:"Mayotte",nam:"Namibia",ncl:"New Caledonia",ner:"Niger (the)",nfk:"Norfolk Island",nga:"Nigeria",nic:"Nicaragua",niu:"Niue",nld:"Netherlands (the)",nor:"Norway",npl:"Nepal",nru:"Nauru",nzl:"New Zealand",omn:"Oman",pak:"Pakistan",pan:"Panama",pcn:"Pitcairn",per:"Peru",phl:"Philippines (the)",plw:"Palau",png:"Papua New Guinea",pol:"Poland",pri:"Puerto Rico",prk:"Korea (the Democratic People's Republic of)",prt:"Portugal",pry:"Paraguay",pse:"Palestine, State of",pyf:"French Polynesia",qat:"Qatar",reu:"Réunion",rou:"Romania",rus:"Russian Federation (the)",rwa:"Rwanda",sau:"Saudi Arabia",sdn:"Sudan (the)",sen:"Senegal",sgp:"Singapore",sgs:"South Georgia and the South Sandwich Islands",shn:"Saint Helena, Ascension and Tristan da Cunha",sjm:"Svalbard and Jan Mayen",slb:"Solomon Islands",sle:"Sierra Leone",slv:"El Salvador",smr:"San Marino",som:"Somalia",spm:"Saint Pierre and Miquelon",srb:"Serbia",ssd:"South Sudan",stp:"Sao Tome and Principe",sur:"Suriname",svk:"Slovakia",svn:"Slovenia",swe:"Sweden",swz:"Swaziland",sxm:"Sint Maarten (Dutch part)",syc:"Seychelles",syr:"Syrian Arab Republic",tca:"Turks and Caicos Islands (the)",tcd:"Chad",tgo:"Togo",tha:"Thailand",tjk:"Tajikistan",tkl:"Tokelau",tkm:"Turkmenistan",tls:"Timor-Leste",ton:"Tonga",tto:"Trinidad and Tobago",tun:"Tunisia",tur:"Turkey",tuv:"Tuvalu",twn:"Taiwan (Province of China)",tza:"Tanzania, United Republic of",uga:"Uganda",ukr:"Ukraine",umi:"United States Minor Outlying Islands (the)",ury:"Uruguay",usa:"United States of America (the)",uzb:"Uzbekistan",vat:"Holy See (the)",vct:"Saint Vincent and the Grenadines",ven:"Venezuela (Bolivarian Republic of)",vgb:"Virgin Islands (British)",vir:"Virgin Islands (U.S.)",vnm:"Viet Nam",vut:"Vanuatu",wlf:"Wallis and Futuna",wsm:"Samoa",yem:"Yemen",zaf:"South Africa",zmb:"Zambia",zwe:"Zimbabwe",zzz:"Others"};function To(){const{settings:e,query:t,showError:n}=(0,i.useContext)(Q),[a,o]=(0,i.useState)([]),[l,s]=(0,i.useState)({type:"table",perPage:10,page:1,sort:{},search:"",filters:[],hiddenFields:[],layout:{}});(0,i.useEffect)((()=>{c()}),[t,e.token]),(0,i.useEffect)((()=>{u()}),[l.sort]);const c=()=>{window.gapi.client.setToken(e.token),window.gapi?.client?.webmasters.searchanalytics.query({...t,siteUrl:e.site}).then((e=>{e.result.rows?o(p(e.result.rows)):o([])})).catch((e=>{n(e)}))},u=()=>{"keys"===l.sort.field?d():m()},d=()=>{"desc"===l.sort.direction?a.sort(((e,t)=>t.keys.localeCompare(e.keys))):a.sort(((e,t)=>e.keys.localeCompare(t.keys)))},m=()=>{"desc"===l.sort.direction?a.sort(((e,t)=>e[l.sort.field]-t[l.sort.field])):a.sort(((e,t)=>t[l.sort.field]-e[l.sort.field]))},p=e=>e.map((e=>({...e,keys:e.keys[0]}))),f=[{id:"keys",header:"Query",enableHiding:!1,render:({item:e})=>t.dimensions.includes("country")?Do[e.keys]:e.keys},{id:"clicks",header:"Clicks",enableHiding:!1,render:({item:e})=>e.clicks},{id:"ctr",header:"CTR",render:({item:e})=>(100*e.ctr).toFixed(2)+"%"},{id:"impressions",header:"Impressions",render:({item:e})=>e.impressions},{id:"position",header:"Position",render:({item:e})=>Math.round(100*e.position)/100}],h=(0,i.useMemo)((()=>({totalItems:a.length,totalPages:Math.ceil(a.length/l.perPage)})),[a,l.perPage]);return(0,r.createElement)("div",{className:"search-console-table-wrapper"},(0,r.createElement)("div",{className:"search-console-table-bar"},(0,r.createElement)(xo,null)),(0,r.createElement)(Io,{paginationInfo:h,data:(v=a,v.slice((l.page-1)*l.perPage,l.page*l.perPage)),fields:f,view:l,onChangeView:s,getItemId:e=>e.keys,supportedLayouts:["table"],search:!1}));var v}const Oo=(0,r.createElement)(J.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(J.Path,{d:"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z"}));function Po(e){const{filter:t,handleChange:n}=e;return(0,r.createElement)(i.Fragment,null,(0,r.createElement)(l.RadioControl,{selected:t?.expression,options:[{label:(0,P.__)("Desktop","search-console"),value:"desktop"},{label:(0,P.__)("Mobile","search-console"),value:"mobile"},{label:(0,P.__)("Tablet","search-console"),value:"tablet"}],onChange:e=>{n(e)}}))}function Ao(e){const{filter:t,handleChange:n}=e;return(0,r.createElement)(i.Fragment,null,(0,r.createElement)(l.FormTokenField,{value:t.expression?[t.expression]:[],suggestions:Object.values(Do),onChange:e=>{return t=e[0],void n(Object.keys(Do)[Object.values(Do).indexOf(t)]);var t},label:(0,P.__)("Choose a country","search-console"),maxLength:"1",__experimentalShowHowTo:!1}))}function Mo(e){const{filter:t,handleChange:n}=e;return(0,r.createElement)(l.__experimentalVStack,null,(0,r.createElement)(l.SelectControl,{selected:t?.operator,options:[{value:"CONTAINS",label:(0,P.__)("Urls containing","search-console")},{value:"NOT_CONTAINS",label:(0,P.__)("Urls not containing","search-console")},{value:"EQUALS",label:(0,P.__)("Exact url","search-console")}],onChange:e=>{n(t?.expression,e)}}),(0,r.createElement)(l.TextControl,{value:t?.expression,placeholder:"https://www.example.com",onChange:e=>{n(e,t?.operator?t?.operator:"CONTAINS")}}))}function Fo(e){const{filter:t,handleChange:n}=e;return(0,r.createElement)(l.__experimentalVStack,null,(0,r.createElement)(l.SelectControl,{value:t?.operator,options:[{value:"CONTAINS",label:(0,P.__)("Queries containing","search-console")},{value:"NOT_CONTAINS",label:(0,P.__)("Queries not containing","search-console")},{value:"EQUALS",label:(0,P.__)("Exact query","search-console")}],onChange:e=>{n(t?.expression,e)}}),(0,r.createElement)(l.TextControl,{value:t?.expression||"",onChange:e=>{n(e,t?.operator?t?.operator:"CONTAINS")}}))}function No(e){const{onRequestClose:t,modal:n,title:a}=e,{query:o,updateQuery:s}=(0,i.useContext)(Q),[c,u]=(0,i.useState)(n),[d,m]=(0,i.useState)(o.searchType),p={device:Po,country:Ao,page:Mo,query:Fo}[n.dimension];return(0,r.createElement)(l.Modal,{title:a,onRequestClose:t},(0,r.createElement)(l.__experimentalVStack,null,(0,r.createElement)("div",{className:"search-console-modal-container"},(0,r.createElement)(p,{handleChange:(e,t)=>{"searchType"===n.dimension?m(e):u({dimension:n.dimension,expression:e,operator:t})},searchType:d,filter:c})),(0,r.createElement)(l.Flex,null,(0,r.createElement)(l.Button,{isDestructive:!0,onClick:t},(0,P.__)("Cancel","search-console")),(0,r.createElement)(l.Button,{variant:"primary",onClick:()=>{if("searchType"===n.dimension)s("searchType",d);else{let e=[...o.dimensionFilterGroups].map((e=>e.filters)).shift()||[];if(e.length){const t=e.find((e=>e.dimension===c.dimension));t||e.push(c),t&&(e=e.map((e=>e.dimension===c.dimension?c:e)))}else e.push(c);s("dimensionFilterGroups",[{filters:e}])}t()},disabled:"searchType"!==n.dimension&&!c?.expression},(0,P.__)("Save","search-console")))))}function Vo(){const{updateQuery:e,updateSetting:t,settings:n}=(0,i.useContext)(Q),[a,o]=(0,i.useState)((0,P.__)("Last 28 days","search-console")),s=(n,r)=>{const a=moment().subtract(2,"days").subtract(n,r).format("YYYY-MM-DD");o("Last "+n+" "+r),t("customDate",!1),e("startDate",a)};return(0,r.createElement)(l.Dropdown,{className:"my-container-class-name",contentClassName:"my-popover-content-classname",placement:"bottom right",renderToggle:({isOpen:e,onToggle:t})=>(0,r.createElement)(l.Button,{variant:"secondary",onClick:t,"aria-expanded":e},n.customDate?(0,P.__)("Custom date","search-console"):a),renderContent:({onToggle:e})=>(0,r.createElement)(i.Fragment,null,(0,r.createElement)(l.MenuGroup,null,(0,r.createElement)(l.MenuItem,{onClick:()=>{s(7,"days"),e()}},(0,P.__)("Last 7 days","search-console")),(0,r.createElement)(l.MenuItem,{onClick:()=>{s(28,"days"),e()}},(0,P.__)("Last 28 days","search-console")),(0,r.createElement)(l.MenuItem,{onClick:()=>{s(1,"months"),e()}},(0,P.__)("Last month","search-console")),(0,r.createElement)(l.MenuItem,{onClick:()=>{s(3,"months"),e()}},(0,P.__)("Last 3 months","search-console")),(0,r.createElement)(l.MenuItem,{onClick:()=>{s(6,"months"),e()}},(0,P.__)("Last 6 months","search-console")),(0,r.createElement)(l.MenuItem,{onClick:()=>{s(12,"months"),e()}},(0,P.__)("Last 12 months","search-console")),(0,r.createElement)(l.MenuItem,{onClick:()=>{s(16,"months"),e()}},(0,P.__)("Last 18 months","search-console")),(0,r.createElement)(l.MenuItem,{onClick:()=>{t("customDate",!n.customDate),e()}},(0,P.__)("Custom date","search-console"))))})}function Lo(){const{query:e,updateQuery:t,settings:n}=(0,i.useContext)(Q);return(0,r.createElement)(l.Flex,null,n.customDate&&(0,r.createElement)(i.Fragment,null,(0,r.createElement)(l.FlexItem,null,(0,r.createElement)("b",null,"From:")),(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(l.Dropdown,{popoverProps:{placement:"bottom-start"},renderToggle:({isOpen:t,onToggle:n})=>(0,r.createElement)(l.Button,{variant:"secondary",onClick:n,"aria-expanded":t},e.startDate?(0,x.format)("F j, Y",e.startDate):(0,P.__)("Click here to set start date.","search-console")),renderContent:()=>(0,r.createElement)(l.DatePicker,{__nextRemoveHelpButton:!0,currentDate:e.startDate,onChange:e=>{t("startDate",(0,x.dateI18n)("Y-m-d",e))},isInvalidDate:t=>{if(e.endDate)return new Date(t)>new Date(e.endDate)}})})),(0,r.createElement)(l.FlexItem,null,(0,r.createElement)("b",null,"To:")),(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(l.Dropdown,{popoverProps:{placement:"bottom-start"},renderToggle:({isOpen:t,onToggle:n})=>(0,r.createElement)(l.Button,{variant:"secondary",onClick:n,"aria-expanded":t},e.endDate?(0,x.format)("F j, Y",e.endDate):(0,P.__)("Click here to set end date.","search-console")),renderContent:()=>(0,r.createElement)(l.DatePicker,{__nextRemoveHelpButton:!0,currentDate:e.endDate,onChange:e=>t("endDate",(0,x.dateI18n)("Y-m-d",e)),isInvalidDate:t=>new Date(t)<new Date(e.startDate)||new Date(t)>new Date})}))),(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(Vo,null)))}const Ro="Enter",Bo=" ";function zo(){const[e,t]=(0,i.useState)(!1),{query:n,updateQuery:a}=(0,i.useContext)(Q),o=e=>{a("type",e)},s=n.dimensionFilterGroups.map((e=>e.filters));return(0,r.createElement)(i.Fragment,null,(0,r.createElement)("div",{className:"search-console-filters"},(0,r.createElement)("div",{className:"search-console-filters-options"},(0,r.createElement)(l.Dropdown,{popoverProps:{placement:"bottom-start"},renderToggle:({isOpen:e,onToggle:t})=>(0,r.createElement)(l.Button,{variant:"primary",onClick:t,"aria-expanded":e},(0,P.__)("Search type: ","search-console")+n.type),renderContent:({onToggle:e})=>(0,r.createElement)(l.MenuGroup,null,(0,r.createElement)(l.MenuItem,{onClick:()=>{o("web"),e()}},(0,P.__)("Web","search-console")),(0,r.createElement)(l.MenuItem,{onClick:()=>{o("image"),e()}},(0,P.__)("Image","search-console")),(0,r.createElement)(l.MenuItem,{onClick:()=>{o("video"),e()}},(0,P.__)("Video","search-console")),(0,r.createElement)(l.MenuItem,{onClick:()=>{o("news"),e()}},(0,P.__)("News","search-console")))}),(0,r.createElement)(l.Dropdown,{className:"my-container-class-name",contentClassName:"my-popover-content-classname",placement:"bottom right",renderToggle:({isOpen:e,onToggle:t})=>(0,r.createElement)(l.Button,{variant:"secondary",onClick:t,"aria-expanded":e,icon:Oo,iconPosition:"right",text:(0,P.__)("New","search-console")}),renderContent:({onToggle:e})=>(0,r.createElement)(l.MenuGroup,null,(0,r.createElement)(l.MenuItem,{onClick:()=>{t({dimension:"query",expression:"",operator:""}),e()}},(0,P.__)("Query","search-console")),(0,r.createElement)(l.MenuItem,{onClick:()=>{t({dimension:"page",expression:"",operator:""}),e()}},(0,P.__)("Page","search-console")),(0,r.createElement)(l.MenuItem,{onClick:()=>{t({dimension:"country",expression:"",operator:""}),e()}},(0,P.__)("Country","search-console")),(0,r.createElement)(l.MenuItem,{onClick:()=>{t({dimension:"device",expression:"",operator:""}),e()}},(0,P.__)("Device","search-console")))}),s.map((e=>e.map(((e,o)=>(0,r.createElement)("div",{className:"dataviews-filter-summary__chip-container",key:o},(0,r.createElement)("div",{className:"dataviews-filter-summary__chip has-reset",role:"button",tabIndex:"0","aria-pressed":"false","aria-expanded":"false",onClick:()=>t(e),onKeyDown:n=>{[Ro,Bo].includes(n.key)&&(t(e),n.preventDefault())}},e.dimension+": "+(e=>e.operator?"EQUALS"===e.operator?"":"CONTAINS"===e.operator?"+":"-":"")(e)+e.expression,(0,r.createElement)("button",{className:"dataviews-filter-summary__chip-remove has-values",onClick:t=>{t.stopPropagation(),(e=>{const t=[...n.dimensionFilterGroups.map((e=>e.filters))[0].filter((t=>t.dimension!==e.dimension))];a("dimensionFilterGroups",t.length?[{filters:t}]:[])})(e)}},(0,r.createElement)(l.Icon,{icon:It}))))))))),(0,r.createElement)("div",null,(0,r.createElement)(Lo,{query:n}))),e&&(0,r.createElement)(No,{onRequestClose:()=>{t(!1)},modal:e,title:e.dimension}))}const Ho=[{name:"Systeme.io",ad:(0,P.__)("Free online marketing platform with funnel builder. Create popup, squeeze page, funnel automations all for FREE. No credit card required","search-console"),link:"https://systeme.io/?sa=sa0181820865b77bd583c54e7e7668a6a77e78f1c7",isLink:!0},{name:"Formello",ad:(0,P.__)("Lightweight Gutenberg contact form builder, blazingly fast with no external dependencies and ReCaptcha support.","search-console"),slug:"formello"},{name:"Popper",ad:(0,P.__)("Do you need a POPUP plugin? Check Popper a Popup builder with exit-intent powered by Gutenberg.","search-console"),slug:"popper"},{name:"Pdf Embed",ad:(0,P.__)("A Gutenberg block to embed your PDF with official Adobe API.","search-console"),slug:"pdf-embed"}],jo=({plugins:e,direction:t,noSlide:n})=>{const[a,o]=(0,i.useState)(0),[c,u]=(0,i.useState)([]),{saveEntityRecord:d}=(0,s.useDispatch)($.store);(0,i.useEffect)((()=>{m()}),[]),(0,i.useEffect)((()=>{if(n)return;const e=setInterval((()=>{p()}),5e3);return()=>clearInterval(e)}));const m=()=>{const t=Ho.filter((t=>!e?.find((e=>e.name===t.name))));u(t)},p=()=>{if(c.length>1){const e=(a+1)%c.length;o(e)}},f=e=>{if(0===e)return a>0?"-"+100/c.length*a+"%":0};return(0,r.createElement)("div",{className:"slideshow-container",style:{width:`calc( 100% * ${c.length})`}},c.map(((e,n)=>(0,r.createElement)("div",{key:n,className:"slide "+(n===a?"active":""),style:{width:`calc( 100% / ${c.length})`,marginLeft:f(n)}},(0,r.createElement)(l.__experimentalHStack,{justify:"flex-start",direction:t},(0,r.createElement)("span",null,e.ad),e.isLink?(0,r.createElement)(l.Button,{variant:"primary",size:"small",text:(0,P.__)("Get FREE offer!","search-console"),href:e.link,target:"_blank",icon:"megaphone"}):(0,r.createElement)(l.Button,{variant:"primary",size:"small",text:(0,P.__)("Install","search-console"),onClick:()=>{return t=e.slug,void d("root","plugin",{slug:t,status:"active"});var t}}))))))},Ko=e=>{const{plugins:t}=(0,s.useSelect)((e=>{const t=e("core").getPlugins({per_page:-1});return{plugins:t?.filter((e=>["formello/formello2","popper/popper2","pdf-embed/pdf-embed"].includes(e.plugin)))}})),[n,a]=(0,i.useState)((()=>{const e=window.localStorage.getItem("sc-shown");return JSON.parse(e)||(new Date).getTime()}));return t?(0,r.createElement)(l.Card,null,(0,r.createElement)("div",{style:{overflowX:"hidden"}},(0,r.createElement)(jo,{plugins:t,...e}))):null},Go=()=>{const e=C(),{settings:t,ready:n}=(0,i.useContext)(Q);if(!n||!t)return(0,r.createElement)(A,{text:(0,P.__)("Fetching data…","search-console")});const a=t=>(0,i.createInterpolateElement)(t,{a:(0,r.createElement)(l.Button,{text:(0,P.__)("settings page","search-console"),onClick:()=>e.push({page:"search-console-settings"}),variant:"link"})});return t.token&&t.token.refresh_token?t.credentials.client_secret&&t.credentials.client_id?t.site?(0,r.createElement)("div",{className:"search-console-dashboard"},(0,r.createElement)(l.__experimentalVStack,null,(0,r.createElement)(l.Card,null,(0,r.createElement)(l.CardBody,null,(0,r.createElement)(Z,null))),(0,r.createElement)(l.Card,null,(0,r.createElement)(l.CardBody,null,(0,r.createElement)(zo,null))),(0,r.createElement)(Ko,{noSlide:!0}),(0,r.createElement)(l.Card,null,(0,r.createElement)(l.CardBody,null,(0,r.createElement)(To,null))))):(0,r.createElement)(l.Notice,{status:"warning",isDismissible:!1},(0,r.createElement)("p",null,a((0,P.__)("Please select a site on <a />.","search-console")))):(0,r.createElement)(l.Notice,{status:"warning",isDismissible:!1},(0,r.createElement)("p",null,a((0,P.__)("Please provide a Client Secret and a Client ID on <a />.","search-console")))):(0,r.createElement)(l.Notice,{status:"warning",isDismissible:!1},(0,r.createElement)("p",null,a((0,P.__)("Please authenticate on <a />.","search-console"))))},Uo=(0,r.createContext)(null);function Wo({clientId:e,onScriptLoadSuccess:t,onScriptLoadError:n,children:a}){const i=function(e={}){const{onScriptLoadSuccess:t,onScriptLoadError:n}=e,[a,o]=(0,r.useState)(!1),i=(0,r.useRef)(t);i.current=t;const l=(0,r.useRef)(n);return l.current=n,(0,r.useEffect)((()=>{const e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.onload=()=>{var e;o(!0),null===(e=i.current)||void 0===e||e.call(i)},e.onerror=()=>{var e;o(!1),null===(e=l.current)||void 0===e||e.call(l)},document.body.appendChild(e),()=>{document.body.removeChild(e)}}),[]),a}({onScriptLoadSuccess:t,onScriptLoadError:n}),l=(0,r.useMemo)((()=>({clientId:e,scriptLoadedSuccessfully:i})),[e,i]);return o().createElement(Uo.Provider,{value:l},a)}const qo=()=>{const{updateSetting:e,settings:t,revokeToken:n}=(0,i.useContext)(Q),[a,o]=(0,i.useState)(!1),s=function({flow:e="implicit",scope:t="",onSuccess:n,onError:a,onNonOAuthError:o,overrideScope:i,...l}){const{clientId:s,scriptLoadedSuccessfully:c}=function(){const e=(0,r.useContext)(Uo);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}(),u=(0,r.useRef)(),d=(0,r.useRef)(n);d.current=n;const m=(0,r.useRef)(a);m.current=a;const p=(0,r.useRef)(o);p.current=o,(0,r.useEffect)((()=>{var n;if(!c)return;const r="implicit"===e?"initTokenClient":"initCodeClient",a=null===(n=window.google)||void 0===n?void 0:n.accounts.oauth2[r]({client_id:s,scope:i?t:`openid profile email ${t}`,callback:e=>{var t,n;if(e.error)return null===(t=m.current)||void 0===t?void 0:t.call(m,e);null===(n=d.current)||void 0===n||n.call(d,e)},error_callback:e=>{var t;null===(t=p.current)||void 0===t||t.call(p,e)},...l});u.current=a}),[s,c,e,t]);const f=(0,r.useCallback)((e=>{var t;return null===(t=u.current)||void 0===t?void 0:t.requestAccessToken(e)}),[]),h=(0,r.useCallback)((()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.requestCode()}),[]);return"implicit"===e?f:h}({flow:"auth-code",onSuccess:async({code:e})=>{c(e)},scope:"https://www.googleapis.com/auth/webmasters.readonly https://www.googleapis.com/auth/siteverification email"}),c=(function(e,t,...n){window.google&&window.google.accounts.oauth2.hasGrantedAnyScope(e,t,...n)}(window.search_console.token,"https://www.googleapis.com/auth/webmasters.readonly"),t=>{I()({path:"/searchconsole/v1/credentials",method:"POST",data:{code:t}}).then((t=>{e("token",t),o({status:"success",text:(0,P.__)("You're logged in","search-console")})})).catch((e=>{o({status:"error",text:e.message})})).finally((()=>console.log("Success")))});return(0,r.createElement)(i.Fragment,null,(0,r.createElement)(l.Button,{variant:"primary",onClick:()=>s(),icon:"google"},(t.token.id_token?JSON.parse(atob(t.token.id_token.split(".")[1])).email:null)||(0,P.__)("Login with Google","search-console")),t.token.id_token&&(0,r.createElement)("p",null,(0,r.createElement)(l.Button,{text:(0,P.__)("Revoke token","search-console"),onClick:()=>n(),isDestructive:!0,isSmall:!0})),a&&(0,r.createElement)(l.Notice,{status:a.status,isDismissible:!1},a.text))},Yo=e=>{const{settings:t}=(0,i.useContext)(Q);return(0,r.createElement)(l.Card,null,(0,r.createElement)(l.CardHeader,null,(0,r.createElement)("b",null,(0,P.__)("Google Oauth","search-console"))),(0,r.createElement)(l.CardBody,null,(!t?.credentials?.client_id?.length||!t?.credentials?.client_secret?.length)&&(0,r.createElement)(l.Notice,{status:"warning",isDismissible:!1},(0,P.__)("You must insert a Client Id and a Client secret to correctly request your authentication token.","search-console")),t?.credentials?.client_id&&t?.credentials?.client_secret&&(0,r.createElement)(Wo,{clientId:t?.credentials?.client_id},(0,r.createElement)(qo,{...e}))))},$o=()=>{var e,t;const{settings:n,updateSetting:a}=(0,i.useContext)(Q);function o(e,t){const r=Object.assign({},n.credentials);r[e]=t,a("credentials",r)}const s=(0,P.sprintf)("https://developers.google.com/web/site-kit",n.title,n.wp_url);return(0,r.createElement)(l.Card,null,(0,r.createElement)(l.CardHeader,null,(0,r.createElement)("b",null,(0,P.__)("Google Credentials","search-console"))),(0,r.createElement)(l.CardBody,null,(0,r.createElement)(i.RawHTML,null,(0,P.sprintf)(/* translators: Developer console url. */ /* translators: Developer console url. */
(0,P.__)('<p>You need to create a <a target="_blank" href="%1$s">Google Developer Console</a> account before proceeding to authorization.</p>',"search-console"),"https://console.developers.google.com/",n.wp_url)),(0,r.createElement)(i.RawHTML,null,(0,P.sprintf)(/* translators: Google Site Kit url. */ /* translators: Google Site Kit url. */
(0,P.__)('<p><b>Tip</b>: the simplest way to get your own credentials is to go to <a target="_blank" href="%s">Google Site Kit</a> site and follow step. Don\'t forget to add your site url as authorized Javascript origin.</p>',"search-console"),s)),(0,r.createElement)(l.TextControl,{placeholder:"CLIENT ID",value:null!==(e=n?.credentials?.client_id)&&void 0!==e?e:"",label:(0,P.__)("Client ID","search-console"),help:(0,P.__)("Please go to Developer Console to obtain your credentials.","search-console"),onChange:e=>{o("client_id",e)}}),(0,r.createElement)(l.TextControl,{placeholder:"CLIENT SECRET",value:null!==(t=n?.credentials?.client_secret)&&void 0!==t?t:"",label:(0,P.__)("Client secret","search-console"),help:(0,P.__)("Please go to Developer Console to obtain your credentials.","search-console"),onChange:e=>{o("client_secret",e)}})))};function Qo(){return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Ko,{direction:"column"}),(0,r.createElement)(l.Card,null,(0,r.createElement)(l.CardHeader,null,(0,r.createElement)("b",null,(0,P.__)("Need help?","search-console"))),(0,r.createElement)(l.CardBody,null,(0,r.createElement)("p",null,(0,P.__)("Detailed documentation is available on the plugin website.","search-console")),(0,r.createElement)(l.ExternalLink,{href:"https://www.francescopepe.com/docs/search-console"},(0,P.__)("Documentation","search-console")),(0,r.createElement)("p",null,(0,P.__)("We would love to help you out if you need any help.","search-console")),(0,r.createElement)(l.ExternalLink,{href:"https://wordpress.org/support/plugin/search-console/"},(0,P.__)("Ask a question","search-console")))),(0,r.createElement)(l.Card,{className:"ads-container__reviews"},(0,r.createElement)(l.CardHeader,null,(0,r.createElement)("b",null,(0,P.__)("Do you like the plugin?","search-console"))),(0,r.createElement)(l.CardBody,null,(0,r.createElement)("p",null,(0,P.__)("If you like search-console plugin you can share a review to help us and spread some love!","search-console")),(0,r.createElement)(l.ExternalLink,{href:"https://wordpress.org/support/plugin/search-console/reviews/#new-post"},(0,P.__)("Rate 5 stars!","search-console")))))}const Xo=()=>{const{settings:e,updateSetting:t,refreshToken:n,saveSettings:a}=(0,i.useContext)(Q);return(0,r.createElement)("div",{className:"search-console-Advanced"},e.site&&(0,r.createElement)(i.Fragment,null,(0,r.createElement)("p",null,(0,P.__)("Do you want to add meta tag verification on your site?","search-console")),(0,r.createElement)(l.ToggleControl,{label:(0,P.__)("Add verification to site?","search-console"),help:(0,P.__)("Check this if you want output meta verification on frontend.","search-console"),checked:e.siteVerification,onChange:e=>{t("siteVerification",e),a()}})),e.siteVerification&&(0,r.createElement)(l.__experimentalInputControl,{help:(0,P.__)("Please click on icon to generate your meta verification tag.","search-console"),label:(0,P.__)("Your meta verification tag","search-console"),value:e.meta,onChange:e=>{t("meta",e)},suffix:(0,r.createElement)(l.Button,{onClick:()=>{e.siteVerification&&e.site&&window.gapi.client.load("siteVerification","v1").then((()=>{window.gapi.client.siteVerification.webResource.getToken({verificationMethod:"META",site:{identifier:e.site.replace("sc-domain:",""),type:"SITE"}}).then((e=>{t("meta",e.result.token),a()})).catch((e=>{401===e.status&&n()}))}))},icon:"update"})}))};function Zo(){const{settings:e,updateSetting:t,saveSettings:n}=(0,i.useContext)(Q),a=(0,s.useSelect)((e=>e($.store).getPostTypes({per_page:-1})),[]),o=Array.isArray(a)?a.filter((e=>e.viewable)).map((e=>({label:e.labels.singular_name,value:e.slug}))):a;return(0,r.createElement)(i.Fragment,null,(0,r.createElement)("p",null,(0,P.__)("Choose on which post type you want see Search Console data.","search-console")),o&&o.map(((a,o)=>(0,r.createElement)(l.ToggleControl,{key:o,label:a.label,checked:e.postTypes.includes(a.value),onChange:r=>{r?(r=>{t("postTypes",[...e.postTypes,r]),n()})(a.value):(r=>{const a=e.postTypes.filter((e=>e!==r));t("postTypes",a),n()})(a.value)}}))))}const Jo=e=>{const{settings:t,updateSetting:n,refreshToken:a,saveSettings:o}=(0,i.useContext)(Q),[s,c]=(0,i.useState)(null);(0,i.useEffect)((()=>{t.token.access_token&&u()}),[t.token]);const u=()=>{const e=[{value:"",label:(0,P.__)("Select a site","search-console")}];window.gapi?.client?.setToken(t.token),window.gapi?.client?.webmasters?.sites.list().then((t=>{t.result.siteEntry.forEach((t=>{e.push({value:t.siteUrl,label:t.siteUrl})})),e.sort((function(e,t){return e.value<t.value?-1:0})),c(e.sort())})).catch((e=>{401===e.status&&a()}))};return(0,r.createElement)(l.Card,null,(0,r.createElement)(l.CardHeader,null,(0,r.createElement)("b",null,(0,P.__)("Options","search-console"))),(0,r.createElement)(l.CardBody,null,(0,r.createElement)(l.SelectControl,{options:s,label:(0,P.__)("Choose site","search-console"),help:(0,P.__)("Choose one of your sites.","search-console"),value:t.site,onChange:e=>{n("site",e),o()}}),(0,r.createElement)(Zo,{...e}),(0,r.createElement)(Xo,{...e})))},ei=(0,i.forwardRef)((function({icon:e,size:t=24,...n},r){return(0,i.cloneElement)(e,{width:t,height:t,...n,ref:r})})),ti=(0,r.createElement)(J.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(J.Path,{d:"M17.3 10.1c0-2.5-2.1-4.4-4.8-4.4-2.2 0-4.1 1.4-4.6 3.3h-.2C5.7 9 4 10.7 4 12.8c0 2.1 1.7 3.8 3.7 3.8h9c1.8 0 3.2-1.5 3.2-3.3.1-1.6-1.1-2.9-2.6-3.2zm-.5 5.1h-9c-1.2 0-2.2-1.1-2.2-2.3s1-2.4 2.2-2.4h1.3l.3-1.1c.4-1.3 1.7-2.2 3.2-2.2 1.8 0 3.3 1.3 3.3 2.9v1.3l1.3.2c.8.1 1.4.9 1.4 1.8-.1 1-.9 1.8-1.8 1.8z"}));function ni(){const[e]=(0,i.useState)("saved"),{isSaving:t,saveSettings:n,hasEdits:a}=(0,i.useContext)(Q);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(l.Flex,{justify:"flex-start"},(0,r.createElement)(l.Button,{className:"save-settings__save-button",onClick:()=>n(),disabled:t||!a,isBusy:t,variant:"primary"},(0,P.__)("Save","search-console")),[t&&(0,r.createElement)(l.Animate,{type:"loading",key:"saving"},(({className:e})=>(0,r.createElement)(l.Flex,{justify:"flex-start",className:_e()("message",e),gap:1},(0,r.createElement)(ei,{icon:ti}),(0,P.__)("Saving","block-visibility")))),"error"===e&&(0,r.createElement)("span",{className:"message update-failed",key:"error"},(0,P.__)("Update failed. Try again or get in touch with support.","search-console"))]))}const ri=()=>{const{ready:e,settings:t}=(0,i.useContext)(Q);return e&&t?(0,r.createElement)("div",{className:"search-console-settings"},(0,r.createElement)(l.__experimentalGrid,{columns:4,templateColumns:"3fr 1fr",gap:"4",align:"flex-start",className:"popper-settings"},(0,r.createElement)(l.__experimentalVStack,null,(0,r.createElement)(Yo,null),(0,r.createElement)(Jo,null),(0,r.createElement)($o,null),(0,r.createElement)(ni,null)),(0,r.createElement)(l.__experimentalVStack,null,(0,r.createElement)(Qo,null)))):(0,r.createElement)(A,{text:(0,P.__)("Fetching data…","search-console")})};var ai,oi,ii,li,si,ci,ui,di,mi,pi,fi,hi;function vi(){return vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vi.apply(this,arguments)}var gi=function(e){return r.createElement("svg",vi({xmlns:"http://www.w3.org/2000/svg",width:32,height:28,preserveAspectRatio:"xMidYMid",viewBox:"0 0 256 228"},e),ai||(ai=r.createElement("defs",null,r.createElement("radialGradient",{id:"logo_svg__a",cx:"21.66%",cy:"28.708%",r:"82.87%",fx:"21.66%",fy:"28.708%",gradientTransform:"matrix(.59503 .59486 -.44034 .80383 .214 -.073)"},r.createElement("stop",{offset:"0%",stopColor:"#F1F2F2"}),r.createElement("stop",{offset:"100%",stopColor:"#E6E7E8"})))),oi||(oi=r.createElement("path",{fill:"#737373",d:"M165.98 0H90.02L71.098 19.055V37.98H90.02V19.055h75.958V37.98h18.924V19.055z"})),ii||(ii=r.createElement("path",{fill:"#BFBFBF",d:"M90.02 0v19.055h75.96V0z"})),li||(li=r.createElement("path",{fill:"url(#logo_svg__a)",d:"M36.402 37.98 0 74.381v134.177c0 10.513 8.542 18.924 18.924 18.924h218.152c10.513 0 18.924-8.543 18.924-18.924V74.513L219.466 37.98z"})),si||(si=r.createElement("path",{fill:"#FFF",d:"M28.517 109.076h199.097v118.538H28.517z"})),ci||(ci=r.createElement("path",{fill:"#E0E0E0",d:"M36.402 37.98 0 74.381v34.694h256V74.513L219.466 37.98z"})),ui||(ui=r.createElement("path",{fill:"#D1D1D1",d:"M42.71 213.29H128v14.193H42.71z"})),di||(di=r.createElement("path",{fill:"#4285F4",d:"M28.517 86.998c0-8.148 6.571-14.719 14.72-14.719h169.527c8.148 0 14.719 6.571 14.719 14.719v22.078H28.517z"})),mi||(mi=r.createElement("path",{fill:"#E6E6E6",d:"M56.903 90.152a7.067 7.067 0 0 1-7.096 7.096 7.067 7.067 0 0 1-7.097-7.096 7.067 7.067 0 0 1 7.097-7.097 7.067 7.067 0 0 1 7.096 7.097m23.656 0a7.067 7.067 0 0 1-7.097 7.096 7.067 7.067 0 0 1-7.096-7.096 7.067 7.067 0 0 1 7.096-7.097 7.067 7.067 0 0 1 7.097 7.097"})),pi||(pi=r.createElement("path",{fill:"#BABABA",d:"m227.483 165.191-29.832-29.832-9.988 30.883-40.739-40.608-1.183 62.686 15.113 23.655c2.234-.394-11.302 15.508-11.302 15.508h77.93z"})),fi||(fi=r.createElement("path",{fill:"#4D4D4D",d:"M208.821 164.008c0-16.821-9.856-31.277-23.918-38.242v39.95l-18.792 10.12-19.056-10.12v-40.082c-14.061 6.966-23.655 21.553-23.655 38.243 0 16.821 9.725 31.277 23.787 38.242v25.364h37.848v-25.364c13.93-6.834 23.786-21.42 23.786-38.11"})),hi||(hi=r.createElement("path",{fill:"#D1D1D1",d:"M42.71 123.269h66.366v75.828H42.71z"})))};function Ei({title:e}){return(0,r.createElement)("div",{className:"masthead"},(0,r.createElement)(gi,null),(0,r.createElement)("div",{className:"masthead__branding"},(0,r.createElement)("h1",null,e)))}function wi({title:e}){return(0,r.createElement)("div",{className:"footer"},(0,r.createElement)("div",{className:"inner-container"},(0,r.createElement)("a",{href:"https://github.com/Tropicalista/search-console",target:"_blank"},"Github"),(0,r.createElement)("a",{href:"https://wordpress.org/support/plugin/search-console/",target:"_blank"},(0,P.__)("Support","search-console")),(0,r.createElement)("a",{href:"https://wordpress.org/support/plugin/formello/reviews/#new-post",target:"_blank"},(0,P.__)("Rate ","formello"),(0,r.createElement)(l.Icon,{icon:"star-filled"}),(0,r.createElement)(l.Icon,{icon:"star-filled"}),(0,r.createElement)(l.Icon,{icon:"star-filled"}),(0,r.createElement)(l.Icon,{icon:"star-filled"}),(0,r.createElement)(l.Icon,{icon:"star-filled"}))))}const yi=()=>{const e=C(),{params:t}=(0,i.useContext)(y),n=document.querySelector("#toplevel_page_search-console"),a=()=>{const e=(0,h.getQueryArg)(window.location.href,"page");if(e)for(const t of n.querySelectorAll("a"))e===(0,h.getQueryArg)(t.href,"page")?(t.classList.add("current"),t.parentElement.classList.add("current")):(t.classList.remove("current"),t.parentElement.classList.remove("current"))},o=t=>{t.preventDefault(),e.push({page:(0,h.getQueryArg)(t.target.href,"page")}),a()};return(0,i.useEffect)((()=>(a(),n.addEventListener("click",o,!1),()=>{n.removeEventListener("click",o)})),[]),e.listen((()=>{a()})),"search-console-settings"===t.page?(0,r.createElement)(ri,null):(0,r.createElement)(Go,null)},bi=()=>(0,r.createElement)(Wo,null,(0,r.createElement)(S,null,(0,r.createElement)(Ei,{title:"Search Console"}),(0,r.createElement)(X,null,(0,r.createElement)(yi,null),(0,r.createElement)(Ci,null)),(0,r.createElement)(wi,null)));function Ci(){const e=(0,s.useSelect)((e=>e(c.store).getNotices()),[]),{removeNotice:t}=(0,s.useDispatch)(c.store),n=e.filter((({type:e})=>"snackbar"===e));return(0,r.createElement)(l.SnackbarList,{notices:n,onRemove:t})}window.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("search-console-wrapper");(0,i.createRoot)(e).render((0,r.createElement)(bi,null))}))},485:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var i=a.apply(null,n);i&&e.push(i)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var l in n)r.call(n,l)&&n[l]&&e.push(l)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},20:(e,t,n)=>{"use strict";var r=n(609),a=Symbol.for("react.element"),o=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:s,_owner:i.current}}},848:(e,t,n)=>{"use strict";e.exports=n(20)},731:e=>{var t={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ả:"A",Ạ:"A",Ẩ:"A",Ẫ:"A",Ậ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ẻ:"E",Ẽ:"E",Ẹ:"E",Ể:"E",Ễ:"E",Ệ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ỉ:"I",Ị:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ỏ:"O",Ọ:"O",Ổ:"O",Ỗ:"O",Ộ:"O",Ờ:"O",Ở:"O",Ỡ:"O",Ớ:"O",Ợ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ủ:"U",Ụ:"U",Ử:"U",Ữ:"U",Ự:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ả:"a",ạ:"a",ẩ:"a",ẫ:"a",ậ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ẻ:"e",ẽ:"e",ẹ:"e",ể:"e",ễ:"e",ệ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ỉ:"i",ị:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ỏ:"o",ọ:"o",ổ:"o",ỗ:"o",ộ:"o",ờ:"o",ở:"o",ỡ:"o",ớ:"o",ợ:"o",ù:"u",ú:"u",û:"u",ü:"u",ủ:"u",ụ:"u",ử:"u",ữ:"u",ự:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z",й:"и",Й:"И",ё:"е",Ё:"Е"},n=Object.keys(t).join("|"),r=new RegExp(n,"g"),a=new RegExp(n,"");function o(e){return t[e]}var i=function(e){return e.replace(r,o)};e.exports=i,e.exports.has=function(e){return!!e.match(a)},e.exports.remove=i},63:(e,t,n)=>{"use strict";var r=n(609),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,i=r.useEffect,l=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),a=r[0].inst,u=r[1];return l((function(){a.value=n,a.getSnapshot=t,c(a)&&u({inst:a})}),[e,n,t]),i((function(){return c(a)&&u({inst:a}),e((function(){c(a)&&u({inst:a})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},888:(e,t,n)=>{"use strict";e.exports=n(63)},609:e=>{"use strict";e.exports=window.React}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return r[e](n,n.exports,o),n.exports}o.m=r,e=[],o.O=(t,n,r,a)=>{if(!n){var i=1/0;for(u=0;u<e.length;u++){for(var[n,r,a]=e[u],l=!0,s=0;s<n.length;s++)(!1&a||i>=a)&&Object.keys(o.O).every((e=>o.O[e](n[s])))?n.splice(s--,1):(l=!1,a<i&&(i=a));if(l){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,r,a]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var a=Object.create(null);o.r(a);var i={};t=t||[null,n({}),n([]),n(n)];for(var l=2&r&&e;"object"==typeof l&&!~t.indexOf(l);l=n(l))Object.getOwnPropertyNames(l).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,o.d(a,i),a},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={57:0,350:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,a,[i,l,s]=n,c=0;if(i.some((t=>0!==e[t]))){for(r in l)o.o(l,r)&&(o.m[r]=l[r]);if(s)var u=s(o)}for(t&&t(n);c<i.length;c++)a=i[c],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(u)},n=globalThis.webpackChunksearch_console=globalThis.webpackChunksearch_console||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=o.O(void 0,[350],(()=>o(761)));i=o.O(i)})();