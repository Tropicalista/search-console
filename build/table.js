(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.date,n=window.wp.apiFetch;var o=e.n(n);let a="";const s={siteUrl:"",rowLimit:null,searchType:"web",startDate:(0,t.dateI18n)("Y-m-d",(new Date).setDate((new Date).getDate()-29)),endDate:(0,t.dateI18n)("Y-m-d",(new Date).setDate((new Date).getDate()-1)),dimensions:["page"]},r=[];function i(){window.gapi.client.load("searchconsole","v1").then((()=>{window.gapi.client.setToken(a),window.gapi.client.webmasters.searchanalytics.query(s).then((function(e){e.result.rows.forEach((function(e){r.indexOf(e.keys[0])>-1&&window.jQuery('span[data-url="'+e.keys[0]+'"]').html(c(e))}))})).catch((e=>{401===e.status&&o()({path:"/searchconsole/v1/refresh",method:"POST"}).then((e=>{window.gapi.client.setToken(e)}))}))}))}window.jQuery(document).ready((function(){window.jQuery(".gsc-url").each((e=>{r.push(window.jQuery(this).data("url"))}))})),window.onGoogleScriptLoad=()=>{o()({path:"/searchconsole/v1/settings/"}).then((e=>{a=e.token,s.siteUrl=e.site,window.gapi.load("client",i)}))};const c=e=>{let{clicks:t,position:n,impressions:o,ctr:a}=e;return`\n\t<b>Clicks:</b> ${t}<br />\n\t<b>Position:</b> ${Math.round(100*n)/100}<br />\n\t<b>CTR:</b> ${Math.round(1e4*a)/100}%<br />\n\t<b>Impressions:</b> ${o}<br />`};!function(){const e="google-js",t=document.getElementsByTagName("script")[0];if(document.getElementById(e))return;const n=document.createElement("script");n.id=e,n.src="https://apis.google.com/js/platform.js",n.onload=window.onGoogleScriptLoad,t.parentNode.insertBefore(n,t)}()})();