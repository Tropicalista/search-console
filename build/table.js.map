{"version":3,"file":"table.js","mappings":"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","sources":["webpack://search-console/./src/frontend/chartOptions.js","webpack://search-console/./src/frontend/loadGapi.js","webpack://search-console/webpack/bootstrap","webpack://search-console/webpack/runtime/define property getters","webpack://search-console/webpack/runtime/hasOwnProperty shorthand","webpack://search-console/webpack/runtime/make namespace object","webpack://search-console/./src/frontend/table.js"],"sourcesContent":["export const chartOptions = {\n\twidth: '100%',\n\theight: '400',\n\tcolors: [ '#4285f4', '#5e35b1', '#00897b', '#E8710A' ],\n\t//curveType: 'function',\n\tsmoothline: 'true',\n\tfocusTarget: 'category',\n\tchartArea: {\n\t\t// leave room for y-axis labels\n\t\twidth: '100%',\n\t\theight: '80%',\n\t},\n\thAxis: {\n\t\tshowTextEvery: 1,\n\t\tformat: 'MMM dd',\n\t},\n\tvAxis: {\n\t\tgridlines: {\n\t\t\tcount: 0,\n\t\t\tminSpacing: 100,\n\t\t},\n\t\tminorGridlines: { count: 2 },\n\t\tshowTextEvery: 2,\n\t},\n\tvAxes: {\n\t\t//0: {direction: -1, maxValue:1, textPosition: 'none'},\n\t\t0: { direction: -1, textPosition: 'none' },\n\t\t1: { textPosition: 'none' },\n\t\t2: { textPosition: 'none' },\n\t\t3: { textPosition: 'none' },\n\t},\n\tseries: {\n\t\t0: { type: 'line', targetAxisIndex: 1, tooltip: true },\n\t\t1: { type: 'line', targetAxisIndex: 2, tooltip: true },\n\t\t2: { type: 'line', targetAxisIndex: 3, tooltip: true },\n\t\t3: { type: 'line', targetAxisIndex: 0, tooltip: true },\n\t\t4: { type: 'line', targetAxisIndex: 0, tooltip: true },\n\t},\n};\n","export const loadGoogleScript = () => {\n\t// Loads the Google JavaScript Library\n\t( function () {\n\t\tconst id = 'google-js';\n\t\tconst src = 'https://apis.google.com/js/platform.js';\n\n\t\t// We have at least one script\n\t\tconst firstJs = document.getElementsByTagName( 'script' )[ 0 ];\n\n\t\t// Prevent script from loading twice\n\t\tif ( document.getElementById( id ) ) {\n\t\t\treturn;\n\t\t}\n\t\tconst js = document.createElement( 'script' );\n\t\tjs.id = id;\n\t\tjs.src = src;\n\t\tjs.onload = window.onGoogleScriptLoad;\n\t\tfirstJs.parentNode.insertBefore( js, firstJs );\n\t} )();\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { loadGoogleScript } from './loadGapi';\nimport { chartOptions } from './chartOptions';\n\nconst chart = '';\nlet token = '';\nconst chartQuery = {\n\tsiteUrl: '',\n\trowLimit: null,\n\tsearchType: 'web',\n\tstartDate: moment().subtract( 14, 'days' ).format( 'YYYY-MM-DD' ),\n\tendDate: moment().format( 'YYYY-MM-DD' ),\n\tdimensions: [ 'page' ],\n};\n\nconst allUrls = [];\n\njQuery( document ).ready( function () {\n\tjQuery( '.gsc-url' ).each( function ( index ) {\n\t\tconsole.log( jQuery( this ).data( 'url' ) );\n\t\tallUrls.push( jQuery( this ).data( 'url' ) );\n\t} );\n} );\n\n// callback on gapi loaded\nwindow.onGoogleScriptLoad = () => {\n\tconst _gapi = window.gapi; // set gapi globally\n\n\t// get settings\n\twp.apiRequest( { path: '/searchconsole/v1/settings/' } )\n\t\t.then( ( result ) => {\n\t\t\ttoken = result.token;\n\t\t\tchartQuery.siteUrl = result.site;\n\t\t\tgapi.load( 'client', start );\n\t\t} )\n\t\t.catch( ( error ) => console.log( error.responseText ) );\n};\n\nfunction start() {\n\tgapi.client.load( 'searchconsole', 'v1' ).then( () => {\n\t\tgapi.auth.setToken( { access_token: token } );\n\t\tgetReport();\n\t} );\n}\n\nfunction getReport() {\n\tgapi.client.webmasters.searchanalytics\n\t\t.query( chartQuery )\n\t\t.then( function ( response ) {\n\t\t\tresponse.result.rows.forEach( function ( x ) {\n\t\t\t\tif ( allUrls.indexOf( x.keys[ 0 ] ) > -1 ) {\n\t\t\t\t\tjQuery( 'span[data-url=\"' + x.keys[ 0 ] + '\"]' ).html(\n\t\t\t\t\t\t'<b>Clicks:</b> ' +\n\t\t\t\t\t\t\tx.clicks +\n\t\t\t\t\t\t\t'<br>' +\n\t\t\t\t\t\t\t'<b>Position:</b> ' +\n\t\t\t\t\t\t\tMath.round( x.position * 100 ) / 100 +\n\t\t\t\t\t\t\t'<br>' +\n\t\t\t\t\t\t\t'<b>CTR:</b> ' +\n\t\t\t\t\t\t\tMath.round( x.ctr * 10000 ) / 100 +\n\t\t\t\t\t\t\t'%' +\n\t\t\t\t\t\t\t'<br>' +\n\t\t\t\t\t\t\t'<b>Impressions:</b> ' +\n\t\t\t\t\t\t\tx.impressions\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} );\n\t\t} )\n\t\t.then( null, function ( err ) {\n\t\t\tconsole.log( err );\n\t\t} );\n}\n\nfunction formatData( rows, isTable ) {\n\tconst data = new google.visualization.DataTable();\n\tisTable\n\t\t? data.addColumn( 'string', 'Keyword' )\n\t\t: data.addColumn( 'date', 'Keys' );\n\tdata.addColumn( 'number', 'Clicks' );\n\tdata.addColumn( 'number', 'Impressions' );\n\tdata.addColumn( 'number', 'CTR' );\n\tdata.addColumn( 'number', 'Position' );\n\n\tif ( ! isTable ) {\n\t\tchartOptions.hAxis.format === 'MMM dd';\n\t}\n\n\t_.forEach( rows, function ( row ) {\n\t\tdata.addRow( [\n\t\t\tisTable ? row.keys[ 0 ] : moment( row.keys[ 0 ] ).toDate(),\n\t\t\trow.clicks,\n\t\t\trow.impressions,\n\t\t\trow.ctr * 100,\n\t\t\tparseFloat( row.position ),\n\t\t] );\n\t} );\n\n\treturn data;\n}\n\nloadGoogleScript();\n"],"names":["chartOptions","width","height","colors","smoothline","focusTarget","chartArea","hAxis","showTextEvery","format","vAxis","gridlines","count","minSpacing","minorGridlines","vAxes","direction","textPosition","series","type","targetAxisIndex","tooltip","loadGoogleScript","id","src","firstJs","document","getElementsByTagName","getElementById","js","createElement","onload","window","onGoogleScriptLoad","parentNode","insertBefore","chart","token","chartQuery","siteUrl","rowLimit","searchType","startDate","moment","subtract","endDate","dimensions","allUrls","jQuery","ready","each","index","console","log","data","push","_gapi","gapi","wp","apiRequest","path","then","result","site","load","start","catch","error","responseText","client","auth","setToken","access_token","getReport","webmasters","searchanalytics","query","response","rows","forEach","x","indexOf","keys","html","clicks","Math","round","position","ctr","impressions","err","formatData","isTable","google","visualization","DataTable","addColumn","_","row","addRow","toDate","parseFloat"],"sourceRoot":""}